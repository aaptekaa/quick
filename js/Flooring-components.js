function InitComponentsFromPage(){if(window.jQuery){window.Dlw.DevMode&&(console.debug("data-component-classes initialization"),console.time("data-component-classes initialization"));var e=0;jQuery("[data-component-class]").each((function(){e++,_initializeComponent(jQuery(this))})),window.Dlw.DevMode&&(console.info("data-component-classes initialized: "+e+" components on page"),console.timeEnd("data-component-classes initialization"))}else window.Dlw.DevMode&&window.console.error("jQuery not available, components could not be loaded")}function InitComponentsFromPartialUpdate(e){if(e&&0!=e.length){window.Dlw.DevMode&&(console.debug("data-component-class partially updated element initializations"),console.time("data-component-class partially updated element initializations"));var t=0;e.find("[data-component-class]").addBack("[data-component-class]").each((function(){t++,_initializeComponent(jQuery(this))})),window.Dlw.DevMode&&(console.info("data-component-class initialized "+t+" component(s) from partially updated element"),console.timeEnd("data-component-class partially updated element initializations"))}else window.Dlw.DevMode&&console.debug("data-component-class can't initialize from an empty or non-existing jQuery element, ignoring")}function InitComponentsFromPartialUpdateElement(e){jQuery(e);window.InitComponentsFromPartialUpdate(jQuery(e)),!window.polyfills||window.polyFills.revalidateObjectFit(),!window.blazy||window.blazy.revalidate()}function InitComponentsFromPartialUpdateElementWithJQuery(e){window.InitComponentsFromPartialUpdate(e),!window.polyfills||window.polyFills.revalidateObjectFit(),!window.blazy||window.blazy.revalidate()}function _initializeComponent(e){var t,n,o,r,i,a,s=e.attr("data-component-class");if(""!==s){for(t=s.split("."),n=window[t[0]],o=1;o<t.length&&n;o++)n=n[t[o]];if(!(r=n))return void(window.Dlw.DevMode&&console.error("Couldn't find "+s));if(a=null,i=e.attr("data-component-parm"))try{a=JSON.parse(i)}catch(e){a=i}new r(e,a),window.Dlw.DevMode&&console.debug("data-component-class "+s+" initialized")}}function ResetExistingFormValidation(e){if(0===e.mode.toUpperCase().indexOf("REPLACE")&&e.jTarget&&e.jTarget.length){var t=e.jTarget.closest("FORM");t.length&&(t.removeData("validator"),t.removeData("unobtrusiveValidation"),jQuery.validator.unobtrusive.parse(t))}}var addthis_config,addthis_share,dataLayer,__assign,__spreadArrays,Dlw,__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();(function(e){!function(t){!function(n){var o,r,i=function(){function e(){}return e.addToCartSelector="[data-selector='add-to-cart-trigger']",e.orderSampleTrigger="[data-selector='order-sample-trigger']",e}(),a=function(t){function n(n,o){void 0===o&&(o=null);var r=t.call(this,n)||this;return n&&(r._$element=jQuery(n),r.trackingLabel=o||n.attr("data-component-class")),r.tagManager=e.ScBase.Unilin.TagManagerModule.GTM.getInstance(),r.contentLanguage=jQuery("meta[name='content-language']").attr("content"),r.applicationContext=jQuery("meta[name='application-context']").attr("content"),r}return __extends(n,t),n.prototype.registerEvent=function(e,t,n,o){this.tagManager.registerEvent(this.trackingLabel,e,t,n,o)},n.prototype.registerVirtualPage=function(e){try{this.tagManager.registerEvent("virtualpage",e)}catch(e){console.error("Failed to Register virtual page.")}},n.prototype.registerTransaction=function(e){this.tagManager.registerTransaction(e)},n.prototype.refreshPageEditorControls=function(){null!=window.Sitecore&&Sitecore.PageModes.ChromeManager.resetChromes()},n.prototype.buildControllerUrl=function(e,t,n){return"/services/"+this.applicationContext+"/"+this.contentLanguage+"/"+e+"/"+t+(n?"/"+n:"")},n}(t.Unilin.BaseComponent);n.FlooringBase=a,o=function(e){function t(t,n){void 0===n&&(n=null);var o=e.call(this,t,n)||this;return o.$element=t,o.trackingLabel=n,o.initialize(),o.bindEvents(),o}return __extends(t,e),t.prototype.initialize=function(){this.initShoppingCardManager(),this.initCompareManager()},t.prototype.bindEvents=function(){this.bindAddToShoppingCartEvents(),this.bindCompareEvents()},t.prototype.initShoppingCardManager=function(){this.shoppingCartManager=new n.ShoppingCartManager(this._$element,this.trackingLabel)},t.prototype.initCompareManager=function(){this.compareManager=new n.CompareManager(this._$element)},t.prototype.bindAddToShoppingCartEvents=function(){var e=this;jQuery(i.addToCartSelector,this._$element).on("click",(function(t){return e.onAddToCartTriggered(t)})),jQuery(i.orderSampleTrigger,this._$element).on("click",(function(t){return e.onOrderSampleTriggered(t)}))},t.prototype.bindCompareEvents=function(){var e=this;this._$element.on("click","[data-selector='add-to-compare']",(function(t){return e.onAddToCompareTriggered(t)})),this._$element.on("click","[data-selector='remove-from-compare']",(function(t){return e.onRemoveFromCompareTriggered(t)})),jQuery(document).off("compare-product-replaced.flooringbase"),jQuery(document).on("compare-product-replaced.flooringbase",(function(t,n){return e.onReplaceCompareProduct(t,n)}))},t.prototype.onAddToCartTriggered=function(e){var t=jQuery(e.currentTarget);t&&(e.preventDefault(),1,this.shoppingCartManager.addB2CMaterial(t,1))},t.prototype.onOrderSampleTriggered=function(e){var t=jQuery(e.currentTarget);t&&(e.preventDefault(),this.shoppingCartManager.addB2CSample(t))},t.prototype.onAddToCompareTriggered=function(e){var t,n=this,o=jQuery(e.target).closest("[data-selector='add-to-compare']");o&&(e.preventDefault(),t=o.data("id"))&&this.compareManager.tryAddProduct(t).done((function(e){e.succeed&&n.toggleProductAdded(t)}))},t.prototype.onRemoveFromCompareTriggered=function(e){var t,n=this,o=jQuery(e.target).closest("[data-selector='remove-from-compare']");o&&(e.preventDefault(),t=o.data("id"))&&this.compareManager.removeProduct(t,!1,null).done((function(e){e.succeed&&n.toggleProductRemoved(t)}))},t.prototype.onReplaceCompareProduct=function(e,t){t&&(this.toggleProductRemoved(t.oldProductId),this.toggleProductAdded(t.newProductId))},t.prototype.toggleProductAdded=function(e){jQuery("[data-selector='add-to-compare'][data-id='"+e+"']").hide(),jQuery("[data-selector='remove-from-compare'][data-id='"+e+"']").show()},t.prototype.toggleProductRemoved=function(e){jQuery("[data-selector='remove-from-compare'][data-id='"+e+"']").hide(),jQuery("[data-selector='add-to-compare'][data-id='"+e+"']").show()},t}(a),n.ComponentWithProductActions=o,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(t.Unilin.Breakpoints),n.FlooringBreakpoints=r,null!=r&&(window.breakpoints=new r),null!=t.Unilin.ToastProvider&&(window.toastProvider=new t.Unilin.ToastProvider),null!=t.Unilin.PolyFills&&(window.polyFills=new t.Unilin.PolyFills),document.addEventListener("DOMContentLoaded",(function(){jQuery("body").find('[data-toggle="collapse"]').each((function(e,t){n.FlooringHelpers.toggleSvgOnClassChange(jQuery(t),"collapsed")}))}))}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))})(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function n(){}return n.showFullScreenWaitPanel=function(e){void 0===e&&(e=!0);var t=this.getWaitPanel(),n=t.find("div[data-selector='full-page-wait-panel-spinner']");t.css({width:jQuery(window).width(),height:jQuery(window).height()}).show(),e?n.show():n.hide()},n.hideWaitPanel=function(){var e=this.getWaitPanel();null!=e&&e.hide()},n.renderEmailTextField=function(e,t){var n=t;null!=e&&(e.preventDefault(),n=jQuery(e.target)),0!==n.length&&n.hasAttr("data-email")&&(window.location.href="mailto:"+n.data("email"))},n.enableButtonBehaviorForDiv=function(e,t){var n=this;e.keyup((function(e){return n.executeOnEnterAndSpace(e,t)})),e.click((function(e){return t(e)}))},n.executeOnEnterAndSpace=function(e,t){(13===e.keyCode||32===e.keyCode)&&t(e)},n.getWaitPanel=function(){var e,t=function(){return jQuery("body").find("div[data-selector='full-page-wait-panel']")};return 0===t().length&&(e=jQuery("<div data-selector='full-page-wait-panel' style='display: none;' class='full-page-wait-panel' data-webid='full-page-wait-panel'><div class='loader' data-selector='full-page-wait-panel-spinner'><span></span></div></div>"),jQuery("body").append(e)),t()},n.logErrorToConsole=function(e){window.console.error(e)},n.logWarningToConsole=function(e){window.console.warn(e)},n.getJsonScript=function(e){var t=jQuery(e).filter("script[type=json]");return t.length?JSON.parse(t[0].innerHTML):void 0},n.toggleErrorBox=function(e){e.find("ul span").text().length<1?e.hide():e.show()},n.startFloorAdvisor=function(e,n){e.preventDefault();var o=jQuery(e.target);t.FloorAdvisorManager.getInstance().openFloorAdvisor(o,n)},n.replaceImage=function(e){e.prev("[data-selector='image-to-replace']").hide().remove(),e.show()},n.showNotification=function(e,t){e&&t&&(e.html(t),e.show())},n.hideNotification=function(e){e.html(""),e.hide()},n.getLongLat=function(e,t){var n=jQuery.Deferred();if(t)try{e.geocode({address:t},(function(e,t){t===google.maps.GeocoderStatus.OK?n.resolve(e):n.reject()}))}catch(e){n.reject()}else n.reject();return n.promise()},n.buildAddressFromUserData=function(e){return n.buildAddress(e.Street,e.HouseNumber,e.PostalCode,e.City,e.Country)},n.buildAddress=function(e,t,n,o,r){var i=[e,t,n,o,r];return(i=i.filter((function(e){return null!=e&&null!=e&&e.length>0})))&&i.length>1?i.join(" "):null},n.getFloatValue=function(e){var t=String(e).replace(",",".");return parseFloat(t)},n.stripNonWordCharacters=function(e,t){if(!e)return"";var n=e.replace(/\W/g,"");return t?n.toLowerCase():n},n.mergeUnexistingQuerystringParametersFromCurrentUrl=function(e,t){var n,o,r,i,a,s=window.location.search;if(!s||!e)return e;for(n=(s=s.substring(1)).split("&").map((function(e){return e.split("=")})),o=0;o<n.length;o++)(r=n[o])&&2===r.length&&(i=r[0],a=r[1],i&&a)&&(t&&-1!==t.indexOf(i)||-1===e.indexOf(i)&&(e+="&"+i+"="+a));return e},n.disableBodyScroll=function(e){var t,n,o;e?(t=document.documentElement.scrollHeight>document.documentElement.clientHeight,n="-"+(document.body.scrollTop||document.documentElement.scrollTop)+"px",document.body.style.top=n,document.body.style.width="100%",document.body.style.overflowY=t?"scroll":"hidden",document.body.style.position="fixed"):(o=-parseInt(document.body.style.top.replace("px","")),document.body.style.width="",document.body.style.overflowY="",document.body.style.position="",NaN!==o&&(document.body.scrollTop=o,document.documentElement.scrollTop=o),document.body.style.top="")},n.toggleSvgOnClassChange=function(t,n,o,r,i){if(void 0===o&&(o="#chevron-up"),void 0===r&&(r="#chevron-down"),void 0===i&&(i=null),t&&t.length){var a=(i=i&&i.length?i.find("use").addBack("use"):t.find("svg use")).attr("href");!a||a.indexOf(r)<0&&a.indexOf(o)<0||e.Unilin.UnilinHelpers.attachObserver(t,(function(e){for(var t=0,a=e;t<a.length;t++){var s=a[t],l=jQuery(s.target).hasClass(n)?r:o;i.attr("xlink:href",l).attr("href",l)}}),{attributes:!0,attributeFilter:["class"],childList:!1,subtree:!1})}},n}();t.FlooringHelpers=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(t){var n=this;t?(this.baseUrl=ko.observable(t.baseUrl),this.materialList=ko.observableArray(t.materialList)):(this.baseUrl=ko.observable(""),this.materialList=ko.observableArray([])),this.floorAdvisorLink=ko.computed((function(){return e.FloorAdvisorManager.generateLink({baseUrl:n.baseUrl(),materialList:n.materialList()})}))}return t.prototype.updateFloorAdvisorLink=function(e,t){var n;void 0===t&&(t=!1),e&&(this.baseUrl()!==e.baseUrl&&this.baseUrl(e.baseUrl),t?(n=this.materialList).push.apply(n,e.materialList):this.materialList(e.materialList))},t}();e.FloorAdvisorLinkUpdatable=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n,o,r,i,a=function(){function t(e,t){void 0===t&&(t=!0),this.knownQueryStrings=e,this.pushHistory=t,this.updateHistory(t,!0)}return t.prototype.updateHistoryWithJqueryElement=function(e,t,n){void 0===t&&(t=!1),e&&this.updateHistoryInternal(t,n.val())},t.prototype.updateHistoryWithQuery=function(e,t,n){void 0===t&&(t=!1),e&&this.updateHistoryInternal(t,n)},t.prototype.updateHistory=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n="#currentQuery"),e){var o=jQuery(n);this.updateHistoryInternal(t,o.val())}},t.prototype.updateHistoryInternal=function(t,n){if(void 0===t&&(t=!1),history.pushState){var o=window.location.toString(),r=o.indexOf("?");r>-1&&(o=o.substr(0,r)),o=o+"?"+(n=e.FlooringHelpers.mergeUnexistingQuerystringParametersFromCurrentUrl(n,this.knownQueryStrings)),t?history.replaceState(n,null,o):history.pushState(n,null,o)}},t}();t.ListerComponentVm=a,n=function(t){function n(e,n,o,r,i,a,s,l,c){void 0===l&&(l=0),void 0===c&&(c="");var u=t.call(this,s)||this;return u.updateUrl=r,u.listId=i,u.infiniteScroll=a,u.initialRendering=!0,u.updating=!0,u.infiniteScroll=a,u.updateUrl=r,u.facetMap=u.createFacetMap(l,c),u.facetMap.update(n,null),u.updating=!1,u.totalCount=ko.observable(o),u}return __extends(n,t),n.prototype.facetMapAndListUpdate=function(e,t,n,o,r){void 0===r&&(r=" "),this.updating=!0,null==o&&(o=!0),null==n&&(n=jQuery("#currentQuery").val().toString()),""===r&&(r=" ");var i={currentQuery:n,facet:e?e.name:null,facetValue:t?t.key:null,selectFacetValue:!!t&&t.selected(),searchText:r};this.doAjaxRequest(e,o,i)},n.prototype.doAjaxRequest=function(t,n,o){var r=this;window.$http.post(this.updateUrl,o).done((function(o){jQuery(r.listId).replaceWith(o.html);var i=o.json;i&&(r.facetMap.update(i.facetMap,t),r.totalCount(i.totalCount)),r.updateHistory(n),r.updating=!1,r.initialRendering=!1,window.polyFills&&window.polyFills.revalidateObjectFit(),r.infiniteScroll&&r.infiniteScroll.reset(),e.BlazyImage.revalidate()}))},n.prototype.createFacetMap=function(e,t){return new o(this,t)},n}(a),t.ListerComponentWithFacetmapVm=n,o=function(){function e(e,t){this.component=e,this.facets=[],this.currentSearch=ko.observable(t||""),this.selectedFilters=ko.observableArray()}return e.prototype.update=function(e){var t,n,o,r,i,a,s;for(this.facetMap=e,t=this.facets,n=[],o=0;o<e.facets.length;o++){for(r=null,a=0;a<this.facets.length;a++)this.facets[a].facet.name.toUpperCase()===e.facets[o].name.toUpperCase()&&(r=this.facets[a]);for(r?r.update(e.facets[o]):(r=this.createFacet(this.component,e.facets[o]),this.facets.push(r)),t=t.filter((function(e){return e!==r})),i=r.facetValues(),a=0;a<i.length;a++)(s=i[a]).selected()&&n.push(s)}this.selectedFilters(n)},e.prototype.getFacetVm=function(e){return this.facets.filter((function(t){return t.facet.name.toUpperCase()===e.toUpperCase()}))[0]},e.prototype.clearFilters=function(){var e,t,n;for(this.component.updating=!0,e=0;e<this.facets.length;e++)for(t=this.facets[e].facetValues(),n=0;n<t.length;n++)t[n].selected(!1);this.currentSearch(""),this.component.updating=!1,this.component.facetMapAndListUpdate(null,null,"",!0)},e.prototype.createFacet=function(e,t){return new r(e,t)},e}(),t.FacetMapVm=o,r=function(){function e(e,t){var n=this;this.component=e,this.facet=t,this.facetValues=ko.observableArray([]),this.selectedValue=ko.observable(),this.selectedValue.subscribe((function(e){return n.singleSelectToggle(e)})),this.displayName=t.displayName?t.displayName:t.name,this.update(t)}return e.prototype.update=function(e){for(var t,n,o,r,i=this.facetValues(),a=!1,s=0;s<e.values.length;s++){for(t=null,n=0;n<this.facetValues().length;n++)this.facetValues()[n].key.toUpperCase()===e.values[s].key.toUpperCase()&&(t=this.facetValues()[n]);if(t)r=e.values[s],t.update(e.values[s],e),r.selected&&(a=!0);else{if((t=this.createFacetValue(this.component,e,e.values[s])).hidden)continue;t.selected()&&(a=!0,this.selectedValue(t.key)),this.component.appendNewFacetValues?this.facetValues.push(t):(o=this.facetValues().length-(i.length+s),this.facetValues.splice(s-o,0,t))}i=i.filter((function(e){return e!==t}))}i.forEach((function(e){return e.resetCounter()})),a||this.selectedValue(""),this.component.initialRendering&&(this.collapsed=e.collapsed&&0===e.values.filter((function(e){return e.selected})).length)},e.prototype.singleSelectToggle=function(e){var t,n;if(!this.component.updating){for(this.component.updating=!0,n=0;n<this.facetValues().length;n++)this.facetValues()[n].key!==e?this.facetValues()[n].selected(!1):t=this.facetValues()[n];this.component.updating=!1,t?t.selected(!0):this.reset()}},e.prototype.reset=function(){this.component.updating||(this.component.updating=!0,this.facetValues().forEach((function(e){e.selected(!1)})),this.component.updating=!1,this.component.facetMapAndListUpdate(this.facet,null,null,!0))},e.prototype.createFacetValue=function(e,t,n){return new i(e,t,n)},e}(),t.FacetVm=r,i=function(){function e(e,t,n){var o,r=this;this.component=e,this.facet=t,this.facetValue=n,(o=this).selected=ko.observable(),o.count=ko.observable(),o.update(n,t),o.selected.subscribe((function(e){return r.selectionChanged(e)})),o.enabled=ko.computed((function(){return r.selected()||r.count()>0})),o.filterLabel=n.filterLabel,o.hasImage=ko.computed((function(){return""!==r.iconImageUrl}))}return e.prototype.selectionChanged=function(e){this.component.updating||(this.selected(e),this.component.facetMapAndListUpdate(this.facet,this,null,!0,this.component.facetMap.currentSearch()))},e.prototype.update=function(e,t){this.id=t.name+e.key,this.key=e.key,this.displayName=e.displayName,this.selected(e.selected),this.count(e.count),this.filterLabel=e.filterLabel,this.hidden=e.hidden,this.description=e.description,this.iconImageUrl=e.iconImageUrl,this.iconCssClass=e.iconCssClass},e.prototype.unselect=function(){this.selected(!1)},e.prototype.resetCounter=function(){this.count(0)},e}(),t.FacetValueVm=i}(e.Lister||(e.Lister={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(n){var o=function(n){function o(e,o,r,i){var a=n.call(this,e,o)||this;return a.$scope=e,a.productCardsSelector=r,a.attributeQuery={},a.updateAttributeQuery(),t.FlooringGtmHelpers.bindProductClickEvent(a.$scope,a.trackingLabel),i&&t.FavoriteFloorsManager.initialize(a.$scope),a}return __extends(o,n),o.prototype.initInfiniteScroll=function(t,n,o){var r=this;this.updateAttributeQuery(),this.infiniteScroll?this.infiniteScroll.reset():this.infiniteScroll=new e.Unilin.InfiniteScroll({elementSelector:this.productCardsSelector,loadMoreFunction:function(){return r.updateLister(t,o)},namespace:n,offset:0})},o.prototype.isLoadMoreEnabled=function(){return this.attributeQuery.pageNumber>0},o.prototype.updateLister=function(e,n){var o=this,r=jQuery.Deferred();return this.infiniteScroll?0===this.attributeQuery.pageNumber?(this.infiniteScroll.stopListening(),r.resolve()):(window.$http.post(e,this.attributeQuery).done((function(e){var i,a;return e&&e.json&&e.json.succeed&&e.html?(i=jQuery(e.html),o.updateAttributeQuery(i),(a=o.$scope.find(o.productCardsSelector).children().first()).length>0&&(i.prepend(a.children()),a.replaceWith(i)),t.BlazyImage.revalidate(),n&&n.apply(o,[e]),r.resolve()):r.reject()})).fail((function(){return r.reject()})),r):r.reject()},o.prototype.updateAttributeQuery=function(e){e&&e.length||(e=this.$scope.find("[data-query]").first()),e.length&&(this.attributeQuery.currentQuery=e.data("query"),this.attributeQuery.pageNumber=e.data("nextpage")||0)},o}(t.ComponentWithProductActions);n.ProductCardGrid=o}(t.Commerce||(t.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t){var n=e.call(this,t,"jsSublayout")||this;return n.executeAutosize(),n.executeMatchSublayoutRows(),n}return __extends(t,e),t.prototype.executeAutosize=function(){var e,t=this._$element.data("autosize");t&&"True"===t&&(!(e=this._$element.find("div[class='row']"))||e.length<=0||e.first().children("div[class*='col']").children().matchHeight())},t.prototype.executeMatchSublayoutRows=function(){var e,t,n,o=this._$element.data("matchsublayoutrows");if(o&&"True"===o&&((e=this._$element.find("div[class='row']"))&&!(e.length<=0))){var r=e.first().children("div[class*='col']"),i=0;for(r.each((function(){i=Math.max(i,jQuery(this).children().length)})),t=0;t<i;t++)n=jQuery(),r.each((function(){jQuery(this).children().length>t&&(n=n.add(jQuery(this).children().eq(t)))})),n.matchHeight()}},t}(e.FlooringBase);e.Sublayout=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(e){var t,n,o,r,i,a,s=function(){};e.BaseEvent=s,t=function(e){function t(){var t=e.call(this)||this;return t.event=c.CLICK,t}return __extends(t,e),t}(s),e.OutboundClickEvent=t,n=function(){function e(){}return e.PAGE_READY="page_ready",e.USER_IDENTIFICATION="user_identification",e.CRM_IDENTIFICATION="crm_identification",e.FLOOR_LISTER_INITIATED="floor_lister_initiated",e.FLOOR_LISTER_FILTER_APPLIED="floor_lister_filter_applied",e.FLOOR_LISTER_FILTER_REMOVED="floor_lister_filter_removed",e.PRODUCT_FILTER_APPLIED="product_filter_applied",e.PRODUCT_FILTER_REMOVED="product_filter_removed",e.PRODUCT_FILTER_SEARCHED="product_filter_searched",e.DESIGN_LISTER_INITIATED="design_lister_initiated",e.DESIGN_LISTER_FILTER_APPLIED="design_lister_filter_applied",e.DESIGN_LISTER_FILTER_REMOVED="design_lister_filter_removed",e.COLLECTION_LISTER_INITIATED="collection_lister_initiated",e.COLLECTION_LISTER_FILTER_APPLIED="collection_lister_filter_applied",e.COLLECTION_LISTER_FILTER_REMOVED="collection_lister_filter_removed",e.COLLECTION_LISTER_LOAD_MORE="collection_lister_load_more",e.PROJECT_LISTER_INITIATED="project_lister_initiated",e.PROJECT_LISTER_FILTER_APPLIED="project_lister_filter_applied",e.PROJECT_LISTER_FILTER_REMOVED="project_lister_filter_removed",e.PROJECT_LISTER_LOAD_MORE="project_lister_load_more",e.ARTICLES_LISTER_INITIATED="articles_lister_initiated",e.ARTICLES_LISTER_FILTER_APPLIED="articles_lister_filter_applied",e.ARTICLES_LISTER_FILTER_REMOVED="articles_lister_filter_removed",e.ARTICLES_LISTER_LOAD_MORE="articles_lister_load_more",e.DOCUMENT_LISTER_INITIATED="document_library_lister_initiated",e.DOCUMENT_LISTER_FILTER_APPLIED="document_library_lister_filter_applied",e.DOCUMENT_LISTER_FILTER_REMOVED="document_library_lister_filter_removed",e.DOCUMENT_LISTER_LOAD_MORE="document_lister_load_more",e.FILE_DOWNLOAD="file_download",e.VIEW_DOCUMENT_LIST="view_item_list",e.VIEW_DOCUMENT_ITEM="view_item",e.DOCUMENT_ADDED_TO_CART="add_to_cart",e.DOCUMENT_REMOVED_FROM_CART="remove_from_cart",e.DOCUMENT_PURCHASE="purchase",e.FIND_A_DEALER_INITIATED="find_a_dealer_initiated",e.FIND_A_DEALER_IMPRESSION="find_a_dealer_impression",e.FIND_A_DEALER_WEBSITE="find_a_dealer_website",e.FIND_A_DEALER_SEARCH="find_a_dealer_search",e.FIND_A_DEALER_APPOINTMENT="find_a_dealer_appointment",e.FIND_A_DEALER_CALL="find_a_dealer_call",e.FAQ_FEEDBACK_SUBMITTED="FAQ_feedback_submitted",e.CONTACT_FORM_SUBMITTED="contact_form_submitted",e.NEWSLETTER_SUBSCRIPTION="newsletter_subscription",e.SAMPLE_REQUEST_INITIATED="sample_request_initiated",e.GA4_ITEM_ADD_TO_CART="ga4_item_add_to_cart",e.GA4_ITEM_REMOVED_FROM_CART="ga4_item_removed_from_cart",e.GA4_VIEW_CART="ga4_view_cart",e.GA4_BEGIN_CHECKOUT="ga4_begin_checkout",e.GA4_ADD_PAYMENT_INFO="ga4_add_payment_info",e.GA4_PURCHASE="ga4_purchase",e.VIEW_ITEM_LIST="view_item_list",e.SELECT_ITEM="select_item",e.VIEW_ITEM="view_item",e.ADD_TO_CART="add_to_cart",e.REMOVE_FROM_CART="remove_from_cart",e.VIEW_CART="view_cart",e.BEGIN_CHECKOUT="begin_checkout",e.SHIPPING_INFO_ADDED="shipping_info_added",e.ORDER_SUMMARY="order_summary",e.PURCHASE="purchase",e.SOCIAL_NETWORK_CLICKED="social_network_clicked",e.SEARCH="search",e}(),e.EventConstants=n;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(s),c=function(){function e(){}return e.VIRTUAL_PAGEVIEW="virtual_pageview",e.PAGE_READY="page_ready",e.CLICK="click",e}(),u=function(){};e.EcommerceItemWithoutPrice=u,o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(u),e.EcommerceItem=o,r=function(){},e.EcommerceWithoutPrice=r,i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(r),e.Ecommerce=i,a=function(){function e(t,n){this.$element=t,this.tempDataLayer=[],this.ga4Base=n,this.oneTrustCheck=this.ga4Base.oneTrustEnabled,this.oneTrustCheck&&this.ensureOneTrust(),this.trackOutboundClick(),this.visitPageEvent(),e.instance=this}return e.getInstance=function(){return e.instance},e.prototype.visitPageEvent=function(){var e=new s;e.event=c.PAGE_READY,this.pushEvent(e)},e.prototype.pushVirtualPageEvent=function(e,t){var n=new l;n.event=c.VIRTUAL_PAGEVIEW,n.virtual_page_title=t,n.virtual_page_url=e,this.pushEvent(n)},e.prototype.pushEvent=function(e){e&&(e.visitor_id=this.ga4Base.visitorId,e.page_language=this.ga4Base.pageLanguage,e.country=this.ga4Base.country,e.brand_id=this.ga4Base.brandId,e.page_location=window.location.href,e.page_title=document.title,window.dataLayer=window.dataLayer||[],this.oneTrustCheck&&!this.oneTrustLoaded()?this.tempDataLayer.push(e):window.dataLayer.push(e))},e.prototype.ensureOneTrust=function(){var e=this;this.interval=setInterval((function(){var t;e.oneTrustCheck&&e.oneTrustLoaded()&&(e.tempDataLayer.length&&(t=window.dataLayer).push.apply(t,e.tempDataLayer),e.tempDataLayer=[],e.oneTrustCheck=!1),e.oneTrustCheck||clearInterval(e.interval)}),100)},e.prototype.oneTrustLoaded=function(){return!!window.dataLayer&&window.dataLayer.filter((function(e){return"OneTrustLoaded"==e.event})).length>0},e.prototype.trackOutboundClick=function(){var e=this;document.addEventListener("click",(function(n){var o,r,i=n.target,a=null==i?void 0:i.closest("a");return!(a&&a.href&&"A"===a.tagName&&!a.hasAttribute("data-fancybox"))||((o=document.createElement("a")).href=a.href,o.host===window.location.host||((r=new t).link_classes=a.className,r.link_domain=o.host,r.link_id=a.id,r.link_url=a.href,r.outbound=!0,e.pushEvent(r),setTimeout((function(){var e;"_blank"===(null===(e=a.target)||void 0===e?void 0:e.toLowerCase())&&"function"==typeof open?window.open(a.href,"_blank"):window.location.href=a.href})),n.preventDefault()),!0)}))},e}(),e.GA4=a}(e.GA4||(e.GA4={}))}(e.Features||(e.Features={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(t){var n,o;!function(e){e.WebActivity="Web Activity"}(n=t.WebClientEventType||(t.WebClientEventType={})),o=function(e){function t(n,o){var r=e.call(this,n)||this;return r.$element=n,window.gigya?(window.gigya.cdp.init({apiDomain:o.apiDomain,bUnitId:o.bUnitId,appId:o.appId}).then((function(e){return r.CDPClient=e})),t.instance=r,r):(console.log("CDP not loaded..."),r)}return __extends(t,e),t.getInstance=function(){return t.instance},t.prototype.logWebActivity=function(e){e&&this.CDPClient.report(n.WebActivity,e)},t}(e.Unilin.BaseComponent),t.SapCDP=o}(t.SapCDP||(t.SapCDP={}))}(e.Features||(e.Features={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function n(t,n){this.$element=t,this.settings=n,this.currentPosition=null,this.currentAddress="",this.currentCountry="",e.Unilin.GoogleMapsLoader.isGooglePlacesLoaded()&&(this.googleGeoCoder=new google.maps.Geocoder),this.$autocompleteBox=t,this.useAutocomplete=!this.settings.disableLocatorAutoComplete,n.initLocation?this.initLocation():this.renderFallbackLocation(),this.$autocompleteBox.keyup(jQuery.proxy(this.performSearchOnEnter,this))}return n.prototype.initLocation=function(){var t=this;e.Unilin.GeoLocationService.GetGeoLocation((function(e){return t.geoLocationCallback(e)}),(function(){return t.geoNavigatorErrorCallback}),(function(e){return t.geoLocationErrorCallback(e)}))},n.prototype.initAutocomplete=function(){var t,n;if(this.useAutocomplete&&e.Unilin.GoogleMapsLoader.isGooglePlacesLoaded())try{t=["(cities)"],this.settings.enableAutoCompleteOnPostalCode&&(t=["(regions)"]),n={types:t,componentRestrictions:{country:""===this.currentCountry?this.settings.siteCountryCode:this.currentCountry}},this.autoComplete=new google.maps.places.Autocomplete(this.$autocompleteBox[0],n),this.settings.autoSubmit&&google.maps.event.addListener(this.autoComplete,"place_changed",jQuery.proxy(this.onPlaceChanged,this))}catch(e){console.error("Failed to initialize AddressAutocomplete:"),console.error(e)}},n.prototype.clearInput=function(){this.$autocompleteBox.val(""),this.$autocompleteBox.focus()},n.prototype.onPlaceChanged=function(){var e=this.autoComplete.getPlace();e&&e.geometry&&this.navigateToFad(null)},n.prototype.performSearchOnEnter=function(e){13===e.keyCode&&this.navigateToFad(e)},n.prototype.navigateToFad=function(n){var o,r,i,a;if(n&&n.preventDefault(),this.currentAddress===this.$autocompleteBox.val()){var s=void 0,l=void 0,c="";this.currentPosition&&this.currentAddress.length>0&&(s=this.currentPosition.coords.latitude,l=this.currentPosition.coords.longitude,c=this.currentAddress),!isNaN(s)&&!isNaN(l)&&c.length>0||isNaN(this.settings.fallbackLatitude)||isNaN(this.settings.fallbackLongitude)||!(this.settings.fallbackCity.length>0)||(s=this.settings.fallbackLatitude,l=this.settings.fallbackLongitude,c=this.settings.fallbackCity),!isNaN(s)&&!isNaN(l)&&c.length>0&&(r="",(o=this.settings.fadUrl.split("?")).length>1&&(r=o[1]),i=new URLSearchParams(r),(a=new Map).set(t.FindPartnerConstants.QueryParameters.latitude,""+s),a.set(t.FindPartnerConstants.QueryParameters.longitude,""+l),a.set(t.FindPartnerConstants.QueryParameters.address,c),a.set(t.FindPartnerConstants.QueryParameters.country,this.currentCountry),i=e.Unilin.UnilinHelpers.addOrUpdateUrlParams(i,a),window.location.href=o[0]+"?"+i.toString())}else r="",(o=this.settings.fadUrl.split("?")).length>1&&(r=o[1]),i=new URLSearchParams(r),(a=new Map).set(t.FindPartnerConstants.QueryParameters.address,this.$autocompleteBox.val()),a.set(t.FindPartnerConstants.QueryParameters.country,""===this.currentCountry?this.settings.siteCountryCode:this.currentCountry),i=e.Unilin.UnilinHelpers.addOrUpdateUrlParams(i,a),window.location.href=o[0]+"?"+i.toString()},n.prototype.geoLocationCallback=function(t){var n=this;e.Unilin.GeoLocationService.getAddressByGeoLocation(this.googleGeoCoder,t.coords.latitude,t.coords.longitude).done((function(e){var o,r,i,a=e.find((function(e){return"locality"===e.types[0]})),s=e.find((function(e){return"country"===e.types[0]}));a&&s&&(o=a.address_components.find((function(e){return"locality"===e.types[0]})),r=s.address_components.find((function(e){return"country"===e.types[0]})),o&&r&&(i=r.short_name,-1!=n.settings.availableCountryCodes.indexOf(i)&&(n.currentAddress=o.long_name,n.$autocompleteBox.val(n.currentAddress),n.currentPosition=t,n.currentCountry=r.short_name))),""!==n.currentAddress?n.initAutocomplete():n.renderFallbackLocation()})).fail((function(){return n.renderFallbackLocation()}))},n.prototype.geoLocationErrorCallback=function(){this.renderFallbackLocation()},n.prototype.geoNavigatorErrorCallback=function(){this.renderFallbackLocation()},n.prototype.renderFallbackLocation=function(){this.settings.fallbackCity.length>0&&this.settings.fallbackCountryCode.length>0&&(this.currentAddress=this.settings.fallbackCity,this.currentCountry=this.settings.fallbackCountryCode,this.$autocompleteBox.val(this.currentAddress)),this.initAutocomplete()},n}();t.AddressAutocomplete=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n,o=1,r=arguments.length;o<r;o++)for(n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},function(e){!function(t){!function(n){var o,r,i,a,s,l=function(e){function t(t,n){var o=e.call(this)||this;return o.filters=t,o.filter_match_count=n,o}return __extends(t,e),t}(e.ScBase.Features.GA4.BaseEvent),c=function(e){function t(t,n,o,r,i,a){var s=e.call(this,r,a)||this;return s.filter_name=t,s.filter_value=n,s.filter_price_type=o,s.filter_index=i,s}return __extends(t,e),t}(l),u=function(e){function t(t,o,r,i,a,s){var l=e.call(this,t,o,r,i,a,s)||this;return l.event=n.GA4Constants.Events.FLOOR_LISTER_FILTER_APPLIED,l}return __extends(t,e),t}(c),p=function(e){function t(t,o,r,i,a,s){var l=e.call(this,t,o,r,i,a,s)||this;return l.event=n.GA4Constants.Events.FLOOR_LISTER_FILTER_REMOVED,l}return __extends(t,e),t}(c),d=function(e){function t(t,o,r){var i=e.call(this,t,o)||this;return i.event=n.GA4Constants.Events.FLOOR_LISTER_RESULTS_SORTED,i.sort_method=r,i}return __extends(t,e),t}(l),h=function(r){function i(e,t,n,i,a,s,l,c){var u=r.call(this,null)||this;return u.query=e,u.updateUrl=i,u.bulkUpdateUrl=a,u.floorTypes=s,u.knownQueryStringParameters=c,u.initialRendering=!0,u.totalCount=ko.observable(),u.updating=!0,u.updateUrl=i,u.facetMap=new o(u,s,l),u.facetMap.update(t,null),u.updating=!1,u.totalCount(n),u.updateHistory(!0,!0),u}return __extends(i,r),i.prototype.facetMapAndListUpdate=function(e,t,n,o,r){this.bulkFacetMapAndListUpdate(e,[t],n,o,r)},i.prototype.bulkFacetMapAndListUpdate=function(e,t,n,o,r){var a,s,l,c,u;if(this.updating=!0,null==r&&(r=!0),null==o&&(o=jQuery("#currentQuery").val().toString()),""===n&&(n=" "),t&&t.length>0){for(a=[],s=0,l=t;s<l.length;s++)c=l[s],u=e?e.name:null,i.isFloorTypeRange(u)&&(u=i.floorTypeRangeAttribute),a.push({currentQuery:o,facet:u,facetValue:c?c.key:null,selectFacetValue:!!c&&c.selected(),searchText:n});this.doAjaxRequest(e,r,a)}},i.isFloorTypeRange=function(e){if(!e)return!1;var t=e.toUpperCase().match("("+i.floorTypeRangeAttribute.toUpperCase()+")_(.*)");return t&&t.length>=2},i.prototype.doAjaxRequest=function(e,t,n){var o=this,r=n&&n.length>1,i=r?this.bulkUpdateUrl:this.updateUrl,a=r?n:n[0];this.$http.post(i,a).done((function(r){var i=o.processAjaxResponse(r);i&&(o.facetMap.update(i.facetMap,e),o.totalCount(i.totalCount)),o.updateHistory(t),o.revalidateImages(),o.updating=!1,o.initialRendering=!1,o.pushGA4Event(n,e)}))},i.prototype.pushGA4Event=function(t,n){var o=this,r=e.ScBase.Features.GA4.GA4.getInstance();t.forEach((function(e){var t;t=e.searchText?new u("search",e.searchText,"",o.getGA4Filters(n),o.getGA4FacetIndex(e.facet),o.totalCount().toString()):e.selectFacetValue?new u(e.facet,e.facetValue,"",o.getGA4Filters(n),o.getGA4FacetIndex(e.facet),o.totalCount().toString()):new p(e.facet,e.facetValue,"",o.getGA4Filters(),o.getGA4FacetIndex(e.facet),o.totalCount().toString()),null==r||r.pushEvent(t)}))},i.prototype.getGA4Filters=function(e){void 0===e&&(e=void 0);var t=[];return this.facetMap.filtersList().forEach((function(n){var o,r,i,a;e&&e.id==(null===(o=n.facet)||void 0===o?void 0:o.id)||(a="",(null===(r=n.facet)||void 0===r?void 0:r.abbreviatedName)?a=n.facet.abbreviatedName:(null===(i=n.facet)||void 0===i?void 0:i.name)&&(a=n.facet.name),a&&t.push(a.concat(":",n.facetValue.key)))})),t.join("+")},i.prototype.getGA4FacetIndex=function(e){return(this.facetMap.facets.findIndex((function(t){return t.facet.name==e}))+1).toString()},i.prototype.processAjaxResponse=function(e){var n=t.Unilin.UnilinHelpers.parseHtmlAndJson(e);return jQuery("#productList").html(n.html),n.json},i.prototype.updateHistory=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o="#currentQuery"),history.pushState&&e){var r=jQuery(o).val(),i=window.location.toString(),a=i.indexOf("?");a>-1&&(i=i.substr(0,a)),i=i+"?"+n.FlooringHelpers.mergeUnexistingQuerystringParametersFromCurrentUrl(r,this.knownQueryStringParameters),t?history.replaceState(r,null,i):history.pushState(r,null,i)}},i.prototype.revalidateImages=function(){window.polyFills.revalidateObjectFit(),n.BlazyImage.revalidate()},i.prototype.updateGASortEvent=function(){var t=new URL(window.location.toString()).searchParams,n=t.get("sort"),o=t.get("sort_type"),r=e.ScBase.Features.GA4.GA4.getInstance(),i=new d(this.getGA4Filters(),this.totalCount().toString(),n.concat("_",o));r.pushEvent(i)},i.prototype.setCollapseState=function(e){var t,n;for(this.facetMap.floorTypeRangeCollapseVm.setState(e),this.facetMap.searchCollapseVm.setState(e),t=0,n=this.facetMap.facets;t<n.length;t++)n[t].collapseVm.setState(e)},i.prototype.resetCollapseState=function(){var e,t;for(this.facetMap.floorTypeRangeCollapseVm.reset(),this.facetMap.searchCollapseVm.reset(),e=0,t=this.facetMap.facets;e<t.length;e++)t[e].collapseVm.reset()},i.floorTypeRangeAttribute="FloorTypeRange",i}(t.Unilin.BaseComponent);n.ComponentVm=h,o=function(){function e(e,t,n){this.component=e,this.floorTypes=t,this.showMoreCount=n,this.facets=[],this.searchText=ko.observable(),this.filtersList=ko.observableArray(),this.showFacets=ko.observable(),this.showAllFacetsOnMobile=ko.observable(),this.initFacetMap(),this.searchCollapseVm=new s(!1),this.floorTypeRangeCollapseVm=new s(void 0)}return e.prototype.groupFloorTypeRangeFacets=function(e){var t,n,o,r,i,a,l,c=e.facets.filter((function(e){return e.name.toUpperCase()===h.floorTypeRangeAttribute.toUpperCase()}))[0],u=e.facets.indexOf(c);if(c){for(t=0,n=this.floorTypes;t<n.length;t++){for(o=n[t],r=[],i=0,a=c.values;i<a.length;i++)(l=a[i]).key.toUpperCase().match(o.code.toUpperCase()+"_(.*)")&&r.push(l);e.facets.push(__assign(__assign({},c),{name:h.floorTypeRangeAttribute+"_"+o.code,displayName:o.materialGroupName,values:r,totalValueCount:r.length,id:c.id+o.code}))}void 0===this.floorTypeRangeCollapseVm.collapseState()&&(this.floorTypeRangeCollapseVm=new s(c.collapsed)),e.facets.splice(u,1)}return e},e.prototype.update=function(e,t){var n,o,i,a,s,l,c;for(e=this.groupFloorTypeRangeFacets(e),this.facetMap=e,n=this.facets,s=0;s<e.facets.length;s++){for(o=e.facets[s],i=null,c=0;c<this.facets.length;c++)this.facets[c].facet.name.toUpperCase()===o.name.toUpperCase()&&(i=this.facets[c]);i?i.update(o):(this.showMoreCount=Math.max(o.values.filter((function(e){return e.selected})).length,this.showMoreCount),i=new r(this.component,o,this.showMoreCount),this.facets.push(i)),n=n.filter((function(e){return e!==i}))}for(s=0;s<n.length;s++)n[s].facet!==t&&n[s].readonlyWhenSelected();for(a=[],s=0;s<this.facets.length;s++){for(l=this.facets[s].facetValues(),c=0;c<l.length;c++)l[c].selected()&&a.push(l[c]);this.facets[s].isRangeFacet&&this.facets[s].rangeFacetValue()&&this.facets[s].rangeFacetValue().selected()&&a.push(this.facets[s].rangeFacetValue)}this.filtersList(a)},e.prototype.getFacetVm=function(e){return this.facets.filter((function(t){return t.facet.name.toUpperCase()===e.toUpperCase()}))[0]},e.prototype.textSearchOnEnter=function(e,t){return 13!==t.keyCode||(this.textSearchOnClick(e,t),!1)},e.prototype.textSearchOnClick=function(){if(this.component.updating)return!1;this.component.facetMapAndListUpdate(null,null,this.searchText(),"",!0)},e.prototype.initFacetMap=function(){var e=jQuery("#searchText").val();e&&this.searchText(e)},e.prototype.toggleShowFacets=function(){this.showFacets(!this.showFacets())},e.prototype.hideFilters=function(){this.showFacets(!1),t.Unilin.UnilinHelpers.scrollTo(jQuery("#productList").offset().top-140,"linear")},e.prototype.showAllFacets=function(){var e,t,n,o=this;if(this.showAllFacetsOnMobile(!this.showAllFacetsOnMobile()),this.showAllFacetsOnMobile())this.facets.forEach((function(e){return e.showOnMobile(o.showAllFacetsOnMobile())}));else for(e=0,t=this.facets;e<t.length;e++)(n=t[e]).showOnMobile(!n.collapseVm.initialState)},e}(),n.FacetMapVm=o,r=function(){function e(e,t,n){var o=this;this.component=e,this.facet=t,this.showMoreCount=n,this.facetValues=ko.observableArray([]),this.readonlyText=ko.observable(),this.selectedValue=ko.observable(),this.selectedValue.subscribe((function(e){return o.singleSelectToggle(e)})),this.displayName=t.displayName?t.displayName:t.name,this.showMore=ko.observable(!1),this.initRangeFacet(t),t.collapsed=t.collapsed&&!(t.values.filter((function(e){return e.selected})).length>0)&&!(this.isRangeFacet&&this.rangeFacetValue().selected()),this.collapseVm=new s(t.collapsed),this.showOnMobile=ko.observable(!t.collapsed),this.id=t.id,this.update(t)}return e.prototype.toggleShowMore=function(){this.showMore()?this.showMore(!1):this.showMore(!0)},e.prototype.update=function(e){for(var t,n,o,r=this.facetValues(),a=0;a<e.values.length;a++){for(t=null,n=0;n<this.facetValues().length;n++)this.facetValues()[n].key.toUpperCase()===e.values[a].key.toUpperCase()&&(t=this.facetValues()[n]);t?t.update(e.values[a],e):(t=new i(this.component,e,e.values[a])).hidden||(t.selected()&&this.selectedValue(t.key),this.component.appendNewFacetValues?this.facetValues.push(t):(o=this.facetValues().length-(r.length+a),this.facetValues.splice(a-o,0,t))),r=r.filter((function(e){return e!==t}))}this.facetValues.push(),r.forEach((function(e){return e.resetCounter()})),this.readonlyText(null)},e.prototype.singleSelectToggle=function(e){var t,n;if(!this.component.updating){for(this.component.updating=!0,n=0;n<this.facetValues().length;n++)this.facetValues()[n].key!==e?this.facetValues()[n].selected(!1):t=this.facetValues()[n];this.component.updating=!1,t?t.selected(!0):this.reset()}},e.prototype.readonlyWhenSelected=function(){if(!this.readonlyText()&&0!==this.facetValues().filter((function(e){return e.selected()})).length){var e=this.facetValues().filter((function(e){return e.selected()})).map((function(e){return e.facetValue.displayName}));e.length>0&&this.readonlyText(e.join(", "))}},e.prototype.reset=function(){this.component.updating||(this.component.updating=!0,this.facetValues().forEach((function(e){e.selected(!1)})),this.component.updating=!1,this.component.facetMapAndListUpdate(this.facet,null,null,null,!0))},e.prototype.selectAll=function(e){this.component.updating||(this.component.updating=!0,this.facetValues().forEach((function(t){e?t.enabled()&&t.selected(!0):t.selected(!1)})),this.component.updating=!1,this.component.bulkFacetMapAndListUpdate(this.facet,this.facetValues(),null,null,null))},e.prototype.getBitTrueFacetValue=function(){var e=this.facetValues().filter((function(e){return"1"===e.key}));return e.length>0?e[0]:null},e.prototype.onRenderFacetValue=function(e){e&&t.Unilin.UnilinHelpers.initializePopovers(jQuery(e).filter("li"))},e.prototype.initRangeFacet=function(e){var t,n,o,r,i;this.isRangeFacet=e.isRangeFacet,this.allowCustomRange=e.allowCustomRange,this.isRangeFacet&&(t=new a(this.component,e,null),this.rangeFacetValue=ko.observable(t),(n=jQuery("#currentQuery").val().match(new RegExp(e.name+".+\\(([0-9\\-\\,]+)\\)","i")))&&n.length>1&&(o=e.values.map((function(e){return e.key})),(r=n[1].split(",").filter((function(e){return o.indexOf(e)<0})))&&r.length>0&&(i=r[0].split("-",2),t.setMinMax(i[0],i[1]),t.selected(!0))))},e}(),n.FacetVm=r,i=function(){function e(e,t,n){var o=this;this.component=e,this.facet=t,this.facetValue=n,this.selected=ko.observable(),this.count=ko.observable(),this.filterLabel=ko.observable(),this.update(n,t),this.selected.subscribe((function(e){return o.selectionChanged(e)})),this.enabled=ko.computed((function(){return o.selected()||o.count()>0})),this.hasImage=ko.computed((function(){return o.iconImageUrl&&""!==o.iconImageUrl}))}return e.prototype.selectionChanged=function(e){this.component.updating||(this.selected(e),this.component.facetMapAndListUpdate(this.facet,this,null,null,!0))},e.prototype.update=function(e,t){this.id=n.FlooringHelpers.stripNonWordCharacters(t.id+e.key,!0),this.key=e.key,this.displayName=e.displayName,this.description=e.description,this.filterLabel(e.filterLabel),this.selected(e.selected),this.count(e.count),this.iconCssClass=e.iconCssClass,this.iconImageUrl=e.iconImageUrl,this.sortKey=e.sortKey,this.hidden=e.hidden},e.prototype.resetCounter=function(){this.count(0)},e.prototype.unselect=function(){this.selected(!1)},e}(),n.FacetValueVm=i,a=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.component=t,r.facet=n,r.facetValue=o,r.minValue=ko.observable(""),r.maxValue=ko.observable(""),r}return __extends(t,e),t.prototype.update=function(){},t.prototype.selectionChanged=function(e){this.component.updating||(e?this.execute():!this.minValue()||!this.maxValue()||this.component.facetMapAndListUpdate(this.facet,this,null,null,!0))},t.prototype.updateKey=function(){this.key=this.minValue()+"-"+this.maxValue();var e=this.minValue().length>0,t=this.maxValue().length>0;e&&t?this.filterLabel(this.minValue()+" - "+this.maxValue()):e||t?e?this.filterLabel("> "+this.minValue()):this.filterLabel("< "+this.maxValue()):this.filterLabel("-")},t.prototype.setMinMax=function(e,t){this.minValue(e),this.maxValue(t),this.updateKey(),this.lastKey=this.key},t.prototype.execute=function(){if((this.minValue().length||this.maxValue().length)&&!this.component.updating){if(this.component.updating=!0,this.selected(!0),this.updateKey(),this.component.updating=!1,this.lastKey&&this.lastKey!==this.key){var e=new t(this.component,this.facet,this.facetValue);e.key=this.lastKey,this.component.bulkFacetMapAndListUpdate(this.facet,[e,this],null,null,!0)}else this.component.facetMapAndListUpdate(this.facet,this,null,null,!0);this.lastKey=this.key}},t}(i),n.FacetRangeValueVm=a,s=function(){function e(e){this.initialState=e,this.collapseState=ko.observable(this.initialState),this.collapseState.subscribe((function(){jQuery("body").find(".collapse.in").each((function(e,t){var n=jQuery(t);n.hasClass("collapse")&&n.hasClass("in")&&n.hasAttr("style")&&n.removeAttr("style")}))}))}return e.prototype.setState=function(e){this.collapseState(e)},e.prototype.reset=function(){this.setState(this.initialState)},e}(),n.CollapseVm=s}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(){var e=t.call(this,jQuery(document),"jsfavoritefloors")||this;return e.floorIdAttribute="data-product-id",e.erpIdAttribute="data-erpid",e.erpProductIdAttribute="data-erpproductid",e.addToFavoritesSelector="[data-selector='favoritesSelect']",e.updateFavoriteFloorUrl=e.buildControllerUrl("FavoriteFloors","UpdatePersonalFavorites"),e}return __extends(n,t),n.initialize=function(e){var t=this;return null==this.instance&&(this.instance=new n),jQuery(e).off("click",this.instance.addToFavoritesSelector).on("click",this.instance.addToFavoritesSelector,(function(e){return t.instance.updateFavorites(e)})),this.instance},n.prototype.updateFavorites=function(e){var t=this,n=jQuery(e.currentTarget).closest("["+this.floorIdAttribute+"]"),o=n.attr(this.floorIdAttribute),r=n.attr(this.erpIdAttribute),i=n.attr(this.erpProductIdAttribute);e.preventDefault(),this.updateFavoriteFloor(o,r,i).done((function(e){e.succeed&&(jQuery(document).trigger("likes-changed",e.totalFavoriteFloors),e.isFavoriteFloor&&t.tagManager.registerEvent("jsfavoritefloors",n.data("event-action"),n.data("event-label"),null,"PersonalFavoriteAdded"),t.updateIcon(e,n))}))},n.prototype.updateFavoriteFloor=function(t,n,o){var r=jQuery.Deferred();return jQuery.ajax({url:this.updateFavoriteFloorUrl,method:"GET",cache:!1,data:{floorId:t,erpId:n,erpProductId:o},success:function(t){var n=e.FlooringHelpers.getJsonScript(t);r.resolve(n)}}),r.promise()},n.prototype.updateIcon=function(e,t){var n=t.find('[data-selector="favorite-icon"]'),o=t.find('[data-selector="favorite-label"]'),r=t.parents('[data-selector="product-card"]').find('[data-selector="tiny-heart-icon"]');n.each((function(){e.isFavoriteFloor?o.html(o.data("unfavorite")):o.html(o.data("favorite")),n.toggleClass("c-svg--fill-prim",e.isFavoriteFloor).toggleClass("c-svg--fill-none",!e.isFavoriteFloor),r.toggle(e.isFavoriteFloor)}))},n}(e.FlooringBase);e.FavoriteFloorsManager=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){var o=function(e){function t(){var t=e.call(this)||this;return t.event=n.GA4Constants.Events.ROOMVIEWER_INITIATED,t}return __extends(t,e),t}(t.Features.GA4.BaseEvent),r=function(){function r(){var t,n=this;this.containerId="faFrame",this.isLoaded=!1,this.tagManager=e.ScBase.Unilin.TagManagerModule.GTM.getInstance(),t=jQuery("#"+this.containerId),this.faContainer=t.length?t:this.render(),this.faContainer.on("click",(function(){return n.faContainer.hide()}))}return r.getInstance=function(){return null==r.instance&&(r.instance=new r),r.instance},r.prototype.render=function(){var e=document.createElement("div");return e.id=this.containerId,e.className="overlay",e.innerHTML='<div class="overlay__close-new" data-selector="close-fa-overlay" data-webid="close-fa-overlay" ></div><div class="overlay__cnt"><iframe class="fa-frame" data-link="" data-selector="faFrame" data-webid="roomviewer-frame"></iframe></div>',document.querySelector("body").appendChild(e),jQuery(e)},r.generateLink=function(e){var t,n,o;return!e.materialList||e.materialList.length<1?e.baseUrl:(t=new RegExp(/MaterialList=([^&]*)/i),(n=e.baseUrl.match(t))&&n.length?(o=e.materialList.length>0?e.materialList.join(","):"",e.baseUrl.replace(t,"MaterialList="+o)):e.baseUrl)},r.initButtonEvent=function(e,t){var o="[data-selector=fa-container]";return e.off("click",o).on("click",o,(function(e){return n.FlooringHelpers.startFloorAdvisor(e,t)})),e.find(o)},r.prototype.openFloorAdvisor=function(e,n){var r,i,a=this,s=e.attr("data-fa-url"),l=e.attr("data-context-id");s||Error("Couldn't load floor advisor, because no url was provided!"),l===this.currentContext&&this.isLoaded&&s===this.url?this.faContainer.show():(this.currentContext=l,this.faContainer.show(),(i=this.faContainer.find("iframe").get(0)).src=s,i.onload=function(){a.isLoaded=!0},i.onerror=function(){a.faContainer.hide()},this.url=s),this.tagManager.registerEvent(n,"Roomviewer"),null===(r=t.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(new o)},r}();n.FloorAdvisorManager=r}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function n(e,t){this.$element=e,this.params=t,this.initElements(),this.initSliders()&&this.initEvents()}return n.prototype.initElements=function(){this.$galleryContainer=this.$element.find('[data-selector="gallery-container"]'),this.$zoomButton=this.$element.find('[data-selector="slider-zoom"]'),this.$notFoundImage=this.$element.find('[data-selector="not-found-image"]')},n.prototype.initEvents=function(){var e=this;this.$zoomButton.on("click",this.$galleryContainer,(function(){var t=e.mainSlider.$slick.find(".slick-slide:not(.slick-cloned) a");window.slickFullscreen.open(t,{loadingPlaceholder:e.params.loadingPlaceholder,notFoundImage:e.$notFoundImage,slick:{lazyLoad:"ondemand",infinite:!1,asNavFor:e.mainSlider.$component.selector,initialSlide:e.mainSlider.getCurrentSlideIndex()}})})),this.$element.find(this.mainSlider.$slick).on("lazyLoaded lazyLoadError",(function(){e.galleryVisible||(setTimeout((function(){e.$galleryContainer.show(),e.mainSlider.$slick.slick("setPosition"),e.thumbnailSlider.$slick.slick("setPosition")}),500),e.galleryVisible=!0)}))},n.prototype.initSliders=function(){var n='[data-selector="product-detail-slider"]',o='[data-selector="product-detail-thumbnails"]',r=this.$element.find(n);return r.length?(this.mainSlider=new e.Unilin.Slick(r,{notFoundImage:this.$notFoundImage,supportMobileImages:!0,adjustArrows:!0,adjustArrowsSelector:"img",speed:500,infinite:!0,lazyLoad:"ondemand",autoplay:!1,slidesToShow:1,adaptiveHeight:!1,dots:!1,arrows:!0,asNavFor:o,responsive:[{breakpoint:t.BreakPoints.md,settings:{slidesToShow:1,infinite:!1,arrows:!0,dots:!0}}]}),this.thumbnailSlider=new e.Unilin.Slick(this.$element.find(o),{notFoundImage:this.$notFoundImage,supportMobileImages:!0,adjustArrows:!1,speed:500,infinite:!0,lazyLoad:"anticipated",autoplay:!1,centerMode:!1,adaptiveHeight:!1,slidesToShow:5,slidesToScroll:5,asNavFor:n,dots:!1,arrows:!0,focusOnSelect:!0,touchMove:!1,swipeToSlide:!1,responsive:[{breakpoint:t.BreakPoints.md,settings:{slidesToShow:5,infinite:!1,arrows:!0}}]}),!0):(this.$galleryContainer.show(),!1)},n}();t.Gallery=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.prototype.getExcludeGeocodeFilters=function(){return this.excludeGeocodeFilters&&this.excludeGeocodeFilters.length>0?this.excludeGeocodeFilters:this.defaultExcludeGeocodeFilters&&this.defaultExcludeGeocodeFilters.length>0?this.defaultExcludeGeocodeFilters:null},e}();e.GoogleMapsConfigParams=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function n(t){var n=this;this.settings=t,this.gtmInstance=e.Unilin.TagManagerModule.GTM.getInstance(),t.popupContainer&&(this.$popupContainer="string"==typeof t.popupContainer?jQuery(t.popupContainer):t.popupContainer,t.closeButtonSelector&&this.$popupContainer.on("click",t.closeButtonSelector,(function(){return n.closePopup()})),t.openPopupSelector&&jQuery(document).on("click",t.openPopupSelector,(function(e){e.preventDefault(),n.openPopup()})),t.closeOnClick&&this.$popupContainer.on("click",(function(e){e.currentTarget===e.target&&n.closePopup()})),t.openOnInit&&this.openPopup())}return n.loadAfterCookieConsent=function(e,t){document.cookie.split(";").find((function(e){return e.trim().startsWith(t+"=")}))?e():this.waitForOneTrustAndShowPopup(e)},n.waitForOneTrustAndShowPopup=function(e){var t=this;window.OneTrust?window.OneTrust.OnConsentChanged((function(){return e()})):setTimeout((function(){return t.waitForOneTrustAndShowPopup(e)}),500)},n.prototype.closePopup=function(){this.settings.disableScroll&&t.FlooringHelpers.disableBodyScroll(!1),this.$popupContainer.removeClass("show")},n.prototype.openPopup=function(){this.settings.disableScroll&&t.FlooringHelpers.disableBodyScroll(!0),this.$popupContainer.addClass("show"),this.settings.gtmEventOnPopupShown&&this.gtmInstance.isGtmLoaded()&&this.gtmInstance.registerEventOfType(this.settings.gtmEventOnPopupShown)},n}();t.Popup=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n,o,r=e.Unilin.Toast;!function(e){e[e.Added=0]="Added",e[e.NotAddedBecauseContainsSamples=1]="NotAddedBecauseContainsSamples",e[e.NotAddedBecauseContainsNonSamples=2]="NotAddedBecauseContainsNonSamples",e[e.NotAddedUnknowReason=3]="NotAddedUnknowReason",e[e.NotAddedBecauseOnlySamples=4]="NotAddedBecauseOnlySamples",e[e.AddedCrossSellingPopupNeeded=5]="AddedCrossSellingPopupNeeded"}(n=t.AddToBasketResult||(t.AddToBasketResult={})),o=function(o){function i(e,t){var n=o.call(this,e,t)||this;return n.element=e,n.pageId=jQuery("meta[itemprop='page-id']").attr("content"),n}return __extends(i,o),i.triggerCartChanged=function(e){if(null!=e){jQuery(document).trigger("shopping-cart-changed",e);var t=new CustomEvent("shopping-cart-changed-V2",{bubbles:!0,detail:e});document.dispatchEvent(t)}},i.prototype.cartChanged=function(e){i.triggerCartChanged(e)},i.prototype.addB2CSample=function(e){var n=e.data("product"),o={erpId:n.erpId,materialCode:n.materialCode,unit:n.productBaseUnitOfMeasure,hybrisProductCode:n.hybrisProductCode,quantity:1,showMessageOnSuccess:!0,succeed:!0};return t.GA4.GA4Helpers.registerAddSampleToCart(n.id,n.name,n.brand,n.commercialRangeName,n.materialCode,n.currency,n.price),this.addSample(o,e)},i.prototype.addSample=function(e,t){var n=this;return this.addToCart("AddSample",e,t,jQuery.proxy((function(e){return n.addSample(e,t)}),this))},i.prototype.addB2CMaterial=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===o&&(o=!0);var r=e.data("product"),i={erpId:r.erpId,materialCode:r.materialCode,unit:r.productBaseUnitOfMeasure,hybrisProductCode:r.hybrisProductCode,quantity:null!=t?t:1,showMessageOnSuccess:o,succeed:!1,showCrossSellingPopup:e.data("show-crossselling-popup"),removeNoAdditionalServiceStateFromCookie:n};return this.addMaterial(i,e)},i.prototype.addMaterial=function(e,t){var n=this;return this.addToCart("AddMaterial",e,t,jQuery.proxy((function(e){return n.addMaterial(e,t)}),this))},i.prototype.addToCart=function(e,n,o,r){var a,s=this;return null==n?null:(a=jQuery.Deferred(),n.showCrossSellingPopup&&t.FlooringHelpers.showFullScreenWaitPanel(),jQuery.ajax({url:this.buildControllerUrl(i.shoppingCartController,e,this.pageId),method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(n),success:function(e){return s.onAddToCartSuccess(e,o,a,r)},error:function(e){return a.reject(e)},complete:function(){return t.FlooringHelpers.hideWaitPanel()}}),a.promise())},i.prototype.onAddToCartSuccess=function(o,i,a,s){var l,c,u,p=this;if(o){if(l=t.FlooringHelpers.getJsonScript(o)){if(c=function(){},u=function(e,t){return t.destroy()},l.succeed){if(this.cartChanged(l.totalItems),l.removeFromCartEvent&&e.Unilin.TagManagerModule.GTM.getInstance().registerEventOfType(l.removeFromCartEvent),i.length&&t.FlooringGtm.registerAddToCart(i.data("product"),this.trackingLabel,l.quantity),l.cause===n.AddedCrossSellingPopupNeeded)return r.close(r.getContainer()),jQuery.ajax({url:this.buildControllerUrl(t.CrossSellingPopup.crossSellingPopupController,"Index",this.pageId),method:"GET",contentType:"application/json; charset=utf-8",success:function(e){return p.onCrossSellingPopupResult(e,c,u)},error:function(e){return a.reject(e)},complete:function(){return t.FlooringHelpers.hideWaitPanel()}}),a.promise()}else(l.cause===n.NotAddedBecauseContainsNonSamples||l.cause===n.NotAddedBecauseContainsSamples)&&(c=function(e,n){var o=l;o.clearBasket=!0,s(o),t.FlooringHelpers.showFullScreenWaitPanel(!0),n.destroy()});t.CrossSellingPopup.isOpened()&&l.succeed&&l.cause!==n.AddedCrossSellingPopupNeeded?t.CrossSellingPopup.toggleProductAddedButtonState(i):l.cause!==n.AddedCrossSellingPopupNeeded&&(this.toast=r.update(this.toast,o,{primaryCallback:c,secondaryCallback:u})),a.resolve(l)}}else a.reject(o)},i.prototype.onCrossSellingPopupResult=function(e,n,o){var i=t.FlooringHelpers.getJsonScript(e);i&&i.succeed&&i.showToastMessage?this.toast=r.update(this.toast,e,{primaryCallback:n,secondaryCallback:o}):t.CrossSellingPopup.show(e)},i.prototype.getQuantityFromTotalSize=function(e){var n,o;if(!e)return-1;var r=e.data("value-old"),i=t.FlooringHelpers.getFloatValue(r),a=e.val(),s=t.FlooringHelpers.getFloatValue(a);return s===i||isNaN(s)||s<=0?(e.val(r),-1):(n=e.data("packed-size"),o=t.FlooringHelpers.getFloatValue(n),isNaN(o)||o<=0?(e.val(r),-1):Math.ceil(+s/+o))},i.prototype.getQuantity=function(e,n){if(void 0===n&&(n=!1),!e)return-1;var o=e.data("value-old"),r=t.FlooringHelpers.getFloatValue(o),i=e.val(),a=Math.round(t.FlooringHelpers.getFloatValue(i));return a===r||isNaN(a)||a<=0?(e.val(o),-1):a},i.prototype.setNoAdditionalServiceNeeded=function(){var e=this.buildControllerUrl(i.shoppingCartController,"SetNoAdditionalServiceNeeded",this.pageId);return this.$http.post(e,null)},i.shoppingCartController="ShoppingCartApi",i}(t.FlooringBase),t.ShoppingCartManager=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),jQuery(document).on("targetUpdated",(function(e){jQuery.validator&&ResetExistingFormValidation(e),InitComponentsFromPartialUpdate(e.jAddedElement)})),jQuery(document).on("targetUpdateFailed",(function(e,t,n,o){jQuery("meta[itemprop=developmentmode]").length<1||window.location.search.toLowerCase().indexOf("targetupdatefaileddebugging=false")>-1||(window.console.info("DLW: targetUpdateFailed ("+n+", "+o+"). Opening new tab with response (only when running development mode)."),window.open("","targetUpdateFailedWindow").document.write(t.responseText))})),jQuery(document).change((function(){jQuery.validator&&jQuery.validator.unobtrusive.parse(jQuery(document))})),jQuery(document).on("change","form[data-ajax=true] select[data-ajax-submit=true]",(function(e){var t=jQuery(e.target).parents("form")[0];jQuery(t).trigger("submit")})),document.addEventListener("DOMContentLoaded",(function(){InitComponentsFromPage()})),addthis_config=addthis_config||{},addthis_share=addthis_share||{},function(e){!function(e){!function(e){var t=function(){function e(e,t){this.params=t;var n=this.initAddthisScript();this.initAddThisConfig(),this.initAddThisShare(),!0===n&&window.addthis&&(window.addthis.toolbox(".sharing-wrapper"),window.addthis.counter(".addthis_counter"))}return e.prototype.initAddthisScript=function(){var e;return jQuery("script[src='"+this.params.addThisWidgetLink+"']").length>0||((e=document.createElement("script")).setAttribute("src",this.params.addThisWidgetLink),document.body.appendChild(e),!1)},e.prototype.initAddThisConfig=function(){addthis_config.pubId=this.params.pubId,addthis_config.ui_language=this.params.languageCode,addthis_config.services_compact=this.params.compactServices,addthis_config.services_expanded=this.params.expandedServices,addthis_config.services_exclude=this.params.excludedServices},e.prototype.initAddThisShare=function(){addthis_share.url=window.location.href,addthis_share.title=jQuery("meta[property='og:title']").attr("content"),addthis_share.description=jQuery("meta[property='og:description']").attr("content")||jQuery("meta[name='description']").attr("content"),addthis_share.media=jQuery("meta[property='og:image']").attr("content")},e}();e.AddThis=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),dataLayer=dataLayer||[],function(e){!function(e){!function(e){!function(e){var t,n=function(){function e(){}return e.virtualPageViewEvent="VirtualPageview",e}();e.GTMConstants=n,t=function(){function e(){}return e.getInstance=function(){return e.instance},e.prototype.registerEvent=function(e,t,n,o,r){var i={};e&&(i.event=e),r&&(i.category=r),t&&(i.action=t),n&&(i.label=n),o&&(i.value=o),this.registerEventOfType(i)},e.prototype.registerTransaction=function(e){dataLayer.push({event:"trackTrans",transactionId:e.transactionId,transactionAffiliation:e.affiliation,transactionTotal:e.total,transactionTax:e.tax,transactionShipping:e.shipping,transactionProducts:e.transactionProducts.map((function(e){return{sku:e.id,name:e.name,category:e.category,price:e.price,quantity:e.quantity}}))})},e.prototype.registerVirtualPageview=function(e,t,o){void 0===o&&(o=null);var r={};r.event=n.virtualPageViewEvent,r.virtualPageTitle=t,r.virtualPageUrl=e,o&&(r.eventCallback=o,r.eventTimeout=1500),this.registerEventOfType(r)},e.prototype.registerEventOfType=function(e){if(!this.isGtmLoaded()){var t=e.eventCallback;return e.eventCallback=void 0,e.eventTimeout=void 0,dataLayer.push(e),void(t&&t())}e&&dataLayer.push(e)},e.prototype.isGtmLoaded=function(){return"undefined"!=typeof google_tag_manager},e.instance=new e,e}(),e.GTM=t}(e.TagManagerModule||(e.TagManagerModule={}))}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(t,n){if(n){var o=n.datalayerVariables;o.internalType===n.errorEventType&&(o.pageUrl=window.location.href,o.hostName=window.location.hostname),e.TagManagerModule.GTM.getInstance().registerEventOfType(o)}};e.PageEventTrigger=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e,t){this.jqueryElement=e,t.userId&&dataLayer.push({userId:t.userId}),this.initializeEvents()}return e.prototype.initializeEvents=function(){var t=this;jQuery(document).on(e.productDetailPageView,(function(e,n){t.productDetailView(n)})),jQuery(document).on(e.productAddedToBasket,(function(e,n){t.addToCart(n.product,n.quantity,n.currency)})),jQuery(document).on(e.productRemovedFromBasket,(function(e,n){t.removeFromCart(n.product,n.quantity)})),jQuery(document).on(e.landedOnCheckoutStep,(function(e,n){t.checkoutStep(n)})),jQuery(document).on(e.checkoutStepOption,(function(e,n){t.checkoutStepOption(n)})),jQuery(document).on(e.purchase,(function(e,n){t.purchase(n)}))},e.prototype.productDetailView=function(e){e.id&&e.name?dataLayer.push({event:"productDetailView",ecommerce:{detail:{products:[this.toEeProductObject(e)]}}}):console.error("Product Detail View dataLayer push requires either a name or ID.")},e.prototype.addToCart=function(e,t,n){e.id&&e.name?dataLayer.push({event:"addToCart",ecommerce:{currencyCode:n,add:{products:[this.toEeProductObjectWithQuantity(e,t)]}}}):console.error("Product Added To Basket dataLayer push requires either a name or ID.")},e.prototype.removeFromCart=function(e,t){e.id&&e.name?dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[this.toEeProductObjectWithQuantity(e,t)]}}}):console.error("Product Added To Basket dataLayer push requires either a name or ID.")},e.prototype.checkoutStep=function(e){dataLayer.push({event:"checkout",ecommerce:{checkout:{actionField:{step:e.stepNumber,option:e.stepOption},products:this.toEeProductsObject(e.products)}}})},e.prototype.checkoutStepOption=function(e){dataLayer.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:e.stepNumber,option:e.stepOption}}}})},e.prototype.purchase=function(e){dataLayer.push({event:"checkoutComplete",ecommerce:{purchase:{actionField:{id:e.orderId,affiliation:e.affiliation,revenue:e.revenue,tax:e.tax,shipping:e.shipping,coupon:e.coupon},products:this.toEeProductsObject(e.products)}}})},e.prototype.toEeProductObject=function(e){return{name:e.name,id:e.id,price:e.price,brand:e.brand,category:e.category,variant:e.variant}},e.prototype.toEeProductObjectWithQuantity=function(e,t){var n=this.toEeProductObject(e);return n.quantity=t,n},e.prototype.toEeProductsObject=function(e){var t,n=[];if(e)for(t=0;t<e.length;t++)n.push(this.toEeProductObjectWithQuantity(e[t].product,e[t].quantity));return n},e.productDetailPageView="productDetailPageView",e.productAddedToBasket="productAddedToBasket",e.productRemovedFromBasket="productRemovedFromBasket",e.landedOnCheckoutStep="landedOnCheckoutStep",e.checkoutStepOption="checkoutStepOption",e.purchase="purchase",e}();e.EnhancedEcommerce=t}(e.Gtm||(e.Gtm={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o){var r,i,a,s=t.call(this,n)||this;return s.params=o,r=e.ConsentGtm.getInstance(),(i=e.UnilinHelpers.getCookieValue(s.params.cookieName))?(a={success:!0,shouldUpdateGtm:!0,selectedCategories:i.selectedCategories},r.updateGtm(a),s):s}return __extends(n,t),n}(e.BaseComponent);e.ConsentInformation=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.isGooglePlacesLoaded=function(){return"undefined"!=typeof google&&(void 0!==google.maps&&void 0!==google.maps.places)},e.initializeAutocomplete=function(t,n,o){var r,i,a=this;e.isGooglePlacesLoaded()&&t.length>0&&(r={types:n},i=new google.maps.places.Autocomplete(t[0],r),this.autoCompletes.push(i),google.maps.event.addListener(i,"place_changed",(function(){var e,n,r,s=i.getPlace();!s.geometry||(a.autoCompleteUsed=!0),o?o(s):s&&((e=s.address_components.filter((function(e){return-1!==e.types.indexOf("locality")})))&&e.length?t.val(e[0].long_name):(r=(n=t.val()).lastIndexOf(","))>0&&t.val(n.substr(0,r<0?n.length:r)))})))},e.setCountryForAutocomplete=function(t){var n,o;if(e.isGooglePlacesLoaded()&&t)for(n=0,o=this.autoCompletes;n<o.length;n++)o[n].setComponentRestrictions({country:t})},e.autoCompletes=[],e}();e.GoogleMapsLoader=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.addClassFromSvg=function(e,t){e.classList?e.classList&&!1===e.classList.contains(t)&&e.classList.add(t):e.className&&e.className.baseVal.indexOf(t)<0&&(e.className.baseVal+=" "+t)},e.removeClassFromSvg=function(e,t){e.classList?e.classList&&e.classList.contains(t)&&e.classList.remove(t):e.className&&e.className.baseVal.indexOf(t)>-1&&(e.className.baseVal=e.className.baseVal.replace(t,""))},e}();e.SvgHelpers=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(t,n){var o=this;this.params=n,n.scriptUrl&&window.addEventListener("load",(function(){setTimeout((function(){jQuery.getScript(n.scriptUrl)}),1500)})),window.ss360Config={siteId:this.params.siteId,searchBox:{selector:"[data-selector='search-box']",searchButton:"[data-selector='search-button']"},suggestions:{show:this.params.showSuggestions,showImages:this.params.showSuggestionImages,num:this.params.maxSuggestionNumber,minChars:this.params.minSuggestionChars,highlight:this.params.showSuggestionHighlight,mobileScrollOnFocus:!1},callbacks:{focus:function(t){jQuery(document).trigger("ss360.focus.init",t),SS360.changeConfig("contentGroups.include",[]),window.breakpoints.isMobile()&&e.UnilinHelpers.scrollTo(jQuery(t.srcElement).offset().top-jQuery("header").height()-15,"linear")},preSearch:function(e,t,n){return!(null==e||e.length<3)&&(!(n&&n.length>0&&n[0].id===o.params.skipSearchBoxId)&&!(!n&&-1!=window.location.href.indexOf("ss360Query")))},init:function(){o.initEvents(),jQuery(document).trigger("ss360.init");var e=new Event("ss360.init");document.dispatchEvent(e)}},results:{embedConfig:{contentBlock:'[data-selector="search-results-wrapper"]'}}}}return t.prototype.initEvents=function(){var e=this;jQuery(document).on("ss360.config.override",(function(t,n){e.overrideConfig(n)})),jQuery(document).on("ss360.restore.config",(function(){e.restoreDefaultConfig()})),jQuery(document).on("ss360.focus.init",(function(t,n){e.onFocus(n)}))},t.prototype.changeConfig=function(e,t){SS360.changeConfig(e,t)},t.prototype.onFocus=function(e){var t,n;if(e&&e.currentTarget&&0!==(t=jQuery(e.currentTarget)).length){if(n="true"===t.attr("data-ss360-override"))return void jQuery(document).trigger("ss360.focus",e.currentTarget.id);if(1==this.siteSearch360ConfigOverridden&&!n)return void jQuery(document).trigger("ss360.restore.config")}},t.prototype.overrideConfig=function(e){for(var t in e)this.changeConfig(t,e[t]);this.siteSearch360ConfigOverridden=!0},t.prototype.restoreDefaultConfig=function(){this.changeConfig("siteId",this.params.siteId),this.changeConfig("suggestions.show",this.params.showSuggestions),this.changeConfig("suggestions.showImages",this.params.showSuggestionImages),this.changeConfig("suggestions.num",this.params.maxSuggestionNumber),this.changeConfig("suggestions.minChars",this.params.minSuggestionChars),this.changeConfig("suggestions.highlight",this.params.showSuggestionHighlight),this.siteSearch360ConfigOverridden=!1},t.initCallbacks=[],t}();e.SiteSearch360Loader=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){e.Unilin||(e.Unilin={}),document.addEventListener("DOMContentLoaded",(function(){for(var e={rootMargin:"0px",threshold:1},t=new IntersectionObserver((function(n){var o=new DOMParser;n.forEach((function(e){if(e.isIntersecting){var n=e.target.getAttribute("data-loadurl");window.$http.get(n,null).done((function(t){var n=o.parseFromString(t,"text/html").body.firstChild;window.InitComponentsFromPartialUpdateElement(n),e.target.parentNode.replaceChild(n,e.target)})),t.unobserve(e.target)}}),e)})),n=document.querySelectorAll("[data-lazy-load-component]"),o=0;o<n.length;o++)t.observe(n[o])}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=e.TagManagerModule.GTM,n=function(){function e(e){this.gtm=e}return e.getInstance=function(){return e.instance},e.prototype.registerGtmCookieEvent=function(e,t,n){var o={event:e,category:t,value:n};this.registerEvent(o)},e.prototype.registerEvent=function(e){this.gtm.registerEventOfType(e)},e.prototype.updateGtm=function(e){var t,n,o,r;if(e&&e.success&&e.shouldUpdateGtm){for(t={},n=0,o=e.selectedCategories;n<o.length;n++)t[o[n]]=!0;r={"cookie-levels":t},dataLayer.push(r)}},e.acceptAllGtmEvent="accept-all-cookies",e.acceptEssentialsGtmEvent="accept-essential-cookies",e.acceptSelectedGtmEvent="accept-selected-cookies",e.popupGtmEventCategory="cookie-popup",e.bannerGtmEventCategory="cookie-banner",e.openPopupGtmEvent="open-cookie-popup",e.instance=new e(t.getInstance()),e}();e.ConsentGtm=n}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e,t,n,o){this.loadCookieBannerUrl=e,this.saveCookieSettingsUrl=t,this.loadSettingsPopupUrl=n,this.consentGtm=o}return e.prototype.loadCookieBanner=function(){return window.$http.get(this.loadCookieBannerUrl,null)},e.prototype.loadPopup=function(){return window.$http.get(this.loadSettingsPopupUrl,null)},e.prototype.saveCookieSettings=function(t,n){return window.$http.post(this.saveCookieSettingsUrl,t).done((function(t){t.success&&jQuery(document).trigger(e.SettingsSavedEvent,n)}))},e.prototype.saveCookieSettingsAndTriggerGtm=function(e,t,n,o){var r=this;return this.saveCookieSettings(e,o).done((function(o){o.success&&(r.consentGtm.updateGtm(o),r.consentGtm.registerGtmCookieEvent(t,n,e))}))},e.SettingsSavedEvent="cookie-settings-saved",e}();e.CookieConsentService=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t,n=function(e){this.cookieTypes=e,this.containerSelector="[data-selector='cookie-popup-container']",this.openPopupSelector="[data-selector='open-cookie-popup']",this.closePopupSelector="[data-selector='close-cookie-popup']",this.acceptAllCookiesSelector="[data-selector='accept-all']",this.acceptEssentialCookiesSelector="[data-selector='accept-essentials-only']",this.acceptSelectedCookiesSelector="[data-selector='accept-selected']",this.genericCookieButtonSelector="[data-selector='cookie-button']",this.showPopupClass="c-cookie-settings--show"};e.CookiePopupSettings=n,t=function(){function t(e,t,n){this.settings=e,this.cookieConsentService=t,this.consentGtm=n,this.$popupContainer=this.getPopupContainer(),this.bindEvents()}return t.prototype.bindEvents=function(){var n=this;jQuery("body",document).on("click",this.settings.openPopupSelector,(function(e){return n.showPopup(e)})),jQuery(document).on(t.popupOpenEvent,(function(){n.consentGtm.registerEvent({event:e.ConsentGtm.openPopupGtmEvent,category:e.ConsentGtm.bannerGtmEventCategory})})),this.$popupContainer.length>0&&this.bindContainerEvents()},t.prototype.bindContainerEvents=function(){var t=this;jQuery(this.$popupContainer).on("click",this.settings.closePopupSelector,(function(e){return t.closeCookiePopup(e)})),jQuery(this.$popupContainer).on("click",this.settings.acceptAllCookiesSelector,(function(n){t.setSelectedCheckboxes(t.settings.cookieTypes),t.acceptCookies(n,e.ConsentGtm.acceptAllGtmEvent,t.settings.cookieTypes)})),jQuery(this.$popupContainer).on("click",this.settings.acceptEssentialCookiesSelector,(function(n){t.setSelectedCheckboxes([]),t.acceptCookies(n,e.ConsentGtm.acceptEssentialsGtmEvent,[])})),jQuery(this.$popupContainer).on("click",this.settings.genericCookieButtonSelector,(function(e){var n;n=JSON.parse(e.target.closest("button").getAttribute("data-action")),t.setSelectedCheckboxes(n.LinkedCategoryTypes),t.acceptCookies(e,n.EventName,n.LinkedCategoryTypes)})),jQuery(this.$popupContainer).on("click",this.settings.acceptSelectedCookiesSelector,(function(n){return t.acceptCookies(n,e.ConsentGtm.acceptSelectedGtmEvent,t.getAllSelectedCookies())}))},t.prototype.showPopup=function(e){var n=this;e.preventDefault(),0===this.$popupContainer.length?this.cookieConsentService.loadPopup().done((function(e){e&&(jQuery("body").append(e),n.$popupContainer=n.getPopupContainer(),n.bindContainerEvents(),jQuery(document).trigger(t.popupOpenEvent))})):(this.$popupContainer.addClass(this.settings.showPopupClass),jQuery(document).trigger(t.popupOpenEvent))},t.prototype.setSelectedCheckboxes=function(e){this.$popupContainer.find("input[type='checkbox']").each((function(t,n){n.checked=e.includes(n.id)}))},t.prototype.closeCookiePopup=function(e){e&&e.preventDefault(),this.$popupContainer.removeClass(this.settings.showPopupClass),jQuery(document).trigger(t.popupCloseEvent)},t.prototype.acceptCookies=function(t,n,o){t&&t.preventDefault();var r={selectedCookies:o,cookieBannerMode:e.BannerMode.None};this.saveSettings(n,r)},t.prototype.getAllSelectedCookies=function(){var e=[];return this.$popupContainer.find("input[type='checkbox']:checked").each((function(t,n){var o=n.value;e.indexOf(o)<0&&e.push(o)})),e},t.prototype.saveSettings=function(t,n){var o=this;this.cookieConsentService.saveCookieSettingsAndTriggerGtm(n,t,e.ConsentGtm.popupGtmEventCategory).done((function(e){e.success&&o.closeCookiePopup()}))},t.prototype.getPopupContainer=function(){return jQuery("body",document).find(this.settings.containerSelector)},t.popupOpenEvent="show-popup",t.popupCloseEvent="close-popup",t}(),e.CookieConsentPopup=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t,n,o=function(e){this.cookieTypes=e,this.containerSelector="[data-selector='cookielawbanner-panel']",this.acceptAllCookiesSelector="[data-selector='accept-all']",this.acceptEssentialCookiesSelector="[data-selector='accept-essentials-only']",this.genericCookieButtonSelector="[data-selector='cookie-button']"};e.CookieBannerSettings=o,t=function(){function e(){}return e.None="None",e.Small="Small",e.Full="Full",e}(),e.BannerMode=t,n=function(){function n(e,t){this.settings=e,this.cookieConsentService=t,this.$bannerContainer=this.getBannerContainer()}return n.prototype.bindEvents=function(){var t=this;jQuery(this.$bannerContainer).on("click",this.settings.acceptAllCookiesSelector,(function(n){return t.acceptCookies(n,e.ConsentGtm.acceptAllGtmEvent,t.settings.cookieTypes)})),jQuery(this.$bannerContainer).on("click",this.settings.acceptEssentialCookiesSelector,(function(n){return t.acceptCookies(n,e.ConsentGtm.acceptEssentialsGtmEvent,[])})),jQuery(this.$bannerContainer).on("click",this.settings.genericCookieButtonSelector,(function(e){var n;n=JSON.parse(e.target.closest("button").getAttribute("data-action")),t.acceptCookies(e,n.EventName,n.LinkedCategoryTypes)})),jQuery(document).on(e.CookieConsentService.SettingsSavedEvent,(function(e,n){return t.hideCookieBanner(e,n)}))},n.prototype.loadCookieConsentBanner=function(){var e=this;this.cookieConsentService.loadCookieBanner().done((function(t){t&&t.json&&t.json.showCookieBanner&&(e.$bannerContainer.html(t.html),e.bindEvents(),jQuery(document).trigger(n.bannerOpenEvent))}))},n.prototype.hideCookieBanner=function(){var e=this;this.$bannerContainer.slideUp("linear",(function(){return e.$bannerContainer.remove()})),jQuery(document).trigger(n.bannerCloseEvent)},n.prototype.acceptCookies=function(e,n,o){e&&e.preventDefault();var r={selectedCookies:o,cookieBannerMode:t.None};this.saveSettings(n,r)},n.prototype.saveSettings=function(t,n){this.cookieConsentService.saveCookieSettingsAndTriggerGtm(n,t,e.ConsentGtm.bannerGtmEventCategory)},n.prototype.getBannerContainer=function(){return jQuery("body",document).find(this.settings.containerSelector)},n.bannerOpenEvent="cookie-banner-show",n.bannerCloseEvent="cookie-banner-close",n}(),e.CookieConsentBanner=n}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e,t){var n=this;this.$element=e,this.params=t,jQuery(document).on("refresh-components",(function(){return n.triggerRefresh()})),t.oneTrustEnabled&&this.waitForOneTrustAndSetEvent()}return e.prototype.waitForOneTrustAndSetEvent=function(){var e=this;window.OneTrust?window.OneTrust.OnConsentChanged((function(){return e.triggerRefresh()})):setTimeout((function(){return e.waitForOneTrustAndSetEvent()}),500)},e.prototype.triggerRefresh=function(){var e=this;window.$http.get(this.params.refreshUrl,null).done((function(t){if(t){var n=jQuery(t);e.$element.empty(),e.$element.replaceWith(n),e.$element=n,window.InitComponentsFromPartialUpdate(e.$element)}}))},e}();e.ComponentRefresh=t}(e.Unilin||(e.Unilin={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=e.Unilin.TagManagerModule.GTM,o=e.Unilin.UnilinHelpers,r=e.Unilin.GoogleMapsLoader,i=function(){function e(){}var t;return e.QueryParameters=((t=function(){}).address="address",t.country="countryCode",t.floorTypes="floorTypes",t.services="services",t.sorting="sorting",t.latitude="latitude",t.longitude="longitude",t),e}();t.FindPartnerConstants=i;var a=function(e){function n(n){var o=e.call(this)||this;return o.event="FindDealer"==n?t.GA4Constants.Events.FIND_A_DEALER_INITIATED:t.GA4Constants.Events.FIND_AN_INSTALLER_INITIATED,o}return __extends(n,e),n}(e.Features.GA4.BaseEvent),s=function(e){function n(n,o,r,i,a,s,l){var c=e.call(this)||this;return c.dealer_city=null==r?void 0:r.toLowerCase(),c.dealer_postal_code=o,c.dealer_country=null==a?void 0:a.toLowerCase(),c.dealer_province=null==i?void 0:i.toLowerCase(),c.dealer_name=null==s?void 0:s.toLowerCase(),c.dealer_id=null==l?void 0:l.toLowerCase(),c.event="FindDealer"==n?t.GA4Constants.Events.FIND_A_DEALER_IMPRESSION:t.GA4Constants.Events.FIND_AN_INSTALLER_IMPRESSION,c}return __extends(n,e),n}(e.Features.GA4.BaseEvent),l=function(e){function n(n,o,r,i,a){var s=e.call(this)||this;return s.search_city=r,s.search_postal_code=o,s.search_province=i,s.search_country=a,s.event="FindDealer"==n?t.GA4Constants.Events.FIND_A_DEALER_SEARCH:t.GA4Constants.Events.FIND_AN_INSTALLER_SEARCH,s}return __extends(n,e),n}(e.Features.GA4.BaseEvent),c=function(c){function u(t,r){var s,l=c.call(this,t,r.trackingLabel)||this;return l.$element=t,l.params=r,l.markers=[],l.undefined="undefined",l.$form=l.$element.find("form"),l.$errorBox=l.$element.find('[data-selector="error-box"]'),l.$addressInput=l.$element.find("#pac-input"),l.$messageContainer=l.$element.find('[data-selector="no-results-container"]'),l.$sortingContainer=l.$element.find('[data-selector="sorting-container"]'),l.$floorTypeSelector=l.$element.find('[data-selector="floortype-selector"]'),l.$serviceFilters=l.$element.find('[data-selector="service-filters"]'),l.$retailerSearchResultContainer=l.$element.find("#retailer-search-result"),l.$dropdowns=l.$element.find('[data-selector="dropdown"]'),l.mailToDataSelector='[data-selector="mail-partner"]',l.infoWindowMoreInfoDataSelector='[data-selector="infowindow-moreinfo"]',l.knownQueryStringParameters=[i.QueryParameters.address,i.QueryParameters.country,i.QueryParameters.floorTypes,i.QueryParameters.services,i.QueryParameters.sorting],l.gtmMailToAction="click mailto",l.gtmEvent=l.params.trackingLabel,l.enableAddressAutoComplete=function(){return!(!l.params||!l.params.settings)&&!l.params.settings.disableLocatorAutoComplete},l.enablePostalCodeAutoComplete=function(){return!(!l.params||!l.params.settings)&&(!l.params.settings.disableLocatorAutoComplete&&l.params.settings.enableAutoCompleteOnPostalCode)},l.getExcludeGeocodeFilters=function(){return l.params&&l.params.settings?l.params.settings.excludeGeocodeFilters&&l.params.settings.excludeGeocodeFilters.length>0?l.params.settings.excludeGeocodeFilters.toLowerCase().split(";"):l.params.settings.defaultExcludeGeocodeFilters&&l.params.settings.defaultExcludeGeocodeFilters.length>0?l.params.settings.defaultExcludeGeocodeFilters.toLowerCase().split(";"):[]:[]},l.mailTo=function(e){var t,n=jQuery(e.currentTarget),o=n.data("partner-id"),r=l.partnerEmails.find((function(e){return e.id==o}));r&&""!==r.email?(n.attr("href","mailto:"+r.email),t={event:l.gtmEvent,action:l.gtmMailToAction,label:""+o},l.gtmInstance.registerEventOfType(t)):n.hide()},l.gtmInstance=n.getInstance(),l.init(),window.onpopstate=function(e){if(!0===e.state){l.backEntry=!0;var t=o.getQueryParameters(document.location.href);l.updateSearchFilterSorter(t)}},null===(s=e.Features.GA4.GA4.getInstance())||void 0===s||s.pushEvent(new a(l.params.componentName)),l}return __extends(u,c),u.prototype.init=function(){this.initDropDowns(),this.initComponents(),this.initGoogleServices(),this.initEvents(),this.initObserver(),o.initializePopovers(this.$element),this.$element.find("span[data-toggle=popover]").click((function(e){return e.preventDefault()})),this.initQueryStringLocation()||this.update()},u.prototype.initQueryStringLocation=function(){var e=new URLSearchParams(location.search);return!!(e.has(i.QueryParameters.country)&&e.has(i.QueryParameters.latitude)&&e.has(i.QueryParameters.longitude)&&e.has(i.QueryParameters.address))&&(this.searchRetailersByParams(e.get(i.QueryParameters.address),e.get(i.QueryParameters.latitude),e.get(i.QueryParameters.longitude),e.get(i.QueryParameters.country)),!0)},u.prototype.initDropDowns=function(){var e=this;jQuery(document).on("click",(function(t){return e.closeDropdowns(t)})),jQuery.each(this.$dropdowns.find('[data-toggle="collapse"][data-mode="single"]'),(function(t,n){var o=jQuery(n).data("target");jQuery(o).find('input[type="radio"]').on("change",(function(t){var n='[data-target="#'+jQuery(t.currentTarget).closest('[data-selector="collapse-panel"]').prop("id")+'"]';e.$dropdowns.find(n).trigger("click")}))})),this.$element.find("#filterBlock:not(.in)").css("height","0px")},u.prototype.closeDropdowns=function(e){if(e)var t=jQuery(e.target);jQuery.each(this.$dropdowns,(function(e,n){var o=jQuery(n),r=o.find('[data-toggle="collapse"]');o===t||o.has(t[0]).length||r.not(".collapsed").trigger("click")}))},u.prototype.updateSearchFilterSorter=function(e){this.autoCompleteUsed=!1,i.QueryParameters.address in e&&this.$addressInput.val(e[i.QueryParameters.address]),this.updateCheckboxes(this.$floorTypeSelector,i.QueryParameters.floorTypes in e?e[i.QueryParameters.floorTypes].split(","):null),this.updateCheckboxes(this.$serviceFilters,i.QueryParameters.services in e?e[i.QueryParameters.services].split(","):null),i.QueryParameters.sorting in e&&this.$sortingSelectize[0].selectize.setValue(e[i.QueryParameters.sorting])},u.prototype.update=function(){var e=this;this.$addressInput.val()?this.performGeoCodeSearch(this.$addressInput.val(),(function(t){return e.searchRetailersByGeocoderResult(t)})):this.updateCountryInfo()},u.prototype.updateCheckboxes=function(e,t){e&&e.length&&e.find("input[type=checkbox]").each((function(e,n){n.checked=!(!t||!t.length)&&t.indexOf(n.id)>-1}))},u.prototype.initComponents=function(){var e=this;this.$countrySelectize=this.$element.find('[data-selector="country-selection"]').selectize(),this.$countrySelectize[0].selectize.on("change",(function(t){e.updateCountryInfo(t)})),this.params.settings.enableSortingFilters&&(this.hideSorting=this.$sortingContainer.find("option").length<=1,this.$sortingSelectize=this.$element.find('[data-selector="filter-selection"]').selectize(),this.$sortingSelectize[0].selectize.on("change",(function(){e.update()})))},u.prototype.initGoogleServices=function(){var e,t,n=this;r.isGooglePlacesLoaded()&&(this.params.settings.enableGoogleMap&&(this.infoWindow=new google.maps.InfoWindow({maxWidth:640,disableAutoPan:!0}),e=[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]},{featureType:"poi",stylers:[{visibility:"off"}]}],this.googleMap=new google.maps.Map(document.getElementById("google-map"),{center:new google.maps.LatLng(-28.0080047,-111.1842297),mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,panControl:!0,scaleControl:!0,zoomControl:!0,clickableIcons:!1,zoom:8,maxZoom:null,styles:e})),this.enableAddressAutoComplete()&&(t=["(cities)"],this.enablePostalCodeAutoComplete()&&(t=["(regions)"]),this.googleAutoComplete=new google.maps.places.Autocomplete(this.$addressInput.get(0),{types:t,componentRestrictions:{country:this.$countrySelectize[0].selectize.getValue()}}),this.googleAutoComplete.addListener("place_changed",(function(){!n.googleAutoComplete.getPlace().geometry||(n.autoCompleteUsed=!0)}))),this.googleGeoCoder=new google.maps.Geocoder)},u.prototype.executeSearch=function(){var e=this;this.$form.valid()?this.performGeoCodeSearch(this.$addressInput.val(),(function(t){return e.searchRetailersByGeocoderResult(t)})):(this.clear(),this.showErrorBox())},u.prototype.initObserver=function(){var e=this;this.observer=new IntersectionObserver((function(t){return e.partnerElementsVisible(t)}),{rootMargin:"0px",threshold:1})},u.prototype.partnerElementsVisible=function(t){var n=this;t.forEach((function(t){var o;if(t.isIntersecting&&t.target&&!t.target.getAttribute("gtm-tracked")&&(t.target.setAttribute("gtm-tracked","true"),t.target)){var r=n.params.componentName.toLowerCase()+":jspartnerdisplayed",i=jQuery(t.target).find('[data-selector="partner-name"]').data("partnername"),a={event:r,partnerName:i,partnerId:t.target.id,query:n.searchedAddressInput,address_components:n.getAddressString()};n.gtmInstance.registerEventOfType(a),null==(o=e.Features.GA4.GA4.getInstance())||o.pushEvent(new s(n.params.componentName,n.searchedPostalCode,n.searchedCity,n.searchedProvince,n.searchedCountry,i,t.target.id))}}))},u.prototype.initEvents=function(){var t=this;this.$addressInput.keyup((function(e){13!==e.keyCode&&(t.autoCompleteUsed=!1)})),this.$form.on("submit",(function(e){e.preventDefault(),t.executeSearch()})),this.$floorTypeSelector.change((function(){return t.update()})),this.$serviceFilters.change((function(){return t.update()})),jQuery('[data-selector="collapse-filters"]').on("click",(function(e){e.preventDefault(),jQuery(e.currentTarget).closest('[data-selector="Fad-filter"]').find("[type=submit]").toggle()})),e.Unilin.UnilinHelpers.attachObserver(this.$errorBox,(function(){t.$errorBox.has(".field-validation-error").length>0?t.$errorBox.show():t.$errorBox.hide()})),jQuery(this.$retailerSearchResultContainer).on("click",this.mailToDataSelector,(function(e){return t.mailTo(e)}))},u.prototype.performGeoCodeSearch=function(e,t){var n,o=this;if(e){if(this.clear(),!r.isGooglePlacesLoaded())return void this.showNoResultsContainer();n=this.autoCompleteUsed&&this.googleAutoComplete?{placeId:this.googleAutoComplete.getPlace().place_id}:{address:e+", "+this.$countrySelectize[0].selectize.getValue(),componentRestrictions:{country:this.$countrySelectize[0].selectize.getValue()}},this.googleGeoCoder.geocode(n,(function(e,n){if(n===google.maps.GeocoderStatus.OK){var r=o.getExcludeGeocodeFilters();if(e[0].types.filter((function(e){return-1===r.indexOf(e)})).length>0){if(t&&"function"==typeof t)return void t(e[0]);o.params.settings.enableGoogleMap&&(o.googleMap.setCenter(e[0].geometry.location),e[0].geometry.viewport&&o.googleMap.fitBounds(e[0].geometry.viewport))}else o.showNoResultsContainer()}else o.showNoResultsContainer()}))}},u.prototype.clear=function(){this.params.settings.enableGoogleMap&&(this.markers.forEach((function(e){return e.setMap(null)})),this.markers.length=0),this.$sortingContainer.hide(),this.$messageContainer.hide(),this.$retailerSearchResultContainer.html("")},u.prototype.updateCountryInfo=function(e){var t=this;void 0===e&&(e=null),e||(e=this.$countrySelectize[0].selectize.getValue()),r.isGooglePlacesLoaded()&&(this.googleAutoComplete&&this.googleAutoComplete.setComponentRestrictions({country:e}),this.params.settings.enableGoogleMap)&&this.googleGeoCoder.geocode({componentRestrictions:{country:e}},(function(e){t.params.settings.enableGoogleMap&&e&&e[0]&&e[0].geometry&&(t.googleMap.setCenter(e[0].geometry.location),e[0].geometry.viewport&&t.googleMap.fitBounds(e[0].geometry.viewport))}))},u.prototype.showRetailerSearchResult=function(n){var o,i,a=this,s=t.FlooringHelpers.getJsonScript(n);if(!s||!s.success)return this.$sortingContainer.hide(),void this.showNoResultsContainer();if(s.partnerEmails&&(this.partnerEmails=s.partnerEmails),this.params.settings.enableGoogleMap&&location&&r.isGooglePlacesLoaded()){for(o=new google.maps.LatLngBounds,i=0;i<s.markers.length;i++)this.createGoogleMapMarker(s.markers[i],o);this.setBounds(o,null),this.setCenter(o.getCenter()),jQuery("#google-map").on("click",this.infoWindowMoreInfoDataSelector,(function(e){return a.scrollOrNavigateToRetailerBlockByEvent(e)}))}this.$retailerSearchResultContainer.html(n),this.observer&&this.$retailerSearchResultContainer.find(".fad-itm").each((function(e,t){return a.observer.observe(t)})),this.hideSorting||this.$sortingContainer.show(),e.Unilin.UnilinHelpers.initializePopovers(this.$retailerSearchResultContainer),this.params.settings.shouldScrollToResults&&e.Unilin.UnilinHelpers.scrollTo(this.$retailerSearchResultContainer.offset().top-120,"linear",(function(){t.BlazyImage.revalidate(a.$retailerSearchResultContainer)})),t.BlazyImage.revalidate(this.$retailerSearchResultContainer)},u.prototype.createGoogleMapMarker=function(e,t){var n,o=this,r=new google.maps.LatLng(e.latitude,e.longitude),i=new google.maps.Marker({title:e.title,position:r,icon:e.icon,animation:google.maps.Animation.DROP,customId:e.id});t.extend(r),i.setMap(this.googleMap),this.markers.push(i),e.title&&e.address?(n='<div id="'+i.customId+'-infoWindow" class="c-googleinfo"><contact class="c-contact"><div class="c-contact-inner"><div class="c-contact__ttl">'+e.title+'</div><div class="c-contact__addr">'+e.address+'<a data-selector="infowindow-moreinfo" data-partnerid=\''+e.id+"' href=\""+e.url+'" class="u-text-size-smaller"> '+e.moreInfoPlaceholder+"</a>",google.maps.event.addListener(i,"click",function(e,t,n){return function(){var r;n&&n.close(),n.setContent(t),n.open(o.googleMap,e);var i=o.googleMap.getDiv().clientWidth,a=jQuery(window).width()<768,s=o.$element.find("#"+e.customId+"-infoWindow"),l=100+s.height(),c=40+s.width();c/=2,a||(l+=o.$element.find(".fad__map__ctrl").height()-65),(r=o.getPixelPosition(n)).y<=l&&o.googleMap.panBy(0,-1*(l-r.y)),r.x-c<0&&o.googleMap.panBy(-1*c,0),r.x+c>=i&&o.googleMap.panBy(c,0)}}(i,n,this.infoWindow))):google.maps.event.addListener(i,"click",(function(){o.scrollToRetailerBlockById(i.customId)}))},u.prototype.scrollToRetailerBlockById=function(t){this.$retailerSearchResultContainer.find(".fad__itm").each((function(e,t){jQuery(t).removeClass("fad__itm--active")}));var n=this.$retailerSearchResultContainer.find("#"+t);e.Unilin.UnilinHelpers.scrollTo(n.offset().top-100,500,(function(){return n.addClass("fad__itm--active")}))},u.prototype.scrollOrNavigateToRetailerBlockByEvent=function(e){var t=jQuery(e.currentTarget).data("partnerid");void 0===jQuery(e.currentTarget).href&&""!==t&&(e.preventDefault(),this.scrollToRetailerBlockById(t))},u.prototype.getPixelPosition=function(e){var t=Math.pow(2,this.googleMap.getZoom()),n=new google.maps.LatLng(this.googleMap.getBounds().getNorthEast().lat(),this.googleMap.getBounds().getSouthWest().lng()),o=this.googleMap.getProjection().fromLatLngToPoint(n),r=this.googleMap.getProjection().fromLatLngToPoint(e.getPosition());return new google.maps.Point(Math.floor((r.x-o.x)*t),Math.floor((r.y-o.y)*t))},u.prototype.setBounds=function(e,t){var n,o,r=this,i=this.googleMap,a=i.getProjection();e||(e=i.getBounds()),n=a.fromLatLngToPoint(e.getNorthEast()),o=a.fromLatLngToPoint(e.getSouthWest()),t?n.y-=192/Math.pow(2,i.getZoom()):google.maps.event.addListenerOnce(i,"bounds_changed",(function(){r.setBounds(e,1)})),i.fitBounds(new google.maps.LatLngBounds(a.fromPointToLatLng(o),a.fromPointToLatLng(n)))},u.prototype.setCenter=function(e){var t=this.googleMap,n=Math.pow(2,t.getZoom()),o=t.getProjection().fromLatLngToPoint(e);t.setCenter(t.getProjection().fromPointToLatLng(new google.maps.Point(o.x,o.y+96/n)))},u.prototype.searchRetailersByParams=function(e,t,n,o){this.performRetailerSearch(this.buildSearchModel(e,t,n,o))},u.prototype.searchRetailersByGeocoderResult=function(t){var n,o,r,i,a;o=null==t?this.$addressInput.val():t.formatted_address,i=null==t?null:t.geometry.location.lat().toString(),a=null==t?null:t.geometry.location.lng().toString(),r=this.$countrySelectize[0].selectize.getValue(),t&&(this.addressComponents=t.address_components),this.getDetailedSearchComponents(t.address_components),this.performRetailerSearch(this.buildSearchModel(o,i,a,r)),null===(n=e.Features.GA4.GA4.getInstance())||void 0===n||n.pushEvent(new l(this.params.componentName,this.searchedPostalCode,this.searchedCity,this.searchedProvince,this.searchedCountry))},u.prototype.getDetailedSearchComponents=function(e){var t=this;e.forEach((function(e){e.types.indexOf("locality")>=0&&(t.searchedCity=e.long_name),e.types.indexOf("postal_code")>=0&&(t.searchedPostalCode=e.long_name),e.types.indexOf("administrative_area_level_2")>=0?t.searchedProvince=e.long_name:e.types.indexOf("country")>=0&&(t.searchedCountry=e.long_name)}))},u.prototype.buildSearchModel=function(e,t,n,o){var r=function(e){return jQuery.makeArray(e.find(":checked").map((function(e,t){return t.id})))},i=this.params.settings.enableSortingFilters?"distance"===this.$sortingSelectize[0].selectize.getValue():this.params.settings.defaultSorting?"distance"===this.params.settings.defaultSorting:null;return{address:e,latitude:t,longitude:n,isoCode:o,floorTypes:r(this.$floorTypeSelector)||null,services:r(this.$serviceFilters)||null,distanceFilter:i,promoCode:this.params.settings.promoCode}},u.prototype.performRetailerSearch=function(e){var n,o,r,a=this;t.FlooringHelpers.showFullScreenWaitPanel(),this.searchedAddressInput=e.address,n={event:this.trackingLabel,action:this.params.componentName,label:e.address,address_components:this.getAddressString(),floorTypes:e.floorTypes.join(";"),services:e.services.join(";")},this.gtmInstance.registerEventOfType(n),this.backEntry||(o=window.location.href.split("?")[0],r=new URLSearchParams(i.QueryParameters.address+"="+encodeURIComponent(e.address)+"&"+i.QueryParameters.country+"="+encodeURIComponent(e.isoCode)),e.floorTypes&&e.floorTypes.length&&r.append(i.QueryParameters.floorTypes,e.floorTypes.toString()),e.services&&e.services.length&&r.append(i.QueryParameters.services,e.services.toString()),this.params.settings.enableSortingFilters&&r.append(i.QueryParameters.sorting,this.$sortingSelectize[0].selectize.getValue()),o=o+"?"+t.FlooringHelpers.mergeUnexistingQuerystringParametersFromCurrentUrl(r.toString(),this.knownQueryStringParameters),window.history.pushState(!0,document.title,o)),window.$http.post(this.params.searchUrl,e).done((function(e){a.showRetailerSearchResult(e);var t=a.$element.find(".mobileDescriptionTeaser");t.on("click",(function(e){t.is(":visible")&&jQuery(e.currentTarget).siblings(".fullDescription").toggle()}))})).always((function(){return t.FlooringHelpers.hideWaitPanel()}))},u.prototype.getAddressString=function(){return(this.searchedCity?this.searchedCity:this.undefined)+","+(this.searchedProvince?this.searchedProvince:this.undefined)+","+(this.searchedCountry?this.searchedCountry:this.undefined)},u.prototype.showNoResultsContainer=function(){this.$messageContainer.show(),this.params.settings.shouldScrollToResults&&o.scrollTo(this.$messageContainer.offset().top-120,"linear")},u.prototype.showErrorBox=function(){this.$errorBox.show(),this.params.settings.shouldScrollToResults&&o.scrollTo(this.$errorBox.offset().top-120,"linear")},u}(t.FlooringBase);t.FindPartner=c}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(o){var r=function(n){function o(o,r){var i,a,s=n.call(this)||this;return s.ecommerce=new t.Features.GA4.Ecommerce,s.ecommerce.value=null===(i=o[0])||void 0===i?void 0:i.price,s.ecommerce.currency=null===(a=o[0])||void 0===a?void 0:a.currency,s.ecommerce.items||(s.ecommerce.items=[]),o.forEach((function(t){var n=new e.ScBase.Features.GA4.EcommerceItem;n.item_id=t.id,n.item_name=t.name,n.item_brand=t.brand,n.item_category=t.category,n.item_category2=t.commercialRangeName,n.item_variant=t.variant,n.index=t.gridPosition,n.quantity=r,n.price=t.price,n.currency=t.currency,s.ecommerce.items.push(n)})),s}return __extends(o,n),o}(t.Features.GA4.BaseEvent),i=function(e){function t(t,o,r){var i=e.call(this,t,0)||this;return i.event=n.GA4Constants.Events.GA4_VIEW_CART,i.ecommerce.currency=o,i.ecommerce.value=r,i}return __extends(t,e),t}(r),a=function(e){function t(t,o){var r=e.call(this,[t],o)||this;return r.event=n.GA4Constants.Events.GA4_ITEM_ADD_TO_CART,r}return __extends(t,e),t}(r),s=function(e){function t(t){var o=e.call(this,[t],0)||this;return o.event=n.GA4Constants.Events.GA4_ITEM_REMOVED_FROM_CART,o}return __extends(t,e),t}(r),l=function(e){function t(){var t=e.call(this)||this;return t.event=n.GA4Constants.Events.USER_IDENTIFICATION,t}return __extends(t,e),t}(t.Features.GA4.BaseEvent),c=function(e){function t(t,o,r,i,a,s,l){var c=e.call(this)||this;return c.item_id=t,c.item_name=o,c.item_brand=r,c.item_category=a,c.item_category2=i,c.currency=s,c.price=l,c.event=n.GA4Constants.Events.SAMPLE_REQUEST_INITIATED,c}return __extends(t,e),t}(t.Features.GA4.BaseEvent),u=function(){function e(){}return e.registerAddToCart=function(e,n){var o;null===(o=t.Features.GA4.GA4.getInstance())||void 0===o||o.pushEvent(new a(e,n))},e.registerViewCart=function(e,n,o){var r;null===(r=t.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(new i(e,n,o))},e.registerRemoveFromCart=function(e){var n;null===(n=t.Features.GA4.GA4.getInstance())||void 0===n||n.pushEvent(new s(e))},e.registerAddSampleToCart=function(e,n,o,r,i,a,s){var l;null===(l=t.Features.GA4.GA4.getInstance())||void 0===l||l.pushEvent(new c(e,n,o,r,i,a,s))},e.registerUserIdentified=function(){var e;null===(e=t.Features.GA4.GA4.getInstance())||void 0===e||e.pushEvent(new l)},e}();o.GA4Helpers=u}(n.GA4||(n.GA4={}))}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){!function(e){var t,n=function(){function e(){}return e.PAGE_READY="page_ready",e.FLOOR_LISTER_INITIATED="floor_lister_initiated",e.FLOOR_LISTER_FILTER_APPLIED="floor_lister_filter_applied",e.FLOOR_LISTER_RESULTS_SORTED="floor_lister_results_sorted",e.FLOOR_LISTER_FILTER_REMOVED="floor_lister_filter_removed",e.USER_IDENTIFICATION="user_identification",e.FLOOR_EXPLORER_INITIATED="floor_explorer_initiated",e.FLOOR_EXPLORER_COMPLETED="floor_explorer_completed",e.PROJECT_CALCULATOR_INITIATED="project_calculator_initiated",e.PROJECT_CALCULATOR_ITEM_ADDED="project_calculator_item_added",e.PROJECT_CALCULATOR_OFFER_CALCULATED="project_calculator_offer_calculated",e.FIND_A_DEALER_INITIATED="find_a_dealer_initiated",e.FIND_A_DEALER_DETAILS="find_a_dealer_details",e.FIND_A_DEALER_IMPRESSION="find_a_dealer_impression",e.FIND_A_DEALER_SEARCH="find_a_dealer_search",e.FIND_AN_INSTALLER_INITIATED="find_an_installer_initiated",e.FIND_AN_INSTALLER_DETAILS="find_an_installer_details",e.FIND_AN_INSTALLER_IMPRESSION="find_an_installer_impression",e.FIND_AN_INSTALLER_SEARCH="find_an_installer_search",e.FAQ_FEEDBACK_SELECTED="FAQ_feedback_selected",e.POSITIVE="positive",e.NEGATIVE="negative",e.FAQ_FEEDBACK_SUBMITTED="FAQ_feedback_submitted",e.CONTACT_FORM_SUBMITTED="contact_form_submitted",e.BROCHURE_REQUESTED="brochure_requested",e.SAMPLE_REQUEST_INITIATED="sample_request_initiated",e.ROOMVIEWER_INITIATED="roomviewer_initiated",e.ROOMVIEWER_COMPLETED="roomviewer_completed",e.GA4_ITEM_ADD_TO_CART="ga4_item_add_to_cart",e.GA4_ITEM_REMOVED_FROM_CART="ga4_item_removed_from_cart",e.GA4_VIEW_CART="ga4_view_cart",e.GA4_BEGIN_CHECKOUT="ga4_begin_checkout",e.GA4_ADD_PAYMENT_INFO="ga4_add_payment_info",e.GA4_PURCHASE="ga4_purchase",e}();e.Events=n,t=function(){function e(){}return e.POSITIVE="positive",e.NEGATIVE="negative",e}(),e.Values=t}(e.GA4Constants||(e.GA4Constants={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(t){function n(e,n){var o=t.call(this,e,n)||this;return o.$element=e,o.$parentElement=o.$element.closest('[data-type="tab"]'),o.$currentStep=o.$element.parent(),o.$nextButton=o.$currentStep.find('button[data-selector="steps-action"]'),o.$previousButton=o.$currentStep.find('span[data-selector="steps-action"]'),o.currentStepId=o.$currentStep.data("selector"),o.$nextButton.length&&o.$nextButton.on("click",(function(e){return o.onClickNext(e)})),o.$previousButton.length&&o.$previousButton.on("click",(function(e){return o.onClickPrevious(e)})),jQuery('[data-selector="tab-header"]').on("click",(function(){return o.initiateOnStepShownEvent()})),jQuery(document).on(o.currentStepId+"_Shown",(function(){return o.onStepShown()})),o.stepType=o.$parentElement.find("#StepType").val(),o.componentType=o.$parentElement.find("#ComponentType").val(),o.initiateOnStepShownEvent(),o}return __extends(n,t),n.prototype.initiateOnStepShownEvent=function(){this.$parentElement.hasClass("active")&&jQuery("#"+this.currentStepId).hasClass("current")&&jQuery(document).trigger(this.currentStepId+"_Shown")},n.prototype.onClickNext=function(e){this.handlePreviousOrNext(e)},n.prototype.onClickPrevious=function(e){this.handlePreviousOrNext(e)},n.prototype.handlePreviousOrNext=function(t){var o,r=jQuery(t.currentTarget).prop("id"),i=this.$parentElement.find('[data-selector="step-header"]#'+r);i.length>0?(this.$parentElement.find('[data-selector="step-header"]').removeClass(n.CLASS_CURRENT).removeClass(n.CLASS_DONE),i.prevAll().addClass(n.CLASS_DONE),i.addClass(n.CLASS_CURRENT),this.$parentElement.find('[data-type="step"]').not(".hidden").addClass("hidden"),this.$parentElement.find('[data-selector="'+r+'"]').removeClass("hidden"),jQuery(document).trigger(r+"_Shown")):(this.$parentElement.find('[data-selector="step-header"]#'+this.currentStepId).addClass(n.CLASS_DONE),this.$parentElement.find('[data-type="step"]').not(".hidden").addClass("hidden"),this.$parentElement.find('[data-selector="'+r+'"]').removeClass("hidden")),o=this.$parentElement.find("[data-selector='step-header'].current"),e.Unilin.UnilinHelpers.scrollTo(jQuery(o).offset().top-jQuery(o).height()-100,500),t.preventDefault()},n.prototype.onStepShown=function(){},n.CLASS_CURRENT="current",n.CLASS_DONE="done",n}(t.FlooringBase);t.BaseStep=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e){this.$element=e,this.initEvents()}return e.prototype.initEvents=function(){var e=this;this.$element.find("[data-selector='tab-header']").on("click",(function(t){return e.selectTab(t)})),this.initTabs()},e.prototype.selectTab=function(t){var n=jQuery(t.currentTarget).prop("id");jQuery(t.currentTarget).toggleClass(e.CLASS_ACTIVE).siblings().removeClass(e.CLASS_ACTIVE),jQuery('[data-selector="'+n+'"]').toggleClass(e.CLASS_ACTIVE).siblings().removeClass(e.CLASS_ACTIVE),window.location.hash=jQuery(t.currentTarget).hasClass(e.CLASS_ACTIVE)?n:"",t.preventDefault()},e.prototype.initTabs=function(){var e=this.getHashInUrl();e.length>0&&jQuery(e).trigger("click")},e.prototype.getHashInUrl=function(){return jQuery(location).attr("hash")},e.CLASS_ACTIVE="active",e}();e.TabsHelper=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(o){var r=function(r){function i(e){var t=r.call(this,e,null)||this;return t.$element=e,t.initElements(),ko.applyBindings(t,t.$element[0]),t}return __extends(i,r),i.prototype.initElements=function(){var e,r,i=this;this.$form=this.$element.find("form"),this.$errorBox=this.$element.find('[data-selector="error-box"]'),this.$phoneField=this.$element.find("#Phone"),this.$landlineField=this.$element.find("#Landline"),this.$countryCodeHiddenInput=this.$element.find("#CountryCode"),e=jQuery("#CountryCode").val(),t.Unilin.IntlTelInput.initialize(this.$phoneField,"MOBILE",e),t.Unilin.IntlTelInput.initialize(this.$landlineField,"FIXED_LINE",e),(r=o.Selectize.initializeAll(this.$element).filter((function(e){var t=e;return t&&t.$input&&"Country"===t.$input.attr("id")})))&&r.length>0&&(this.$countrySelectize=r[0],this.$countrySelectize.on("change",(function(e){return i.countryChanged(e)}))),t.Unilin.UnilinHelpers.initializePopovers(this.$element),this.customValidation=new n.CustomValidationHelper(this.$element,this.$form,this.$nextButton,this.$errorBox,!0)},i.prototype.onStepShown=function(){var n;r.prototype.onStepShown.call(this),t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/Find"+this.componentType+"/"+this.stepType.toLowerCase()+"/step2",this.componentType+" "+this.stepType+" Step 2 - Personal Info"),null===(n=e.ScBase.Features.GA4.GA4.getInstance())||void 0===n||n.pushVirtualPageEvent("/Find"+this.componentType+"/"+this.stepType.toLowerCase()+"/step2",this.componentType+" "+this.stepType+" Step 2 - Personal Info")},i.prototype.onClickNext=function(e){var t=this;this.customValidation.validate((function(){r.prototype.onClickNext.call(t,e)}))},i.prototype.countryChanged=function(e){var t,n=this.$countrySelectize.getItem(e).find("span");n&&((t=n.data("countrycode"))&&(this.$phoneField.intlTelInput("setCountry",t),this.$landlineField.intlTelInput("setCountry",t)),this.$countryCodeHiddenInput.val(t))},i}(n.BaseStep);o.ContactForm=r}(n.Shared||(n.Shared={}))}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(e,n){var o=t.call(this,e,"js"+n.componentType.toLowerCase()+"detail")||this;return o.$element=e,o.params=n,o.initElements(),o}return __extends(n,t),n.prototype.initElements=function(){this.$form=this.$parentElement.find("form"),this.$notificationBox=this.$element.find('[data-selector="notification-placeholder"]')},n.prototype.getSubmitModel=function(){var e,t,n={},o=this.$form.serializeArray();return o.forEach((function(e){return n[e.name]=e.value})),n.RoomTypes=o.filter((function(e){return"RoomTypes"===e.name})).map((function(e){return e.value})),n.RoomTypes.shift(),e=jQuery("#Phone"),t=jQuery("#Landline"),e.intlTelInput("isValidNumber")&&e.val().length>0&&(n.Phone=e.intlTelInput("getNumber")),t.intlTelInput("isValidNumber")&&t.val().length>0&&(n.Landline=t.intlTelInput("getNumber")),n.Consent=n.hasOwnProperty("Consent"),n},n.prototype.onStepShown=function(){var e,t,n,o=this,r=function(e,t){var n,r=o.$element.find('[data-selector="'+e+'"]');if(Array.isArray(t))for(r.empty(),"RoomTypes"===e&&(t=i.RoomTypes.map((function(e){return""+o.$form.find('div[data-value="'+e+'"] span').text()}))),n=0;n<t.length;n++)r.append(t[n]).append("<br/>");else r.text(t);"checkbox"===r.prop("type")&&r.prop("checked","true"===t)},i=this.getSubmitModel();for(e in i)r(e,i[e]);var a=i.Phone,s=i.Landline,l=this.$element.find('[data-selector="Phone-container"]');a?l.show():l.hide(),t=this.$element.find('[data-selector="Landline-container"]'),s?t.show():t.hide(),n=this.$element.find('[data-selector="phone-numbers-container"]'),a||s?n.show():n.hide()},n.prototype.onClickNext=function(n){var o=this;e.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.submitUrl,this.getSubmitModel(),"partnerDetailForm"+this.params.uniqueId).done((function(r){if(r){var i=e.FlooringHelpers.getJsonScript(r);i&&i.succeeded?t.prototype.onClickNext.call(o,n):(o.$notificationBox.html(r),o.$notificationBox.show())}})).always((function(){e.FlooringHelpers.hideWaitPanel(),o.registerEvent(o.params.gtmEventName)}))},n}(e.BaseStep);t.Overview=n}(e.Shared||(e.Shared={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(o){var r=function(o){function r(e){var t=o.call(this,e,null)||this;return t.$element=e,t.initElements(),t}return __extends(r,o),r.prototype.initElements=function(){this.$form=this.$element.find('[data-selector="question-input-form"]'),this.$errorBox=this.$element.find('[data-selector="error-box"]'),this.customValidation=new n.CustomValidationHelper(this.$element,this.$form,this.$nextButton,this.$errorBox)},r.prototype.onStepShown=function(){var n;o.prototype.onStepShown.call(this),t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/Find"+this.componentType+"/question/step1",this.componentType+" Question Step 1 - Question"),null===(n=e.ScBase.Features.GA4.GA4.getInstance())||void 0===n||n.pushVirtualPageEvent("/Find"+this.componentType+"/question/step1",this.componentType+" Question Step 1 - Question")},r.prototype.onClickNext=function(e){var t=this;this.customValidation.validate((function(){o.prototype.onClickNext.call(t,e)}))},r}(n.BaseStep);o.Step1=r}(n.Question||(n.Question={}))}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(o){var r=function(n){function o(e,t){var o=n.call(this,e,t)||this;return o.$element=e,o.params=t,o}return __extends(o,n),o.prototype.onStepShown=function(){var o;n.prototype.onStepShown.call(this),t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/Find"+this.componentType+"/question/step3",this.componentType+" Question Step 3 - Summary"),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushVirtualPageEvent("/Find"+this.componentType+"/question/step3",this.componentType+" Question Step 3 - Summary")},o.prototype.onClickNext=function(o){var r,i;n.prototype.onClickNext.call(this,o),(i=t.Unilin.TagManagerModule.GTM.getInstance()).registerVirtualPageview("/Find"+this.componentType+"/question/step4",this.componentType+" Question Step 4 - Confirmation"),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent("/Find"+this.componentType+"/question/step4",this.componentType+" Question Step 4 - Confirmation"),i.registerEvent("js"+this.componentType.toLowerCase()+"detail",this.componentType+"Question",this.$element.find("#DealerName").data("name"))},o}(n.Shared.Overview);o.Step3=r}(n.Question||(n.Question={}))}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(t){function n(n){var o=t.call(this,n)||this;return o.$element=n,e.Unilin.UnilinHelpers.initializePopovers(n),o}return __extends(n,t),n}(t.FlooringBase);t.FloorSpecifications=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(n){function o(o,r){var i=n.call(this,o,r.trackingLabel)||this;return i.$element=o,i.params=r,r.canAddToCart&&(e.Unilin.UnilinHelpers.initializePopovers(o),i.$price=i.$element.find('[data-selector="price"]'),i.priceFormat=new Intl.NumberFormat(i.contentLanguage,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1}),i.calculator=new t.QuantityCalculator(o,i.trackingLabel,!0,(function(e){return i.updatePrice(e)}))),r.enableProjectCalculator&&(i.projectCalculator=r.useNewProjectCalculatorVersion?new t.ProjectCalculatorWidget(i.$element,r):new t.OldProjectCalculatorWidget(i.$element,r.productId,r.startProjectEndpoint)),i}return __extends(o,n),o.prototype.onAddToCartTriggered=function(e){var t,n,o=jQuery(e.currentTarget);o&&(e.preventDefault(),t=1,(n=this.$component.find('input[data-selector="quantity"]')).length>0&&(t=n.val()),this.shoppingCartManager.addB2CMaterial(o,t))},o.prototype.updatePrice=function(e){var n=t.FlooringHelpers.getFloatValue(this.$price.data("price"))*e;this.$price.text(this.priceFormat.format(n))},o}(t.ComponentWithProductActions);t.Calculator=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e){this.$element=e,this.initElements(),this.initEvents()}return e.prototype.initElements=function(){this.$readMoreToggle=this.$element.find('[data-selector="read-more-toggle"]'),this.$descriptionOverlay=this.$element.find('[data-selector="description-overlay"]'),this.$descriptionContainer=this.$element.find('[data-selector="description-container"]'),this.$description=this.$element.find('[data-selector="description"]')},e.prototype.initEvents=function(){var e=this;jQuery(window).on("load debouncedresize",(function(){e.initReadMore()})),this.$readMoreToggle.click((function(){e.$descriptionOverlay.fadeIn(200)})),this.$descriptionOverlay.mouseleave((function(){e.$descriptionOverlay.hide()})),jQuery(window).click((function(t){var n=jQuery(t.target);n.is(e.$descriptionOverlay)||n.is(e.$readMoreToggle)||e.$descriptionOverlay.hide()}))},e.prototype.initReadMore=function(){var e=this.isOverflown(this.$descriptionContainer);this.$description.toggleClass("overflow",e),this.$readMoreToggle.toggleClass("hide",!e)},e.prototype.isOverflown=function(e){return!!e[0]&&e[0].scrollHeight>e[0].clientHeight},e}();e.Description=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(e,t){this.$element=e,this.settings=t,this.$fadLink=this.$element.find(".js-fad-link"),this.$addressAutoComplete=this.$element.find(".js-address-autocomplete"),this.initAddressAutoComplete(),this.bindEvents()}return t.prototype.initAddressAutoComplete=function(){this.settings.addressAutoCompleteSettings.autoSubmit=!1,this.addressAutocompleteComponent=new e.AddressAutocomplete(this.$addressAutoComplete,this.settings.addressAutoCompleteSettings)},t.prototype.bindEvents=function(){var e=this;this.$fadLink.on("click",this.$element,(function(t){return e.addressAutocompleteComponent.navigateToFad(t)}))},t}();e.FadBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){!function(n){var o=function(){function n(){}return n.registerFloorExplorerFinish=function(n){var o,r={primaryEmail:n,type:t.SapCDPConstants.WebActivityEventType.SuccessfulFloorExplorer,source:window.location.hostname};null===(o=e.Features.SapCDP.SapCDP.getInstance())||void 0===o||o.logWebActivity(r)},n}();n.SapCDPHelpers=o}(t.SapCDP||(t.SapCDP={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){!function(e){!function(e){e.SuccessfulFloorExplorer="Save Results Floor Explorer"}(e.WebActivityEventType||(e.WebActivityEventType={}))}(e.SapCDPConstants||(e.SapCDPConstants={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e,t,n){var o=this;void 0===n&&(n=null),this.$element=e,this.calendarSettings=t,this.onClickDayDelegate=n,this.currentTimeSlots=ko.observableArray([]),this.selectedTimeslot=ko.observable(null),this.selectedDate=ko.observable(null),this.$calendar=this.$element.find('[data-selector="calendar"]').datepicker({minDate:new Date(this.calendarSettings.minimumDate),maxDate:new Date(this.calendarSettings.maximumDate),beforeShowDay:function(e){return o.renderDate(e)},onSelect:function(){return o.dayOnClick()}}),this.moveToFirstAvailableDayNotExcluded(),this.dayOnClick()}return e.prototype.renderDate=function(e){return this.calendarSettings.excludeDays&&this.isExcludeDay(e)?[!1]:this.calendarSettings.availableDays&&this.isInAvailableDates(e)?[!0,"available-day"]:this.calendarSettings.freeVisitDays&&this.isFreeVisitDay(e)?[!1,"free-visit-day"]:[!1]},e.prototype.isInAvailableDates=function(e){var t,n;if(e=this.resetUTCTimeToMidnight(e),!this.calendarSettings.availableDays)return!1;for(t=0;t<this.calendarSettings.availableDays.length;t++)if(n=new Date(this.calendarSettings.availableDays[t].date),this.compareUTCDates(e,n))return!0;return!1},e.prototype.isFreeVisitDay=function(e){if(e=this.resetUTCTimeToMidnight(e),!this.calendarSettings.freeVisitDays)return!1;for(var t=0;t<this.calendarSettings.freeVisitDays.length;t++)if(e.getUTCDay()===this.calendarSettings.freeVisitDays[t]%7)return!0;return!1},e.prototype.isExcludeDay=function(e){var t,n;if(e=this.resetUTCTimeToMidnight(e),!this.calendarSettings.excludeDays)return!1;for(t=0;t<this.calendarSettings.excludeDays.length;t++)if(n=new Date(this.calendarSettings.excludeDays[t].date),n=this.resetUTCTimeToMidnight(n),this.calendarSettings.excludeDays[t].excludeYearly){if(e.getDate()===n.getUTCDate()&&e.getMonth()===n.getUTCMonth())return!0}else if(this.compareUTCDates(e,n))return!0;return!1},e.prototype.dayOnClick=function(){for(var e,t=this.resetUTCTimeToMidnight(this.$calendar.datepicker("getDate")),n=0;n<this.calendarSettings.availableDays.length;n++)if(this.compareUTCDates(t,new Date(this.calendarSettings.availableDays[n].date))&&!this.isExcludeDay(t)){e=this.calendarSettings.availableDays[n];break}e&&(this.currentTimeSlots(e.timeSlots),this.selectedDate(e),this.onClickDayDelegate)&&this.onClickDayDelegate(this.selectedDate)},e.prototype.moveToFirstAvailableDayNotExcluded=function(){var e=this.resetUTCTimeToMidnight(this.$calendar.datepicker("getDate")),t=this.getNextAvailableAndNotExcludedDateFollowing(e);t&&this.$calendar.datepicker("setDate",t)},e.prototype.getNextAvailableAndNotExcludedDateFollowing=function(e){if(e=this.resetUTCTimeToMidnight(e),this.isInAvailableDates(e)&&!this.isExcludeDay(e))return e;var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+1);return new Date(this.calendarSettings.maximumDate)<=t?void 0:this.getNextAvailableAndNotExcludedDateFollowing(t)},e.prototype.getSelectedTimeslotHours=function(e){for(var t,n=0;n<this.selectedDate().timeSlots.length;n++)this.selectedDate().timeSlots[n].id===e&&(t=this.selectedDate().timeSlots[n].hours);return t},e.prototype.compareUTCDates=function(e,t){return e.getUTCDate()===t.getUTCDate()&&e.getUTCMonth()==t.getUTCMonth()&&e.getUTCFullYear()==t.getUTCFullYear()},e.prototype.resetUTCTimeToMidnight=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e}();e.Calendar=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.init=function(){jQuery("[data-fancybox]").fancybox({loop:!1,keyboard:!0,toolbar:!0,infobar:!1,idleTime:!1,buttons:["close"],animationEffect:"fade",transitionEffect:"fade",slideClass:"c-fancybox__slide",baseClass:"c-fancybox",btnTpl:{arrowLeft:'<button data-fancybox-prev class="c-fancybox__btn c-fancybox__btn--prev" title="{{PREV}}"><svg class="c-svg c-svg--fill-white c-fancybox__icon" width="24" height="24"><use href="#chevron-left" xlink:href="#chevron-left"></use></svg></button>',arrowRight:'<button data-fancybox-next class="c-fancybox__btn c-fancybox__btn--next" title="{{NEXT}}"><svg class="c-svg c-svg--fill-white c-fancybox__icon" width="24" height="24"><use href="#chevron-right" xlink:href="#chevron-riz"></use></svg></button>',close:'<button data-fancybox-close class="c-fancybox__btn c-fancybox__btn--close" title="{{CLOSE}}"><svg class="c-svg c-svg--fill-white c-fancybox__icon" width="16" height="16"><use href="#close" xlink:href="#close"></use></svg></button>'},clickContent:function(){return!1}})},e}();e.Fancybox=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){e.Flooring||(e.Flooring={}),$.fn.hasAttr=function(e){return void 0!==this.attr(e)}}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n,o=1,r=arguments.length;o<r;o++)for(n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},function(e){!function(e){!function(e){!function(e){var t,n=function(){};e.ISelectizeListItem=n,t=function(){function e(){}return e.initialize=function(e,t){var n,o,r="True"===e.data("showremovebuttons"),i="True"===e.data("restoreonbackspace"),a="True"===e.data("createitems"),s=e.data("options"),l=e.data("key"),c=[];r&&c.push("remove_button"),i&&c.push("restore_on_backspace");var u=e.find('select[data-selector="'+l+'"]').selectize(__assign({plugins:c,persist:!1,create:a,options:s,valueField:"value",labelField:"text",render:{item:function(e){return"<div><span class='"+e.class+"' "+e.data+">"+e.text+"</span></div>"},option:function(e){return"<div><span class='"+e.class+"' "+e.data+">"+e.text+"</span></div>"}}},t)),p=u[0].selectize,d=s.filter((function(e){return e.selected}));return d&&d.length?(n=d.map((function(e){return e.value})))&&n.length&&p.setValue(n):u.hasAttr("data-selectize-value")&&p.setValue(u.attr("data-selectize-value")),u.show(),u.attr("style","position: absolute; left: -99999px;"),(o=u.find("~div input").get(0))&&(o.setAttribute("readonly","readonly"),o.addEventListener("focus",(function(){o.removeAttribute("readonly"),o.setAttribute("autocomplete","none")}))),p},e.initializeAll=function(t){var n=[];return t.find("[data-selector=selectize]").each((function(t,o){var r=jQuery(o),i=e.initialize(r);n.push(i)})),n},e}(),e.Selectize=t}(e.Shared||(e.Shared={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o,r,i){void 0===r&&(r=!1),void 0===i&&(i=null);var a=t.call(this,n,o)||this;return a.shoppingCartManager=new e.ShoppingCartManager(n,a.trackingLabel),a.update=i,a.calculateOnKeyDown=r,a.numberFormat=new Intl.NumberFormat(a.contentLanguage,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:4,minimumIntegerDigits:1}),a.initEvents(),a}return __extends(n,t),n.prototype.initEvents=function(){var e=this,t=function(t){if(t.length){var n=e.shoppingCartManager.getQuantityFromTotalSize(t);e.calculateInputs(t,n)}},n=function(t){if(t.length){var n=e.shoppingCartManager.getQuantity(t);e.calculateInputs(t,n)}};this.calculateOnKeyDown&&(this.$component.on("keydown",'[data-selector="total-size"]',(function(n){return e.executeCalculation(n,t,1e3)})),this.$component.on("keydown",'[data-selector="quantity"]',(function(t){return e.executeCalculation(t,n,500)}))),this.$component.on("blur",'[data-selector="total-size"]',(function(n){e.clearTimer(),t(jQuery(n.currentTarget))})),this.$component.on("blur",'[data-selector="quantity"]',(function(t){e.clearTimer(),n(jQuery(t.currentTarget))}))},n.prototype.clearTimer=function(){this.inputTimer&&(clearTimeout(this.inputTimer),this.inputTimer=void 0)},n.prototype.executeCalculation=function(e,t,n){this.clearTimer();var o=jQuery(e.currentTarget),r=8===e.keyCode;r&&1===o.val().length||(this.inputTimer=setTimeout(t,r?2e3:n,o))},n.prototype.calculateInputs=function(t,n){var o;if(n&&!(n<0)){var r=t.parents('[data-selector="calculator"]'),i=r.find('[data-selector="total-size"]'),a=r.find('[data-selector="quantity"]'),s=e.FlooringHelpers.getFloatValue(i.data("packed-size"));(isNaN(s)||s<=0)&&(s=1),o=s*n,i.val(this.numberFormat.format(o)),a.data("value-old",o),a.val(n),a.data("value-old",n),null!=this.update&&this.update(o,t,n)}},n}(e.FlooringBase);e.QuantityCalculator=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(n,o){this.$element=n,this.$element.find(".collapse").on("hidden.bs.collapse",(function(e){jQuery(e.currentTarget).css("height","")})),this.$element.find(".collapse").on("shown.bs.collapse shown.bs.tab",(function(){e.BlazyImage.revalidate()})),o.productDetailImpressionEvent&&e.FlooringGtm.registerProductDetailImpression(o.productDetailImpressionEvent,t.trackingLabel)}return t.trackingLabel="jsAccessoryDetail",t}();e.AccessoryDetail=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n){var o=t.call(this,n,"jsBucketedAccessoryLister")||this;return o.$element=n,e.FlooringGtmHelpers.bindProductClickEvent(o.$element,o.trackingLabel),o}return __extends(n,t),n}(e.ComponentWithProductActions);t.AccessoryLister=n}(e.Commerce||(e.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function t(n){this.$element=n,n.find(t.anchorBarElement).each((function(t,n){var o=jQuery(n),r=o.attr("href"),i=jQuery(r);i.length?(o.show(),o.on("click",(function(t){return t.preventDefault(),e.Unilin.UnilinHelpers.scrollTo(i.offset().top,"linear",(function(){window.location.hash=r})),!1}))):o.remove()}))}return t.removeUnexisting=function(){jQuery(t.anchorBarElement).each((function(e,t){var n=jQuery(t);jQuery(n.attr("href")).length||n.remove()}))},t.refresh=function(t){t||(t=jQuery(document));var n=t.find(window.location.hash);n.length&&e.Unilin.UnilinHelpers.scrollTo(n.offset().top,"linear")},t.anchorBarElement="[data-selector='anchorbar-element']",t}();t.AnchorBar=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t,n){var o=e.call(this,t,"jsarticlearchive")||this;return o.$element=t,o.params=n,o.initElements(),o.initEvents(),o.mergeRows(),o}return __extends(t,e),t.prototype.initElements=function(){this.$container=this.$element.find("[data-selector=archive-container]"),this.currentPage=1,this.lastPublicationYear=this.params.lastPublicationYear},t.prototype.initEvents=function(){var e=this;this.$element.on("inview","div[data-selector=load-more]",(function(t,n){return e.loadMore(t,n)}))},t.prototype.loadMore=function(){var e=this;jQuery.ajax({url:this.params.loadMoreUrl,type:"POST",data:{CategoryIds:this.params.categoryIds,CurrentPage:++this.currentPage,LastPublicationYear:this.lastPublicationYear},success:function(t){e.onSearchUpdateReceived(t)}})},t.prototype.onSearchUpdateReceived=function(e){if(e){var t=JSON.parse(jQuery(e).filter("script[type=json]")[0].innerHTML);this.$container.find("div[data-selector=load-more]").remove(),this.$container.append(e),this.mergeRows(),this.lastPublicationYear=t.lastPublicationYear}},t.prototype.mergeRows=function(){for(var e,t,n=this,o=jQuery("[data-selector=years]"),r=0;r<o.length-1;++r)e=jQuery(o[r]),t=jQuery(o[r+1]),e.data("year")===t.data("year")&&(e.append(t.children()),t.remove());jQuery("[data-selector=years]").each((function(e,t){for(var o,r=jQuery(t).find("[data-selector=article-row]"),i=0;i<r.length-1;++i){var a=jQuery(r[i]),s=a.children(),l=s.length%n.params.columns;if(0!==l&&a.length!==n.params.columns){var c=jQuery(r[i+1]),u=c.children(),p=Math.min(l,n.params.columns-s.length);for(o=0;o<p;++o)a.append(jQuery(u[o]));c.children().length||(c.next(".art-list__divider").remove(),c.remove())}}}))},t}(e.FlooringBase);e.ArticleArchive=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o){var r=t.call(this,n,"jsArticleOverview")||this;return r.historySupport=function(){return!(!history||!history.replaceState)},r.queryString=function(){return r.$tagSelection.get(0).selectize.items.join(",")},r.updateUrl=o.updateUrl,r.knownQueryStrings=o.knownQueryStrings,r.$articlesGrid=r.$component.find('[data-selector="articles"]'),r.$tagSelection=r.$component.find('[data-selector="tag-filter"]').selectize({plugins:["remove_button"],onChange:function(){return r.filterArticles()}}),r.historySupport()&&(history.replaceState(e.FlooringHelpers.mergeUnexistingQuerystringParametersFromCurrentUrl(r.queryString(),r.knownQueryStrings),document.title+" "),window.onpopstate=function(e){return r.popHistoryState(e)}),r}return __extends(n,t),n.prototype.filterArticles=function(){var t=this;e.FlooringHelpers.showFullScreenWaitPanel(),this.$http.post(this.updateUrl,{queryString:this.queryString()}).always((function(){return e.FlooringHelpers.hideWaitPanel()})).done((function(n){t.$articlesGrid.get(0).innerHTML=n,t.changeHistoryState(),e.BlazyImage.revalidate()}))},n.prototype.popHistoryState=function(e){this.historySupport()&&(this.popState=!0,e.state?this.$tagSelection.get(0).selectize.setValue(e.state.split(","),!1):(this.$tagSelection.get(0).selectize.clear(!1),this.filterArticles()))},n.prototype.changeHistoryState=function(){if(this.historySupport()){if(!this.popState){var t=this.queryString(),n=window.location.toString(),o=n.indexOf("?");o>-1&&(n=n.substr(0,o)),(t=e.FlooringHelpers.mergeUnexistingQuerystringParametersFromCurrentUrl(t,this.knownQueryStrings))&&(n=n+"?tags="+t),history.pushState(t,document.title+" ",n)}this.popState=!1}},n}(e.FlooringBase);e.ArticleOverview=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=e.Unilin.Toast,o=function(){function t(){}return t.clearAssetCart=function(){e.Unilin.Storage.remove(this.storageKey),this.triggerAssetChange("clear",null)},t.queryAssets=function(e,t){void 0===t&&(t="/");var n=this.getStoredAssets();return e&&t?n.filter((function(n){return n.id===e&&n.path===t})):e?n.filter((function(t){return t.id===e})):t?n.filter((function(e){return e.path===t})):[]},t.setAsset=function(t,n){var o,r,i;t&&t.id&&((o=this.getAssetCart())&&o.assets&&o.assets.length?(o.assets.forEach((function(e,n){if(e.id===t.id&&e.path===t.path)return r=e,void(i=n)})),r?n&&(o.assets.splice(i,1),e.Unilin.Storage.update(this.storageKey,o),this.triggerAssetChange("remove",r)):(o.assets.push(t),e.Unilin.Storage.update(this.storageKey,o),this.triggerAssetChange("add",t))):(e.Unilin.Storage.put(this.storageKey,{assets:[t]}),this.triggerAssetChange("add",t)))},t.getAssetCart=function(){return e.Unilin.Storage.get(this.storageKey)},t.getStoredAssets=function(){var e=this.getAssetCart();return e&&e.assets&&e.assets.length?e.assets:[]},t.triggerAssetChange=function(e,t){jQuery(document).trigger(this.storageKey,[e,t])},t.storageKey="asset_cart",t}(),r=function(){function r(e,t){this.$element=e,this.params=t,this.$element.length&&(r.instance||(r.instance=this),this.bindEvents(),this.initKnockout())}return r.getStoredAsset=function(){return o.getStoredAssets()},r.assetsCount=function(){return this.getStoredAsset().length},r.prototype.assetExists=function(e,t){return void 0===t&&(t="/"),o.queryAssets(e,t).length>0},r.prototype.addAsset=function(e,t,n,r){void 0===t&&(t="/"),void 0===n&&(n=!1),void 0===r&&(r=null),this.params.maxAssets-this.selectedAssets().length<=0?this.showMaxAssetsReachedToast():o.setAsset({id:e,path:t,isPressRelease:n,pressReleaseUrl:r})},r.prototype.addAssets=function(e,t,n,o){var i,a,s,l=e.filter((function(){return function(e){return!this.assetExists(e,t)}}));if(l.length>this.params.maxAssets-this.selectedAssets().length)this.showMaxAssetsReachedToast();else for(r.instance.animateButton(),i=0,a=l;i<a.length;i++)s=a[i],this.addAsset(s,t,o,n)},r.prototype.showMaxAssetsReachedToast=function(){""!=this.params.maxAssetsReachedToastHtml&&n.show(this.params.maxAssetsReachedToastHtml)},r.prototype.removeAsset=function(e,t,n){var r,i,a;if(void 0===t&&(t="/"),void 0===n&&(n=!1),t.length>1)for(r=0,i=o.queryAssets(e,t);r<i.length;r++)a=i[r],o.setAsset({id:a.id,path:a.path,isPressRelease:a.isPressRelease},!0);else o.setAsset({id:e,path:t,isPressRelease:n},!0);this.showErrorMessage("")},r.prototype.clearAllAssets=function(){o.clearAssetCart()},r.onAssetChange=function(e){jQuery(document).on(o.storageKey,(function(t,n,o){return e(n,o)}))},r.prototype.bindEvents=function(){var e=this;jQuery("[data-selector='toggle-selection-box']");jQuery("body").on("click","[data-selector='toggle-selection-box']",(function(t){return e.toggleSelectionBox(t)})),jQuery(document).on("touchmove",(function(){return e.mobileTouchMove=!0})),jQuery(document).on("click touchend",(function(t){if("touchend"===t.type){if(e.mobileTouchMove)return void(e.mobileTouchMove=!1);e.mobileTouchMove=!1}e.closeSelectionBox(t)})),r.onAssetChange((function(t,n){"clear"===t?(e.selectedAssets([]),e.showErrorMessage(""),e.showSuccessMessage("")):n&&n.id&&("remove"===t?e.selectedAssets.remove((function(e){return e.id===n.id&&e.path===n.path})):"add"===t&&e.selectedAssets.push(n)),e.animateButton()}))},r.prototype.initKnockout=function(){var e=this;this.selectedAssets=ko.observableArray(o.getStoredAssets()),this.errorMessage=ko.observable(""),this.successMessage=ko.observable(""),this.showSpinner=ko.observable(!1),this.presentationAssets=ko.pureComputed((function(){var t,n,o,r=[];if(e.selectedAssets().length>0)for(t=function(e){var t,n=ko.toJS(e);"/"===n.path?r.push(n):n.path.length>1&&((t=r.filter((function(e){return e.path===n.path})))&&t.length>0?t[0].count=t[0].count+1:(n.id=null,n.url=null,n.name=n.path.substring(1),n.count=1,r.push(n)))},n=0,o=e.selectedAssets();n<o.length;n++)t(o[n]);return r})),this.showMaxAssetWarning=ko.pureComputed((function(){return!(e.params.maxAssetsReachedWarning.length<=0)&&e.selectedAssets().length>=e.params.maxAssets})),ko.applyBindings(this,this.$element[0])},r.prototype.animateButton=function(){var e=this,t="c-selection-box__btn",n=t+"--animate";this.$element.find("."+t).addClass(n),setTimeout((function(){return e.$element.find("."+t).removeClass(n)}),400)},r.prototype.postForm=function(e){var n,r,i=this,a=jQuery(e);a.validate().form()&&(r={Email:(n=a.find("#Email")).val(),Assets:this.selectedAssets().map((function(e){return{Id:e.id,Name:e.name,Url:e.url,Path:e.path}}))},window.$http.post(this.params.submitFormUrl,r).done((function(e){e&&(e.succeed?(i.fireGtmEvents(),o.clearAssetCart(),i.selectedAssets([]),n.val(""),i.showSuccessMessage(e.html),t.GA4.GA4Helpers.registerUserIdentified()):i.showErrorMessage(e.html))})))},r.prototype.fireGtmEvents=function(){var t,n,o,i,a=this.selectedAssets();if(a&&a.length)for((t=e.Unilin.TagManagerModule.GTM.getInstance()).registerEvent(r.downloadCenterEventName,"download",""+a.length,null,"package"),a.map((function(e){return e.pressReleaseUrl})).filter((function(e,t,n){return e&&e.length&&n.indexOf(e)===t})).forEach((function(e){return t.registerEvent(r.downloadCenterEventName,"download",e,null,"article")})),n=0,o=a;n<o.length;n++)(i=o[n])&&i.gtmAction&&i.gtmCategory&&i.gtmLabel&&t.registerEvent(r.downloadCenterEventName,i.gtmAction,i.gtmLabel,null,i.gtmCategory)},r.prototype.toggleSelectionBox=function(e){var n,r,i,a=this;e.preventDefault(),n="c-selection-box--show",r=this.$element.hasClass(n),this.clearMessages(),r||(i=o.getStoredAssets(),this.showSpinner(!0),window.$http.post(this.params.fetchAssetsUrl,i).done((function(e){e&&(e.assets&&e.assets.length>0&&a.selectedAssets(e.assets),e.removedAssets&&e.removedAssets.length>0&&e.removedAssets.forEach((function(e){return a.removeAsset(e.id,e.path,e.isPressRelease)})),e.errorMessage&&a.showErrorMessage(e.errorMessage))})).always((function(){return a.showSpinner(!1)}))),this.$element.toggleClass(n,!r),t.FlooringHelpers.disableBodyScroll(!r)},r.prototype.showErrorMessage=function(e){this.errorMessage(e),this.successMessage("")},r.prototype.showSuccessMessage=function(e){this.successMessage(e),this.errorMessage("")},r.prototype.clearMessages=function(){this.successMessage(""),this.errorMessage("")},r.prototype.closeSelectionBox=function(e){jQuery(e.target).hasClass("c-selection-box__overlay")&&this.toggleSelectionBox(e)},r.downloadCenterEventName="jsdownloadcenter",r}();t.AssetCart=r}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(t){var n,o=function(o){function r(t,r){var i,a=o.call(this,t,"jsFloorFacetSearch")||this;return a.$element=t,a.params=r,a.initProperties(),a.initEvents(),a.adjustFacetMapToScreenSize(),a.initBindingHandlers(),a.viewModel.updating=!0,ko.applyBindings(a.viewModel,t[0]),a.viewModel.updating=!1,null===(i=e.ScBase.Features.GA4.GA4.getInstance())||void 0===i||i.pushEvent(new n(a.viewModel.getGA4Filters())),a}return __extends(r,o),r.prototype.initProperties=function(){var e,n,o=[];this.params.floorTypes&&(o=this.params.floorTypes.map((function(e){return{code:e.code.toLowerCase(),materialGroupName:e.materialGroupName}}))),this.viewModel=new t.ComponentVm(this.params.query,this.params.facetMap,this.params.totalCount,this.params.updateUrl,this.params.bulkUpdateUrl,o,this.params.showMoreCount,this.params.knownQueryStrings),this.$facetMap=this.$element.find('[data-selector="facet-map"]'),this.$sortBox=this.$element.find('[data-selector="sort-box"]'),this.$desktopFacetContainer=this.$element.find('[data-selector="desktop-facet-map"]'),this.$mobileFacetContainer=this.$element.find('[data-selector="mobile-facet-map"]'),this.$desktopSortContainer=this.$element.find('[data-selector="desktop-sort-container"]'),this.$mobileSortContainer=this.$element.find('[data-selector="mobile-sort-container"]'),(e=this.$sortBox.find("select")).length<1||(e.selectize(),(n=this.$component.find("#"+e.get(0).id+"-selectized")).length>0&&(n.get(0).readOnly=!0))},r.prototype.initEvents=function(){var e=this;jQuery(document).on("click","[data-loadmore-nextpage][data-loadmore-pagesize]",(function(t){var n={currentQuery:jQuery("#currentQuery").val(),pageNumber:jQuery(t.currentTarget).data("loadmore-nextpage"),pageSize:jQuery(t.currentTarget).data("loadmore-pagesize"),totalPageGap:jQuery(t.currentTarget).data("loadmore-totalpagegap")};e.$http.post(e.params.loadMoreUrl,n).done((function(t){e.$element.find("[data-webid=pagination-block]").replaceWith(t),e.viewModel.updateHistory(!0,!0,"#loadMoreQuery"),e.viewModel.revalidateImages()})),t.preventDefault()})),window.onpopstate=function(t){if(!1===e.viewModel.initialRendering){var n=t.state;null==n&&(n=decodeURI(location.search)),e.viewModel.facetMapAndListUpdate(null,null,null,n,!1)}},jQuery(window).on("debouncedresize",(function(){return e.adjustFacetMapToScreenSize()})),t.FavoriteFloorsManager.initialize(this.$element),t.FlooringGtmHelpers.bindProductClickEvent(this.$element,this.trackingLabel)},r.prototype.initBindingHandlers=function(){ko.bindingHandlers.slowVisible={init:function(e,t){jQuery(e).toggle(ko.unwrap(t()))},update:function(e,t){var n=jQuery(e);ko.unwrap(t())?n.show("slow"):n.hide()}},ko.bindingHandlers.numericInput={init:function(e,t,n,o){ko.bindingHandlers.textInput.init(e,t,n,o)},update:function(e,t){var n=ko.unwrap(t());t()(n.replace(/\D/g,""))}}},r.prototype.adjustFacetMapToScreenSize=function(){window.matchMedia("(max-width: "+t.BreakPoints.md+"px)").matches?(void 0===this.isMobile||!1===this.isMobile)&&(this.$mobileFacetContainer.prepend(this.$facetMap),this.$mobileSortContainer.prepend(this.$sortBox),this.isMobile=!0,this.viewModel.setCollapseState(!0)):(void 0===this.isMobile||!0===this.isMobile)&&(this.$desktopFacetContainer.prepend(this.$facetMap),this.$desktopSortContainer.prepend(this.$sortBox),this.isMobile=!1,this.viewModel.resetCollapseState()),t.BlazyImage.revalidate(this.$element)},r}(t.ComponentWithProductActions);t.B2CFloorListerV1=o,n=function(e){function n(n){var o=e.call(this)||this;return o.event=t.GA4Constants.Events.FLOOR_LISTER_INITIATED,o.filters=n,o}return __extends(n,e),n}(e.ScBase.Features.GA4.BaseEvent),t.FloorListerInitEvent=n}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){var o,r=t.Unilin.UnilinHelpers,i=t.Unilin.BlazyImageBase,a=t.Unilin.Toast,s=function(s){function l(e,t){var o=s.call(this,e)||this;return o.$element=e,o.parameters=t,o.initFields(),o.trackingLabel=t.trackingLabel,o.bindEvents(),o.shoppingCartManager=new n.ShoppingCartManager(o.$component,o.trackingLabel),o.initPopovers(),o.initAbandonCart(),n.GA4.GA4Helpers.registerViewCart(o.parameters.gtmProducts,o.parameters.currency,o.parameters.totalPrice),new n.QuantityCalculator(o.$component,o.trackingLabel,!1,(function(e,t,n){return o.updateQuantity(e,t,n)})),o.enableDisableControls(),jQuery(document).on("click",(function(e){return o.closeOpenedPopover(e)})),o}return __extends(l,s),l.prototype.enableDisableControls=function(){jQuery(o.additionalServiceYesSelector).is(":disabled")&&jQuery(o.additionalServiceYesSelector).prop("disabled",!1),jQuery(o.additionalServiceNoSelector).is(":disabled")&&jQuery(o.additionalServiceNoSelector).prop("disabled",!1)},l.prototype.initFields=function(){this.$form=this.$element.find(o.formSelector)},l.prototype.initPopovers=function(){t.Unilin.UnilinHelpers.initializePopovers(this.$component)},l.prototype.bindEvents=function(){var e=this;jQuery(this.$component).on("click",o.removeFromCartDataSelector,(function(t){return e.removeFromShoppingCart(t)})),jQuery(this.$component).on("click",o.addToCartDataSelector,(function(t){return e.onAddToCartTriggered(t)})),jQuery(this.$component).on("click",o.voucherPopupDataSelector,(function(t){t.preventDefault();var n=jQuery(t.currentTarget);e.createPopover(n),n.popover("toggle")})),jQuery(this.$component).on("click",o.checkoutDataSelector,(function(t){return e.checkout(t)})),jQuery(document).on("click",o.removeVoucherDataSelector,(function(t){return e.removeVoucher(t)})),jQuery(document).on("click",o.addVoucherDataSelector,(function(t){return e.addVoucher(t)})),jQuery(this.$component).on("change",o.additionalServiceYesSelector,(function(t){return e.addAdditionalServiceToCart(t)})),jQuery(this.$component).on("change",o.additionalServiceNoSelector,(function(t){return e.removeAdditionalServiceFromShoppingCart(t)})),jQuery(this.$component).on("change",o.cartSectionDataSelector,(function(t){return e.showHideSectionValidationMessage(t.currentTarget)})),n.FlooringGtmHelpers.bindProductClickEvent(this.$element,this.trackingLabel)},l.prototype.createPopover=function(e){e.popover({container:"body",html:!0,template:'<div class="popover c-popover u-bg-color-gray-light"><div class="arrow c-popover__arrow"></div><div class="c-popover-inner"> <div class="popover-title c-popover__title"></div><div class="popover-content c-popover__content"></div></div></div>',trigger:"manual",content:function(){return jQuery("#popover-content-promocode").html()}})},l.prototype.hidePopover=function(e){jQuery(e.target).closest(".popover").popover("hide")},l.prototype.closeOpenedPopover=function(e){var t=e.target;0===jQuery(o.voucherPopupDataSelector).has(t).length&&0===jQuery(".popover").has(t).length&&jQuery(o.voucherPopupDataSelector).popover("hide")},l.prototype.initAbandonCart=function(){var e=this,t=this.$component.find("[data-selector='abandon-cart-warning']");t.length<=0||(n.FlooringHelpers.showFullScreenWaitPanel(!1),a.show(t.html(),{level:a.LEVEL_WARNING,zindex:a.HIGH_ZINDEX,timeout:0,primaryCallback:function(t,n){return e.abandonCart(t,n)},secondaryCallback:function(t,n){return e.keepCurrentCart(t,n)}}))},l.prototype.keepCurrentCart=function(e,t){n.FlooringHelpers.hideWaitPanel(),t.destroy(),this.updateUrlWithoutQueryString()},l.prototype.abandonCart=function(e,o){var i,a,s=this;n.FlooringHelpers.hideWaitPanel(),e.preventDefault(),i=window.location.href,(a=r.getQueryParameterByName(this.parameters.cartQueryParameterName,i,!0))?(n.FlooringHelpers.showFullScreenWaitPanel(!0),this.$http.post(this.parameters.abandonCartUrl,{cartId:a}).done((function(e){var n=s.handleResult(e);n.success&&(s.shoppingCartManager.cartChanged(n.totalCount),n.removeFromCartEvent&&t.Unilin.TagManagerModule.GTM.getInstance().registerEventOfType(n.removeFromCartEvent),n.addToCartEvent&&t.Unilin.TagManagerModule.GTM.getInstance().registerEventOfType(n.addToCartEvent)),o.destroy()})).always((function(){n.FlooringHelpers.hideWaitPanel(),s.updateUrlWithoutQueryString()}))):o.destroy()},l.prototype.updateUrlWithoutQueryString=function(){var e=window.location.href.split("?")[0];history.replaceState?window.history.replaceState({path:e},document.title,e):window.location.href=e},l.prototype.IsValid=function(){var e=this;return!!this.$form.validate().form()||(jQuery.each(jQuery(o.cartSectionDataSelector,this.$component),(function(t,n){e.showHideSectionValidationMessage(n)})),!1)},l.prototype.showHideSectionValidationMessage=function(e){jQuery(".input-validation-error",e).length>0?(jQuery(o.cartSectionValidationMessageDataSelector,e).show(),jQuery(o.cartSectionBoxSelector,e).toggleClass(o.errorClass,!0)):(jQuery(o.cartSectionValidationMessageDataSelector,e).hide(),jQuery(o.cartSectionBoxSelector,e).toggleClass(o.errorClass,!1))},l.prototype.checkout=function(t){t.preventDefault(),this.IsValid()&&(n.FlooringHelpers.showFullScreenWaitPanel(),this.$http.postAsFormData(this.parameters.checkoutUrl,this.getSubmitModel()).done((function(t){var o,r=t;!r.success||r.url.length<=0?(a.show(t.html),n.FlooringHelpers.hideWaitPanel()):(e.ScBase.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/ShoppingCart/step2","ShoppingCart Step 2 – ToHybrisCart",(function(){window.location.href=r.url})),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushVirtualPageEvent("/ShoppingCart/step2","ShoppingCart Step 2 – ToHybrisCart"))})))},l.prototype.getSubmitModel=function(){var e={};return this.$form.serializeArray().forEach((function(t){return e[t.name]=t.value})),e},l.prototype.removeVoucher=function(e){var t,r,i=this;e.preventDefault(),(t=jQuery(e.currentTarget)).length<=0||(!(r=t.data(o.voucherCodeDataKey))||r.length<=0)||(n.FlooringHelpers.showFullScreenWaitPanel(),this.$http.get(this.parameters.removeVoucher,{voucherCode:r}).done((function(t){i.hidePopover(e.originalEvent),i.handleResult(t)})))},l.prototype.addVoucher=function(e){var t,r,i,a=this;e.preventDefault(),(t=jQuery(e.currentTarget)).length<=0||(r=t.prev(o.voucherCodeDataSelector)).length<=0||(i=r.val()).length<=0||(n.FlooringHelpers.showFullScreenWaitPanel(),this.$http.get(this.parameters.addVoucher,{voucherCode:i}).done((function(t){a.hidePopover(e.originalEvent),a.handleResult(t),a.initPopovers()})))},l.prototype.getCartLineId=function(e){var t=jQuery(e.parents(o.cartLineSelector)),n="";return t&&(n=""+t.data(o.cartLineDataKey)),n},l.prototype.updateQuantity=function(e,t,r){var i,a=this,s=this.getCartLineId(t);!s||s.length<=0||(i=t.val()-parseInt(t.data(o.oldValueDataKey)),n.FlooringHelpers.showFullScreenWaitPanel(),this.$http.get(this.parameters.updateQuantity,{lineId:s,quantity:r}).done((function(e){var r,s=a.handleResult(e);s.success&&(a.shoppingCartManager.cartChanged(s.totalCount),(r=t.parents(o.cartLineSelector).find(o.removeFromCartDataSelector)).length>0&&r.length&&(i<0?n.FlooringGtm.registerRemoveFromCart(r.data(o.productDataKey),a.trackingLabel,Math.abs(i)):n.FlooringGtm.registerAddToCart(r.data(o.productDataKey),a.trackingLabel,i)))})))},l.prototype.removeAdditionalServiceFromShoppingCart=function(e){var t=jQuery(e.currentTarget);t.length<=0||(this.getCartLineId(t)?this.removeFromShoppingCart(e,!1,!0):(n.FlooringHelpers.showFullScreenWaitPanel(),this.shoppingCartManager.setNoAdditionalServiceNeeded().always((function(){n.FlooringHelpers.hideWaitPanel()}))))},l.prototype.removeFromShoppingCart=function(e,t,r){var i,a,s,l,c=this;if(void 0===t&&(t=!0),void 0===r&&(r=!1),!((i=jQuery(e.currentTarget)).length<=0)&&((a=this.getCartLineId(i))&&!(a.length<=0))){if(s=1,t)try{s=parseInt(i.parents(o.cartLineSelector).find(o.quantityDataSelector).attr("value"))}catch(e){return}n.FlooringHelpers.showFullScreenWaitPanel(),l={lineId:a,setNoAdditionalServiceState:r},this.$http.post(this.parameters.removeFromCartUrl,l).done((function(t){var r=c.handleResult(t);r.success&&(c.shoppingCartManager.cartChanged(r.totalCount),c.hidePopover(e.originalEvent),i&&n.FlooringGtm.registerRemoveFromCart(i.data(o.productDataKey),c.trackingLabel,s))}))}},l.prototype.handleResult=function(e){var t=e.json;if(t.success){var o=this.$component.html(e.html).find(i.dataSelector),r=o.length,s=0;o.one("load",(function(){s+1>=r&&n.BlazyImage.revalidate(),s++})),this.enableDisableControls()}else a.show(e.html);return n.FlooringHelpers.hideWaitPanel(),e.json.hasWarning&&this.showCartWarning(),t},l.prototype.addAdditionalServiceToCart=function(e){var t=jQuery(e.currentTarget);n.FlooringHelpers.showFullScreenWaitPanel(!0),this.shoppingCartManager.addB2CMaterial(t,1,!0,!1).done((function(e){e.succeed?window.location.reload():(t.data(o.dataSelectorKey)===o.additionalServiceYesDataSelectorValue&&t.prop("checked",!1),n.FlooringHelpers.hideWaitPanel())}))},l.prototype.onAddToCartTriggered=function(e){e.preventDefault();var t=jQuery(e.currentTarget);n.FlooringHelpers.showFullScreenWaitPanel(),this.shoppingCartManager.addB2CMaterial(t).done((function(e){e.succeed?window.location.reload():(t.data(o.dataSelectorKey)===o.additionalServiceYesDataSelectorValue&&t.prop("checked",!1),n.FlooringHelpers.hideWaitPanel())}))},l.prototype.showCartWarning=function(){var e=this.$component.find(o.cartWarningDataSelector);e.length<=0||a.show(e.html(),{level:a.LEVEL_WARNING})},l}(n.FlooringBase);n.B2CShoppingCart=s,o=function(){function e(){}return e.formSelector="[data-selector='shopping-cart-form']",e.cartSectionDataSelector="[data-selector='cart-section']",e.cartSectionValidationMessageDataSelector="[data-selector='cart-section-validation-message']",e.cartSectionBoxSelector="[data-selector='cart-section-box']",e.errorClass="is-error",e.additionalServiceYesSelector="[data-selector='additional-service-yes']",e.dataSelectorKey="selector",e.additionalServiceYesDataSelectorValue="additional-service-yes",e.additionalServiceNoSelector="[data-selector='additional-service-no']",e.cartLineSelector="[data-cart-line-id]",e.cartLineDataKey="cart-line-id",e.oldValueDataKey="value-old",e.productDataKey="product",e.removeFromCartDataSelector="[data-selector='remove-from-cart']",e.voucherCodeDataSelector="[data-selector='voucher-code']",e.quantityDataSelector="[data-selector='quantity']",e.cartWarningDataSelector="[data-selector='cart-warning']",e.voucherCodeDataKey="code",e.addToCartDataSelector="[data-selector='add-to-cart-trigger']",e.voucherPopupDataSelector="[data-selector='voucher-popup']",e.checkoutDataSelector="[data-selector='checkout']",e.removeVoucherDataSelector="[data-selector='remove-voucher']",e.addVoucherDataSelector="[data-selector='add-voucher']",e}()}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(t){function n(n,o){var r=t.call(this,o,{offset:250})||this;return window.onload=function(){e.Unilin.BlazyImageBase.revalidate()},r}return __extends(n,t),n.prototype.onBlazyError=function(e,t){if(this.params.fallbackImageHtml&&("invalid"===t||"missing"===t)){var n=jQuery(e),o=n.parents(".c-card__img").length<=0,r=(o?'<div class="c-card__img"><div class="o-mask">':"")+this.params.fallbackImageHtml+(o?"</div></div>":"");n.replaceWith(r)}},n}(e.Unilin.BlazyImageBase);t.BlazyImage=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o){var r,i=t.call(this,n,"jsFadTeaserBlock")||this;return i.$element=n,i.params=o,i.$input=i.$element.find("input.js-address-autocomplete").first(),(r=i.params.addressAutoCompleteSettings).autoSubmit=!0,i.addressAutoComplete=new e.AddressAutocomplete(i.$input,r),i.$element.find(".js-search-button").on("click",(function(e){i.addressAutoComplete.navigateToFad(e)})),i}return __extends(n,t),n}(e.FlooringBase);e.FadTeaserBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(e){var n=t.call(this,e,"jsFloorAdvisorCta")||this;return n.$element=e,n.initEvents(),n}return __extends(n,t),n.prototype.initEvents=function(){var t=this;this.$element.parent().click((function(){var n=t.$element.find('[data-selector="fa-container"]');e.FloorAdvisorManager.getInstance().openFloorAdvisor(n,t.trackingLabel)}))},n}(e.FlooringBase);e.FloorAdvisorBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t,n){var o,r,i=e.call(this,t,"jsLocationCard")||this;return i.$element=t,i.params=n,o=i.$element.find('[data-selector="map"]'),r=new google.maps.LatLng(+n.latitude,+n.longitude),i.googleMap=new google.maps.Map(o.get(0),{zoom:+n.zoomLevel,maxZoom:21,center:r,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0}),new google.maps.Marker({position:r,icon:n.icon}).setMap(i.googleMap),i}return __extends(t,e),t}(e.FlooringBase);e.LocationCardBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t){var n=e.call(this,t,"jsSampleBlock")||this;return n.$element=t,n}return __extends(t,e),t}(e.ComponentWithProductActions);e.SampleBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o){var r=t.call(this,n,"jsCompare")||this;return r.$element=n,r.params=o,r.initEvents(),r.compareManager=new e.CompareManager(n),r}return __extends(n,t),n.prototype.initEvents=function(){var t=this;this.compareTable=this._$element.find('[data-selector="compare-table"]'),this.compareTable.on("click","[data-selector=remove-button]",(function(e){return t.triggerRemoveProduct(e)})),e.FlooringGtmHelpers.bindProductClickEvent(this.$element,this.trackingLabel)},n.prototype.triggerRemoveProduct=function(t){var n=this,o=jQuery(t.target).closest("[data-floor-id]").data("floor-id");this.compareManager.removeProduct(o,!0,this.params.dataSource).done((function(t){t.succeed&&(n.removeProduct(t.html),e.BlazyImage.revalidate())}))},n.prototype.removeProduct=function(e){this.compareTable.length>0&&this.compareTable.html(e)},n}(e.FlooringBase);e.Compare=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(e,n){var o=t.call(this,e,n)||this;return o.$element=e,o.params=n,o.$submitForm=o.$element.find('[data-selector="compare-form"]'),o.$submitButton=o.$submitForm.find("[data-selector='submit-button']"),o.$errorBox=o.$submitForm.find("[data-selector='error-box']"),o.$notificationPlaceholder=o.$submitForm.find("div[data-selector='notification-placeholder']"),o.$submitForm&&o.$submitForm.length&&o.initForm(),o}return __extends(n,t),n.prototype.initForm=function(){var t=this;this.customValidation=new e.CustomValidationHelper(this.$element,this.$submitForm,this.$submitButton,this.$errorBox),this.$submitForm.keypress((function(e){13===e.keyCode&&e.preventDefault()})),this.$submitButton.click((function(){t.customValidation.validate((function(){t.postForm().done((function(e){e&&(t.$notificationPlaceholder.html(e),t.$notificationPlaceholder.show())}))}),(function(){t.$notificationPlaceholder.hide()}))}))},n.prototype.postForm=function(){var e={};return this.$submitForm.serializeArray().forEach((function(t){return e[t.name]=t.value})),e.FloorIds=this.$element.find("[data-floor-id]").map((function(e,t){return jQuery(t).data("floor-id")})).get(),e.ErpProductIds=this.$element.find("[data-erp-id]").map((function(e,t){return jQuery(t).data("erp-id")})).get(),window.$http.postAsFormDataWithReCaptcha(this.params.submitUrl,e,"compareForm")},n}(e.Compare);t.Compare=n}(e.MarketingAutomation||(e.MarketingAutomation={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=e.Unilin.Toast,o=function(e){function o(t){var o=e.call(this,t)||this;return o.element=t,o.compareManagerClick="click.compareManager",o.removeButton="[data-selector=product-remove-button]",n.getContainer().off(o.compareManagerClick,o.removeButton).on(o.compareManagerClick,o.removeButton,(function(e){return o.replaceProduct(e)})),o}return __extends(o,e),o.prototype.tryAddProduct=function(e){var r=this,i=jQuery.Deferred(),a=this.buildControllerUrl(o.controllerName,"TryAddProduct");return jQuery.ajax(a,{data:{NewProductId:e},method:"GET",cache:!1,success:function(e){o.toast=n.update(o.toast,e,{secondaryCallback:function(){return o.toast.destroy()}}),t.BlazyImage.revalidate();var a=t.FlooringHelpers.getJsonScript(e);a&&a.succeed?(jQuery(document).trigger("compare-changed"),r.triggerProductAddedToCompareEvent(a.gtmEventData),i.resolve({succeed:!0})):a.isFull?(o.replacementProductId=a.productId,i.resolve({succeed:!1})):i.resolve({succeed:!1})}}),i.promise()},o.prototype.removeProduct=function(e,r,i){var a=jQuery.Deferred(),s=this.buildControllerUrl(o.controllerName,"RemoveProduct");return null!=i&&(s+="?dataSource="+i),jQuery.ajax(s,{data:{CurrentProductId:e,IncludeHtml:r},method:"GET",cache:!1,success:function(i){jQuery(document).trigger("compare-product-removed",e),jQuery(document).trigger("compare-changed"),i&&!r?(o.toast=n.update(o.toast,i,{secondaryCallback:function(){return o.toast.destroy()}}),t.BlazyImage.revalidate()):n.destroy(o.toast),a.resolve({succeed:!0,html:i})}}),a.promise()},o.prototype.replaceProduct=function(e){var r,i,a=this;e.preventDefault(),(r=jQuery(e.currentTarget).data("id"))&&(i=this.buildControllerUrl(o.controllerName,"ReplaceProduct"),jQuery.ajax(i,{data:{NewProductId:o.replacementProductId,CurrentProductId:r},method:"GET",cache:!1,success:function(e){if(e){o.toast=n.update(o.toast,e,{secondaryCallback:function(){return o.toast.destroy()}});var i=t.FlooringHelpers.getJsonScript(e);i&&i.succeed&&(jQuery(document).trigger("compare-product-replaced",{oldProductId:r,newProductId:o.replacementProductId}),jQuery(document).trigger("compare-changed"),a.triggerProductAddedToCompareEvent(i.gtmEventData))}}}))},o.prototype.triggerProductAddedToCompareEvent=function(e){e&&this.tagManager.registerEvent("jscomparefloors",e.action,e.label,null,"AddToCompare")},o.controllerName="Compare",o}(t.FlooringBase);t.CompareManager=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function n(n,o){var r=e.call(this)||this;return r.contact_request_type=n,r.call_back_selected=o,r.event=t.GA4Constants.Events.CONTACT_FORM_SUBMITTED,r}return __extends(n,e),n}(e.Features.GA4.BaseEvent),o=function(o){function r(e,t){var n=o.call(this,e,"jscontactus")||this;return n.$element=e,n.params=t,n.initializeFields(),n.initializeEvents(),n}return __extends(r,o),r.prototype.initializeFields=function(){this.$contactForm=this.$element.find("#contact-us-form"),this.$questionInput=this.$element.find("textarea#Question"),this.$notificationPlaceholder=this.$element.find("div[data-selector='notification-placeholder']"),this.$errorBox=this.$element.find("div[data-selector=data-error-box]"),this.$selectizeElement=this.$element.find("select#SubjectId").selectize(),this.$phoneInput=this.$element.find('[data-selector="phone-input"]'),this.$callMeBackCheck=this.$element.find('[data-selector="call-me-back"]'),this.$countrySelectize=t.Shared.Selectize.initialize(this.$element.find("[data-selector=selectize]"))},r.prototype.initializeEvents=function(){var n=this;t.FlooringHelpers.enableButtonBehaviorForDiv(this.$element.find("a[data-selector='submit-form-trigger']"),(function(e){return n.submitButtonOnClick(e)})),e.Unilin.UnilinHelpers.attachObserver(this.$errorBox,(function(){return n.toggleErrorBox()}))},r.prototype.submitButtonOnClick=function(o){var r=this;o.preventDefault(),this.hideNotification(),this.$contactForm.valid()&&(t.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.submitContactFormUrl,this.getSubmitModel(),"contactUs").done((function(o){var i,a,s;r.hideNotification(),r.showNotification(o),(a=JSON.parse(r.$notificationPlaceholder.find("script[type=json]")[0].innerHTML))&&a.succeeded&&(r.$questionInput.val(""),r.registerEvent("ContactSubmit",null,null,a.eventCategory),s=r.getSubmitModel(),null===(i=e.Features.GA4.GA4.getInstance())||void 0===i||i.pushEvent(new n(a.eventCategory,s.CallMeBack)),t.GA4.GA4Helpers.registerUserIdentified())})).always((function(){return t.FlooringHelpers.hideWaitPanel()})))},r.prototype.getSubmitModel=function(){var e={};return this.$contactForm.serializeArray().forEach((function(t){return e[t.name]=t.value})),e.CallMeBack=e.hasOwnProperty("CallMeBack"),e.Consent=e.hasOwnProperty("Consent"),e},r.prototype.showNotification=function(e){e&&(this.$notificationPlaceholder.html(e),this.$notificationPlaceholder.show())},r.prototype.hideNotification=function(){this.$notificationPlaceholder.html(""),this.$notificationPlaceholder.hide()},r.prototype.toggleErrorBox=function(){this.$errorBox.find("ul span").text().length<1?this.$errorBox.hide():this.$errorBox.show()},r}(t.FlooringBase);t.ContactUs=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function t(t){var n,o,r=e.call(this,t)||this,i=t.find("[data-selector='content-usp-title']");return i.length&&(n=i.map((function(e,t){return jQuery(t).height()})).get(),o=Math.max.apply(null,n),i.css("min-height",o+"px")),r}return __extends(t,e),t}(e.Unilin.BaseComponent);t.ContentUsp=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n,o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.bindEvents=function(){var n=this;t.prototype.bindEvents.call(this),jQuery(document).on(e.Unilin.CookieConsentPopup.popupOpenEvent,(function(){return n.toggleNoScroll(!0)}))},n.prototype.closeCookiePopup=function(e){t.prototype.closeCookiePopup.call(this,e),this.toggleNoScroll(!1)},n.prototype.toggleNoScroll=function(e){return jQuery("body",document).toggleClass("u-overflow-hidden",e)},n}(e.Unilin.CookieConsentPopup);t.CookieConsentPopup=o,n=function(t){function n(n,r){var i,a=t.call(this,n)||this;return a.params=r,i=e.Unilin.ConsentGtm.getInstance(),a.cookieConsentService=new e.Unilin.CookieConsentService(r.loadCookieBannerUrl,r.saveCookieSettingsUrl,r.loadSettingsPopupUrl,i),new o(new e.Unilin.CookiePopupSettings(r.cookieTypes),a.cookieConsentService,i),a.bannerSettings=new e.Unilin.CookieBannerSettings(r.cookieTypes),a.cookieConsentBanner=new e.Unilin.CookieConsentBanner(a.bannerSettings,a.cookieConsentService),a.cookieConsentBanner.loadCookieConsentBanner(),a.bindEvents(),a}return __extends(n,t),n.prototype.bindEvents=function(){jQuery(document).on(e.Unilin.CookieConsentService.SettingsSavedEvent,(function(){return jQuery(document).trigger("refresh-components")}))},n}(e.Unilin.BaseComponent),t.CookieBannerComponent=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(t,n){this.settings=n,n.showAfterCookieBannerResponse?e.Popup.loadAfterCookieConsent(this.init,this.settings.cookieName):this.init()}return t.prototype.waitForOneTrustAndShowCountryForwardPopup=function(){var e=this;window.OneTrust?window.OneTrust.OnConsentChanged((function(){return e.init()})):setTimeout((function(){return e.waitForOneTrustAndShowCountryForwardPopup()}),500)},t.prototype.init=function(){this._popup=new e.Popup({popupContainer:t.countryForwarderPopupSelector,closeButtonSelector:t.countryForwarderStayButtonSelector,disableScroll:!0,openOnInit:!0})},t.countryForwarderPopupSelector="[data-selector=country-forwarder-popup]",t.countryForwarderStayButtonSelector="[data-selector=country-forwarder-stay-button]",t}();e.CountryForwarderPopup=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(){function e(){}return e.ContainerSelector="[data-selector='crossselling-popup-container']",e.BodySelector="[data-selector='crossselling-popup-body']",e.InnerBodySelector="[data-selector='crossselling-popup-inner-body']",e.CloseButtonSelector="[data-selector='button-close']",e.AccessoryTabSelector="[data-selector='accessory-tab-link']",e.AllAccessoryAnchorTargetSelector="[data-selector='all-accessories'] a.anchorTarget",e}(),o=function(o){function r(e){var t=o.call(this,e,"jsCrossSellingPopup")||this;return t.init(),t}return __extends(r,o),r.prototype.init=function(){var e=this;this._popup=new t.Popup({popupContainer:n.BodySelector,closeButtonSelector:n.CloseButtonSelector,closeOnClick:!0,disableScroll:!0,openOnInit:!0}),this._popup.$popupContainer.on("click",n.AccessoryTabSelector,(function(t){return e.navigateToAccessoryTab(t)})),t.BlazyImage.revalidate(this.$element)},r.prototype.navigateToAccessoryTab=function(t){var o=jQuery(t.currentTarget).attr("href"),r=jQuery(n.AllAccessoryAnchorTargetSelector);r.length>0&&(this._popup.closePopup(),e.Unilin.UnilinHelpers.scrollTo(jQuery(r).offset().top,"linear",(function(){var e=jQuery("[data-selector='all-accessories'] a[href='"+o+"']");e.length>0?e.tab("show"):jQuery("[data-selector='all-accessories'] a[role='tab']").eq(0).tab("show")})))},r.prototype.onAddToCartTriggered=function(e){jQuery(e.currentTarget)&&(t.FlooringHelpers.showFullScreenWaitPanel(!0),e.stopPropagation(),o.prototype.onAddToCartTriggered.call(this,e))},r.show=function(e){var t=jQuery(n.ContainerSelector);t.length>0?t.replaceWith(e):jQuery("body").append(e),t=jQuery(n.ContainerSelector),window.InitComponentsFromPartialUpdate(t)},r.isOpened=function(){return jQuery(n.BodySelector).is(":visible")},r.toggleProductAddedButtonState=function(e){e.addClass("checked"),e.attr("disabled","disabled")},r.crossSellingPopupController="CrossSellingPopup",r}(t.ComponentWithProductActions);t.CrossSellingPopup=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function n(n,o,r,i,a){var s=e.call(this)||this;return s.dealer_city=o,s.dealer_postal_code=n,s.dealer_country=r,s.dealer_name=i,s.dealer_id=a,s.event=t.GA4Constants.Events.FIND_A_DEALER_DETAILS,s}return __extends(n,e),n}(e.Features.GA4.BaseEvent),o=function(){function o(o,r){var i;this.$element=o,this.params=r,this.tabsHelper=new t.TabsHelper(o),this.initGoogleMaps(),e.Unilin.UnilinHelpers.initializePopovers(this.$element),null===(i=e.Features.GA4.GA4.getInstance())||void 0===i||i.pushEvent(new n(this.params.postalCode,this.params.city,this.params.country,this.params.name,this.params.id))}return o.prototype.initGoogleMaps=function(){var e=this.$element.find("#google-map"),t=new google.maps.LatLng(parseFloat(e.data("lat")),parseFloat(e.data("lng")));this.googleMap=new google.maps.Map(e.get(0),{zoom:14,maxZoom:null,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,panControl:!1,navigationControl:!1,streetViewControl:!1,zoomControl:!0,styles:[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]},{featureType:"poi",stylers:[{visibility:"off"}]}]}),new google.maps.Marker({position:t,icon:e.data("icon")}).setMap(this.googleMap)},o}();t.DealerDetail=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){var o=function(o){function r(e,t){var n=o.call(this,e,t.trackingLabel)||this;return n.$element=e,n.params=t,n.maskPlaceholder="_",n.initializeFields(),n.initializeEvents(),n.initGoogleServices(),n}return __extends(r,o),r.prototype.initializeFields=function(){var e,o,r=this;this.$form=this.$element.find("form"),0!=this.$form.length&&(this.$showContactFormButton=this.$element.find('[data-selector="dealer-contact-button"]'),this.$submitButton=this.$element.find('[data-selector="submit-button"]'),this.$errorBox=this.$element.find('[data-selector="error-box"]'),this.$notificationPlaceholder=this.$element.find('[data-selector="notification-placeholder"]'),this.$phoneField=this.$element.find("#Phone"),this.$landlineField=this.$element.find("#Landline"),this.$postalCodeInput=this.$element.find("#PostalCode"),this.$questionInput=this.$element.find("#Question"),this.$houseNumberField=this.$element.find("#HouseNumber"),this.$postalCodeMaskHiddenInput=this.$element.find("#PostalCodeMask"),this.$countryCodeHiddenInput=this.$element.find("#CountryCode"),this.updatePostalCodeMask(),e=jQuery("#CountryCode").val(),t.Unilin.IntlTelInput.initialize(this.$phoneField,"MOBILE",e),t.Unilin.IntlTelInput.initialize(this.$landlineField,"FIXED_LINE",e),(o=n.Shared.Selectize.initializeAll(this.$element).filter((function(e){var t=e;return t&&t.$input&&"Country"===t.$input.attr("id")})))&&o.length>0&&(this.$countrySelectize=o[0],this.$countrySelectize.on("change",(function(e){return r.countryChanged(e)}))),t.Unilin.UnilinHelpers.initializePopovers(this.$element))},r.prototype.initializeEvents=function(){var e=this;0!=this.$form.length&&(this.$showContactFormButton.click((function(){e.$element.find('[data-selector="dealer-contact-form"]').toggleClass("active"),jQuery("html, body").animate({scrollTop:e.$showContactFormButton.offset().top-25})})),this.$submitButton.on("click",(function(t){return e.submitButtonOnClick(t)})),this.$countrySelectize.on("change",(function(t){return e.countryChanged(t)})),this.$houseNumberField.on("change",(function(t){return e.houseNumberChanged(t)})))},r.prototype.houseNumberChanged=function(){this.$form.find("#HasNumber").val(this.$houseNumberField.val()?"true":"false")},r.prototype.countryChanged=function(e){var t,n,o=this.$countrySelectize.getItem(e).find("span");o&&(t=o.data("postalcodemask"),n=o.data("countrycode"),t?(this.$postalCodeInput.data("mask",t),this.updatePostalCodeMask()):this.$postalCodeInput.unmask(),n&&(this.$phoneField.intlTelInput("setCountry",n),this.$landlineField.intlTelInput("setCountry",n)),this.$postalCodeMaskHiddenInput.val(t),this.$countryCodeHiddenInput.val(n))},r.prototype.updatePostalCodeMask=function(){this.$postalCodeInput.each((function(e,t){var n=jQuery(t);n.maskinput(""+n.data("mask"),{placeholder:"_"})}))},r.prototype.submitButtonOnClick=function(o){var r=this;o.preventDefault(),this.hideNotification(),this.validationSummaryHelper||(this.validationSummaryHelper=new n.ValidationSummaryHelper(this.$form,this.$errorBox)),this.validationSummaryHelper.validate(),this.$form.valid()&&(n.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.submitContactFormUrl,this.getSubmitModel(),"dealerForm").done((function(n){var o,i;r.hideNotification(),r.showNotification(n),(i=JSON.parse(r.$notificationPlaceholder.find("script[type=json]")[0].innerHTML))&&i.succeeded&&(r.$questionInput.val(""),t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/dealer.com/"+r.params.dealer.id+"-"+r.params.dealer.name+"/question/","Dealer.com Question"),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushVirtualPageEvent("/dealer.com/"+r.params.dealer.id+"-"+r.params.dealer.name+"/question/","Dealer.com Question"))})).always((function(){return n.FlooringHelpers.hideWaitPanel()})))},r.prototype.getSubmitModel=function(){var e={};return this.$form.serializeArray().forEach((function(t){return e[t.name]=t.value})),e.Consent=e.hasOwnProperty("Consent"),this.$phoneField.intlTelInput("isValidNumber")&&this.$phoneField.val().length>0&&(e.Phone=this.$phoneField.intlTelInput("getNumber")),this.$landlineField.intlTelInput("isValidNumber")&&this.$landlineField.val().length>0&&(e.Landline=this.$landlineField.intlTelInput("getNumber")),e},r.prototype.showNotification=function(e){e&&(this.$notificationPlaceholder.html(e),this.$notificationPlaceholder.show())},r.prototype.hideNotification=function(){this.$notificationPlaceholder.html(""),this.$notificationPlaceholder.hide()},r.prototype.initGoogleServices=function(){var e,t;this.params.enableGoogleMap&&(e=new google.maps.LatLng(this.params.dealer.geoCoordinates.latitude,this.params.dealer.geoCoordinates.longitude),t=[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]},{featureType:"poi",stylers:[{visibility:"off"}]}],this.googleMap=new google.maps.Map(document.getElementById("google-map"),{center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,panControl:!0,scaleControl:!0,zoomControl:!0,clickableIcons:!1,zoom:8,maxZoom:null,styles:t}),new google.maps.Marker({title:this.params.dealer.name,position:e,icon:this.params.dealer.mapMarker,animation:google.maps.Animation.DROP}).setMap(this.googleMap))},r}(n.FlooringBase);n.DealerInfoBlock=o}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(n){var o,r,i,a=function(n){function o(e,t){var r=n.call(this,e)||this;return r.$element=e,r.param=t,r.viewModel=new i(t,o.listId),r.initElements(),r.bindEvents(),r.checkResponsiveness(),r.viewModel.updating=!0,ko.applyBindings(r.viewModel,e[0]),r.viewModel.updating=!1,r}return __extends(o,n),o.prototype.initElements=function(){this.$nextPageButton=jQuery(o.nextPageButtonId,this.$component),this.$selectAll=jQuery("[data-selector='select-all']",this.$component),e.Unilin.UnilinHelpers.initializePopovers(this.$component)},o.prototype.bindEvents=function(){var n=this;jQuery(document).on("click","[data-loadmore-nextpage][data-loadmore-pagesize]",(function(e){var r={currentQuery:jQuery("#currentQuery").val(),pageNumber:jQuery(e.currentTarget).data("loadmore-nextpage"),pageSize:jQuery(e.currentTarget).data("loadmore-pagesize"),totalPageGap:jQuery(e.currentTarget).data("loadmore-totalpagegap")};n.$http.post(n.param.loadMoreUrl,r).done((function(e){n.$nextPageButton=jQuery(o.nextPageButtonId),n.$element.find("#downloadCenterListItems").append(jQuery(jQuery.parseHTML(e)).find("#downloadCenterItem")),n.$nextPageButton.replaceWith(jQuery(jQuery.parseHTML(e)).find("#pagination-block")),n.viewModel.updateHistory(!0,!0,"#loadMoreQuery");var r=jQuery("#downloadCenterList");ko.cleanNode(r[0]),ko.applyBindings(n.viewModel,r[0]),t.BlazyImage.revalidate(),n.viewModel.updateSelectedAssets()})),e.preventDefault()})),window.onpopstate=function(e){if(!1===n.viewModel.initialRendering){var t=e.state;null==t&&(t=""),n.viewModel.facetMapAndListUpdate(null,null,t,!1)}},t.AssetCart.onAssetChange((function(e,o){"add"===e?jQuery("#"+o.id).toggleClass("checked",!0):"remove"===e?jQuery("#"+o.id).toggleClass("checked",!1):"clear"===e&&n.viewModel.updateSelectedAssets(),n.viewModel.selectedAssetsCount(t.AssetCart.assetsCount())})),this.viewModel.selectedAssetsCount(t.AssetCart.assetsCount()),this.viewModel.updateSelectedAssets(),jQuery('[data-selector="switch-view"]').on("click",(function(e){return n.switchView(e)})),this.$selectAll.length>0&&this.$selectAll.on("click",(function(e){return n.selectAll(e)})),jQuery(window).on("resize",(function(){return n.checkResponsiveness()})),this.$element.find(".collapse").on("show.bs.collapse",(function(e){jQuery("#"+e.target.id).css("height","")})),this.$element.find(".collapse").on("hidden.bs.collapse",(function(t){"hide-facets"===t.target.id&&e.Unilin.UnilinHelpers.scrollTo(0,500)}))},o.prototype.selectAll=function(e){var n=this,o={currentQuery:jQuery("#currentQuery").val(),cartCount:t.AssetCart.assetsCount()};this.$http.post(this.param.selectAllUrl,o).done((function(e){t.AssetCart.instance&&e&&e.length>0&&t.AssetCart.instance.addAssets(e),n.viewModel.updateSelectedAssets()})),e.preventDefault()},o.prototype.checkResponsiveness=function(){window.innerWidth<t.BreakPoints.md&&!this.responsiveState?(this.$element.find("#hide-facets").collapse("hide"),this.responsiveState=!0):window.innerWidth>=t.BreakPoints.md&&this.responsiveState&&(this.$element.find("#hide-facets").collapse("show"),this.responsiveState=!1)},o.prototype.switchView=function(e){var n=jQuery(e.currentTarget),o="grid"===n.data("view"),r="c-download-center__cards";this.$element.find("."+r).toggleClass(r+"--horizontal",!o),n.addClass("active").siblings().removeClass("active"),t.BlazyImage.revalidate()},o.listId="#downloadCenterList",o.currentQueryId="#currentQuery",o.nextPageButtonId="#pagination-block",o}(e.Unilin.BaseComponent);n.DownloadCenter=a,o=function(e){function t(t,n,o){var r=e.call(this,t,o)||this;return r.showMoreCount=n,r.searchText=ko.observable(jQuery("#searchText").val()),r}return __extends(t,e),t.prototype.createFacet=function(e,t){var n=Math.max(this.showMoreCount,t.values.filter((function(e){return e.selected})).length);return new r(e,t,n)},t.prototype.executeSearchOnEnter=function(e,t){return 13!==t.keyCode||(this.executeSearch(),!1)},t.prototype.executeSearch=function(){if(!this.component.updating){var e=this.searchText();this.searchText(""),this.currentSearch(e),this.component.facetMapAndListUpdate(null,null,"",!0,e)}},t.prototype.clearSearch=function(){this.searchText(""),this.executeSearch()},t}(t.Lister.FacetMapVm),n.FacetMapVm=o,r=function(e){function t(t,n,o){var r=e.call(this,t,n)||this;return r.toggleShowMore=function(){r.showMore(!r.showMore())},r.showMore=ko.observable(!1),r.showMoreCount=o,r}return __extends(t,e),t}(t.Lister.FacetVm),i=function(e){function n(o,r){var i=e.call(this,o.query,o.facetMap,o.totalCount,o.updateUrl,r,null,o.knownQueryStrings,o.showMoreFacetValuesCount,o.currentSearch)||this;return i.settings=o,i.listId=r,i.updateHistoryWithQuery(!0,!0,jQuery(a.currentQueryId).val()),i.selectedAssetsCount=ko.observable(0),i.canSelectAll=ko.pureComputed((function(){i.selectedAssetsCount(),i.totalCount();var e=jQuery.makeArray(jQuery(n.downloadItemSelector).map((function(e,t){return t.id}))),o=t.AssetCart.getStoredAsset().map((function(e){return e.id})).filter((function(t){return e.indexOf(t)<0}));return i.totalCount()+o.length<=i.settings.maxAssetsToDownload})),i}return __extends(n,e),n.prototype.doAjaxRequest=function(e,n,o){var r=this;window.$http.post(this.updateUrl,o).done((function(o){var i,s=o.json;jQuery(a.currentQueryId).val(s.currentQuery),jQuery(r.listId).replaceWith(o.html),r.totalCount(s.totalCount),r.facetMap.update(s.facetMap,e),r.updateHistoryWithQuery(n,!1,s.currentQuery),r.updating=!1,i=jQuery("#downloadCenterList"),ko.cleanNode(i[0]),ko.applyBindings(r,i[0]),r.initialRendering=!1,t.BlazyImage.revalidate(i),r.updateSelectedAssets()}))},n.prototype.toggleAsset=function(e,n,o){return!(!n||!jQuery(n.target).parents("a").length)||(t.AssetCart.instance&&(t.AssetCart.instance.assetExists(o)?t.AssetCart.instance.removeAsset(o):t.AssetCart.instance.addAsset(o)),!1)},n.prototype.createFacetMap=function(e,t){return new o(this,e,t)},n.prototype.updateSelectedAssets=function(){jQuery(n.downloadItemSelector).toggleClass("checked",!1),t.AssetCart.getStoredAsset().filter((function(e){return"/"===e.path})).forEach((function(e){return jQuery("#"+e.id).toggleClass("checked",!0)}))},n.downloadItemSelector='[data-selector="download-item"]',n}(t.Lister.ListerComponentWithFacetmapVm),n.DownloadCenterComponent=i}(t.DownloadCenter||(t.DownloadCenter={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n,o){var r,i,a=t.call(this,n,"jsfindadealerteaser")||this;return a.$element=n,a.params=o,r=a.$element.find("input.js-addres-autocomplete"),o.disableLocatorAutoComplete||((i=a.params.addressAutoCompleteSettings).autoSubmit=!0,a.jsAddressAutoComplete=new e.AddressAutocomplete(r,i)),a.$clearButton=a.$element.find(".js-clear-fad-input-button"),a.$clearButton.on("click",(function(e){return a.clearInput(e)})),a.$findButton=a.$element.find(".js-find-button"),a.$findButton.on("click",(function(e){return a.performFindButtonOnButtonClick(e)})),a}return __extends(n,t),n.prototype.clearInput=function(e){e.preventDefault(),this.jsAddressAutoComplete.clearInput()},n.prototype.performFindButtonOnButtonClick=function(e){this.jsAddressAutoComplete.navigateToFad(e)},n}(e.FlooringBase);e.MobileFadTeaserBlock=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function e(e){this.$element=e,this.initElements(),this.initEvents()}return e.prototype.initElements=function(){this.$faqAnchors=this.$element.find('[data-selector="faq-anchors"]')},e.prototype.initEvents=function(){var e=this;jQuery("a",this.$faqAnchors).on("click",(function(t){return e.scrollToAnchor(t)}))},e.prototype.scrollToAnchor=function(e){var t,n,o,r;e.preventDefault(),(t=e.target.getAttribute("href"))&&void 0!==(n=jQuery(t)).offset()&&(r=20,null!==(o=jQuery(".c-header-fixed-wrapper")).height()&&(r+=o.height()),jQuery("html, body").animate({scrollTop:n.offset().top-r},"linear"))},e}();e.FaqContentPagesOverview=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=e.Unilin.TagManagerModule.GTM,o=function(e){function n(n){var o=e.call(this)||this;return o.feedback_type=n?t.GA4Constants.Values.POSITIVE:t.GA4Constants.Values.NEGATIVE,o.event=t.GA4Constants.Events.FAQ_FEEDBACK_SELECTED,o}return __extends(n,e),n}(e.Features.GA4.BaseEvent),r=function(e){function n(){var n=e.call(this)||this;return n.event=t.GA4Constants.Events.FAQ_FEEDBACK_SUBMITTED,n}return __extends(n,e),n}(e.Features.GA4.BaseEvent),i=function(){function t(e,t){this.$element=e,this.params=t,this.initComponents(),this.initEvents()}return t.prototype.initComponents=function(){this.$titleRow=jQuery("[data-selector='title-row']",this.$element),this.$buttonRow=jQuery("[data-selector='button-row']",this.$element),this.$btnYes=jQuery("[data-selector='btn-yes']",this.$element),this.$btnNo=jQuery("[data-selector='btn-no']",this.$element),this.$feedbackRow=jQuery("[data-selector='feedback-row']",this.$element),this.$txtFeedback=jQuery("[data-selector='txt-feedback']",this.$element),this.$btnSubmit=jQuery("[data-selector='btn-submit']",this.$element),this.$messageRowSuccess=jQuery("[data-selector='message-row-success']",this.$element),this.$messageRowError=jQuery("[data-selector='message-row-error']",this.$element)},t.prototype.initEvents=function(){var t=this;this.$btnYes.on("click",(function(n){var r;n.preventDefault(),t.disableButton(t.$btnYes),t.registerGtmEvent("yes"),null===(r=e.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(new o(!0)),t.showMessage(!0)})),this.$btnNo.on("click",(function(n){var r;n.preventDefault(),t.disableButton(t.$btnNo),t.updateScore(!1),null===(r=e.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(new o(!1)),t.registerGtmEvent("no")})),this.$btnSubmit.on("click",(function(n){var o;n.preventDefault(),t.disableButton(t.$btnSubmit),t.sendFeedback(),t.registerGtmEvent("submitNo",t.$txtFeedback.val()),null===(o=e.Features.GA4.GA4.getInstance())||void 0===o||o.pushEvent(new r)})),this.$txtFeedback.on("input",(function(){""===t.$txtFeedback.val()?t.disableButton(t.$btnSubmit):t.enableButton(t.$btnSubmit)}))},t.prototype.registerGtmEvent=function(e,t){void 0===t&&(t="");var o={event:"jsFaqSurvey",action:e,label:t};n.getInstance().registerEventOfType(o)},t.prototype.updateScore=function(e){var t=this,n={wasUseful:e};jQuery.ajax({type:"POST",url:this.params.surveyFeedbackOptionsUrl,data:n,success:function(e){e.hasExtraQuestion?e.hasExtraQuestion&&(t.pageId=e.pageId,t.questionId=e.questionId,t.showFeedback(),t.urlQuestionId=e.urlQuestionId):t.showMessage(!0)},error:function(){t.showMessage(!1)}})},t.prototype.disableButton=function(e){e.attr("disabled","disabled")},t.prototype.enableButton=function(e){e.removeAttr("disabled")},t.prototype.sendFeedback=function(){var e,t=this;""!==this.pageId&&""!==this.questionId?(e={pageId:this.pageId,questionId:this.questionId,feedback:this.$txtFeedback.val(),urlQuestionId:this.urlQuestionId,url:window.location.href},jQuery.ajax({type:"POST",url:this.params.surveyFeedbackUrl,data:e,success:function(){t.showMessage(!0)},error:function(){t.showMessage(!1)}})):this.showMessage(!1)},t.prototype.showMessage=function(e){this.$titleRow.toggleClass("hide",!0),this.$buttonRow.toggleClass("hide",!0),this.$feedbackRow.toggleClass("hide",!0),e&&this.$messageRowSuccess.toggleClass("hide",!1),e||this.$messageRowError.toggleClass("hide",!1)},t.prototype.showFeedback=function(){this.$buttonRow.toggleClass("hide",!0),this.$feedbackRow.toggleClass("hide",!1)},t}();t.FaqSurvey=i}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(n){function o(e){var t=n.call(this,e,"jsAllAccessories")||this;return t.$element=e,t.pushHistory=!0,t.bindAllAccessoryEvents(),t.openHashState(),t.bindPostInitEvents(),t}return __extends(o,n),o.prototype.bindAllAccessoryEvents=function(){var n=this;t.FlooringGtmHelpers.bindProductClickEvent(this.$element,this.trackingLabel),jQuery(".collapse--fade").on("shown.bs.collapse",(function(e){var t=jQuery(e.currentTarget);t.length&&t.removeClass("collapse--fade")})),jQuery(window).on("popstate",(function(){if(""!==window.location.hash&&!n.openHashState()){var t=jQuery(window.location.hash).offset().top;e.Unilin.UnilinHelpers.scrollTo(t-200,"linear")}}))},o.prototype.bindPostInitEvents=function(){var e=this;jQuery(o.accessoryNavigationTabDataSelector,this.$element).on("show.bs.tab",(function(t){return e.persistSelectedAccessoryTab(t,!0)})),jQuery(".collapse").on("show.bs.collapse",(function(t){return e.persistSelectedAccessoryTab(t,!1)}))},o.prototype.openHashState=function(){var t,n,o,r,i,a=this;if(""!==window.location.hash){if(this.pushHistory=!1,(t=jQuery('a[href="'+window.location.hash+'"][role="tab"]')).length>0&&(i=t.offset().top)>200)return e.Unilin.UnilinHelpers.scrollTo(i-200,"linear",(function(){t.one("shown.bs.tab",(function(){a.pushHistory=!0})),t.tab("show")})),!0;if((n=jQuery("div"+window.location.hash+'[role="tabpanel"]')).length>0&&(jQuery("#collapseAccessories").collapse("show"),(o=n.offset().top)>100))return e.Unilin.UnilinHelpers.scrollTo(o-200,"linear",(function(){var e=n.children(".collapse");e.length>0&&(e.on("shown.bs.collapse",(function(){a.pushHistory=!0})),e.collapse("show"))})),!0;if((r=jQuery(""+window.location.hash)).length>0)return i=r.offset().top,e.Unilin.UnilinHelpers.scrollTo(i,"linear",(function(){var e,t=jQuery(r[0].parentElement).find("h2");t.length>0&&((e=t[0].getAttribute("data-target"))&&jQuery(e).collapse("show")),a.pushHistory=!0})),!0}return this.pushHistory=!0,!1},o.prototype.persistSelectedAccessoryTab=function(e,t){var n,r,i;if(this.pushHistory){if(void 0,void 0,!(r=t?this.$component.find(e.target.getAttribute("href")+o.accessoryTabDataSelector)[0]:e.target.closest(o.accessoryTabDataSelector))||""===r.id)return;n="#"+r.id,history.pushState?(i=document.title+" - "+r.firstElementChild.firstElementChild.innerHTML,history.pushState(null,i,n)):location.hash=n}},o.tabbedAccLinkDataSelector="[data-selector='tabbed-acc-link']",o.accessoryTabDataSelector="[data-selector='accessory-tab']",o.accessoryNavigationTabDataSelector="[data-selector='allAccessory-navigation-tab'] a",o}(t.ComponentWithProductActions);t.AllAccessories=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t=function(){function t(n,o){this.$element=n,this.$element.find(".collapse").on("hidden.bs.collapse",(function(e){jQuery(e.currentTarget).css("height","")})),this.$element.find(".collapse").on("shown.bs.collapse shown.bs.tab",(function(){e.BlazyImage.revalidate()})),o.productDetailImpressionEvent&&e.FlooringGtm.registerProductDetailImpression(o.productDetailImpressionEvent,t.trackingLabel)}return t.trackingLabel="jsFloorDetail",t}();e.FloorDetail=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n,o=1,r=arguments.length;o<r;o++)for(n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},function(e){!function(e){!function(e){var t=function(t){function n(e,n){var o=t.call(this,e,"jsFloorVariants")||this;return o.$element=e,o.params=n,o.lazyLoadComponent(),o}return __extends(n,t),n.prototype.lazyLoadComponent=function(){var t=this;window.$http.post(this.params.loadFloorVariantsUrl,null).done((function(n){if(!n)return t.$element.remove(),void e.AnchorBar.removeUnexisting();t.$element.find('[data-selector="lazy-load-placeholder"]').replaceWith(n),t.initElements(),t.initSelectize(),e.FavoriteFloorsManager.initialize(t.$element),e.FlooringGtmHelpers.bindProductClickEvent(t.$element,t.trackingLabel),e.AnchorBar.refresh(t.$element),e.BlazyImage.revalidate()}))},n.prototype.initElements=function(){this.$selectLeft=this.$element.find('[data-selector="variants-select-left"]'),this.$selectRight=this.$element.find('[data-selector="variants-select-right"]'),this.$cardLeft=this.$element.find('[data-selector="variants-card-left"]'),this.$cardRight=this.$element.find('[data-selector="variants-card-right"]')},n.prototype.initSelectize=function(){var e=this,t={maxItems:1,openOnFocus:!0,highlight:!0,closeAfterSelect:!0,diacritics:!0,render:{item:function(e,t){return'<div class="u-txt-indent-none">'+t(e.text)+"</div>"}}};this.$selectLeft.length<1||this.$selectRight.length<1||(this.selectizeLeft=this.$selectLeft.selectize(__assign(__assign({},t),{onChange:function(t){return e.onChange(e.selectizeLeft,t)}}))[0].selectize,this.selectizeRight=this.$selectRight.selectize(__assign(__assign({},t),{onChange:function(t){return e.onChange(e.selectizeRight,t)}}))[0].selectize,this.selectizeLeft.$control_input[0].readOnly=!0,this.selectizeRight.$control_input[0].readOnly=!0,this.setSavedValue(this.selectizeLeft,this.selectizeLeft.getValue()),this.setSavedValue(this.selectizeRight,this.selectizeRight.getValue()))},n.prototype.onChange=function(e,t){var n=this.getOppositeSelectize(e);t===n.getValue()&&this.setCard(n,this.getSavedValue(e)),this.setCard(e,t)},n.prototype.setCard=function(t,n){var o;this.hasOptions(t)&&((o=this.$element.find('[data-productcode="'+n+'"]')).length<1||(this.getCardElement(t).html(o[0].outerHTML),this.setSavedValue(t,n),t.setValue(n,!0),e.BlazyImage.revalidate()))},n.prototype.hasOptions=function(e,t){return void 0===t&&(t=2),null!=e&&null!=e.options&&Object.keys(e.options).length>=t},n.prototype.getOppositeSelectize=function(e){return this.isLeft(e)?this.selectizeRight:this.selectizeLeft},n.prototype.getCardElement=function(e){return this.isLeft(e)?this.$cardLeft:this.$cardRight},n.prototype.getSavedValue=function(e){return this.isLeft(e)?this.leftValue:this.rightValue},n.prototype.setSavedValue=function(e,t){this.isLeft(e)?this.leftValue=t:this.rightValue=t},n.prototype.isLeft=function(e){return e===this.selectizeLeft},n}(e.ComponentWithProductActions);e.FloorVariants=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n){var o=t.call(this,n,"jsRecommendedAccessories")||this;return o.$element=n,jQuery("body").on("shown.bs.collapse",(function(){e.BlazyImage.revalidate()})),e.FlooringGtmHelpers.bindProductClickEvent(o.$element,o.trackingLabel),o}return __extends(n,t),n}(e.ComponentWithProductActions);e.RecommendedAccessories=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(n){var o,r=t.Unilin.TagManagerModule.GTM;!function(e){e[e.Or=1]="Or",e[e.And=2]="And"}(o||(o={}));var i=function(){function e(){}return e.dataStepId="data-stepid",e.dataFloorExplorerWrapper='[data-selector="floor-explorer-wrapper"]',e.dataFloorExplorerStepsWrapper='[data-selector="floor-explorer-steps-wrapper"]',e.dataFloorExplorerResultWrapper='[data-selector="floor-explorer-result-wrapper"]',e.dataDiscoverForm='[data-selector="discover-form"]',e.dataDiscoverPopupInner='[data-selector="discover-popup-inner"]',e.dataValidationSummary='[data-selector="validation-summary"]',e.cssHeaderFixedWrapperV1="c-header-fixed-wrapper",e.cssHeaderFixedWrapperV2="rb-header",e.cssStepInner="c-step__inner",e.cssBottomBarCount="c-bottombar__count",e.cssBottomBarCountAnimate="c-bottombar__count--animate",e.rebrandingFloorExplorerPrefix="rb",e.cssFloorExplorerResult="c-floor-explorer-result",e.idPopupRestart="restart",e.idPopupDiscover="discover",e.idFloorListerLink="FloorListerLink",e.dataErrorBox='[data-selector="data-error-box"]',e.floorExplorerFilterEvent="jsfloorexplorerfilter",e.floorExplorerResultEvent="jsfloorexplorerresult",e.floorExplorerEventCategory="floorexplorer 2.0",e}(),a=function(){function e(e,t){var n=this;this.step=e,this.vm=t,this.disableNextButton=ko.pureComputed((function(){return!n.attributes().filter((function(e){return e.selected()})).length})),this.visible=ko.observable(!1),this.gtmEventAction=ko.observable(e.eventLabel),this.attributes=ko.observableArray(e.attributes.map((function(t){return new s(t,e.hidden)})))}return e.prototype.onSelect=function(e){e.disabled()||(e.selected(!e.selected()),this.step.multiselect||this.attributes().filter((function(t){return t!==e&&t.selected()})).forEach((function(e){return e.selected(!1)})),this.vm.update(this))},e.prototype.reset=function(){this.step.baseQuery=null,this.visible(!1),this.attributes().forEach((function(e){return e.reset()}))},e}(),s=function(){function e(e,t){var n=this;this.attribute=e,this.hideWhenNoResults=t,this.hidden=ko.pureComputed((function(){return n.disabled()&&n.hideWhenNoResults})),this.disabled=ko.observable(e.disabled),this.selected=ko.observable(e.selected),this.placeholderImage=ko.observable(e.placeholderImage),this.image=ko.observable(e.image),this.gtmEventLabel=ko.observable(e.eventLabel)}return e.prototype.reset=function(){this.attribute.disabled=!1,this.attribute.selected=!1,this.attribute.count=0,this.disabled(this.attribute.disabled),this.selected(this.attribute.selected)},e}(),l=function(e){function t(t,n){var o=e.call(this)||this;return o.floor_explorer_step=t,o.virtual_page_title="FloorExplorer Step "+t,o.virtual_page_url="/FloorExplorer/"+n,o}return __extends(t,e),t}(e.ScBase.Features.GA4.BaseEvent),c=function(t){function n(n,o){var r=t.call(this,n,o)||this;return r.event=e.ScBase.Flooring.GA4Constants.Events.FLOOR_EXPLORER_INITIATED,r}return __extends(n,t),n}(l),u=function(e){function t(t,n,o,r,i){var a=e.call(this,n,r)||this;return o.forEach((function(e){a[e]=t[e]})),a.event=i,a}return __extends(t,e),t}(l),p=function(t){function n(n,o,r,i,a,s){var l=t.call(this,n,o,r,s,e.ScBase.Flooring.GA4Constants.Events.FLOOR_EXPLORER_COMPLETED)||this;return l.recommendation=i,l.alternative_recommendation=a,l}return __extends(n,t),n}(u),d=function(){function o(n,o){var r,i,s,l,u=this;for(this.$scope=n,this.params=o,this.steps=ko.observableArray(o.steps.map((function(e){return new a(e,u)}))),this.showPopupRestart=ko.observable(!1),this.showPopupDiscover=ko.observable(!1),this.resultsCount=ko.observable(0),this.currentStep=ko.observable(0),this.tooltip=ko.observable(o.unavailableTooltipLabel),this.riskFactor=0,this.events={},i=0,s=this.steps().length;i<s;++i)this.steps()[i].next=i+1>=s?null:this.steps()[i+1];jQuery(window).on("resize",t.Unilin.Debounce.debounce((function(){return u.scroll(u.currentStep(),!0)}),250)),jQuery(window).on("load",(function(){return setTimeout((function(){u.scroll(u.currentStep()),u.registerStepVirtualPageview(null)}))})),this.initPopoverBindingHandler(),ko.applyBindings(this,this.$scope[0]),l=new c(this.currentStep().toString(),this.params.step0VirtualPageviewLabel),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(l)}return o.prototype.initPopoverBindingHandler=function(){ko.bindingHandlers.popover={update:function(e,t,n,o,r){ko.bindingHandlers.value.init(e,t,n,o,r);var i=n.get("popoverTitle"),a=ko.unwrap(i);t()?jQuery(e).popover({trigger:"hover",content:a,html:!0,container:"body",placement:"auto"}):jQuery(e).popover("destroy")}}},o.prototype.update=function(e){var t,o,r,i,a=this;for(e.step.index<this.currentStep()&&(this.clearFromStep(e.next),this.scroll(e.step.index)),e.step.isRiskStep&&(this.riskFactor=Math.max.apply(Math,e.attributes().filter((function(e){return e.selected()})).map((function(e){return e.attribute.riskFactor||0})))),t={baseQuery:e.step.baseQuery,stepId:e.step.stepId,isFinalStep:e.step.isFinalStep,riskFactor:this.riskFactor,attributes:[],multiselectBehaviour:e.step.multiselectBehaviour},o=0,r=e.attributes();o<r.length;o++)i=r[o],t.attributes.push({index:i.attribute.index,selected:i.selected(),query:i.attribute.query,riskFactor:i.attribute.riskFactor,resultPointers:i.attribute.resultPointers});window.$http.post(this.params.stepUpdateUrl,t).done((function(t){var n,o,r;if(t){for(a.updateResultsCount(t.resultsCount),n=0,o=e.attributes().length;n<o;++n){var i=e.attributes()[n],s=t.attributes[n],l=s.count;i.attribute.count=l,i.disabled(!l),s.image&&s.placeholderImage&&(i.image(s.image),i.placeholderImage(s.placeholderImage)),l||i.selected(!1)}r=t.mergedQuery.replace(/\/\//g,"/"),e.next?e.next.step.baseQuery=r:e.step.isFinalStep&&(a.finalQuery=r,a.baseQuery=e.step.baseQuery)}})).always((function(){a.currentStep(e.step.index),n.HeaderProgress.set(a.currentStep())}))},o.prototype.loadResult=function(e,o){var r,a=this;this.baseQuery&&o&&e&&(r={baseQuery:this.baseQuery,finalQuery:o,resultItem:e,finalResultsCount:this.resultsCount()},t.Flooring.FlooringHelpers.showFullScreenWaitPanel(),window.$http.post(this.params.loadResultUrl,r).done((function(e){var o,r,s;if(e&&e.json&&e.json.success){if(o=a.$scope.find(i.dataFloorExplorerResultWrapper),a.$scope.toggleClass(i.rebrandingFloorExplorerPrefix,!0),a.$scope.toggleClass(i.cssFloorExplorerResult,!0),a.$scope.find(i.dataFloorExplorerStepsWrapper).hide(),a.$scope.find(i.dataFloorExplorerResultWrapper).empty().append(e.html),a.resultsCount(e.json.finalResultsCount),a.alternates=e.json.alternates,a.popupValidationSummary=null,ko.cleanNode(o[0]),ko.applyBindings(a,o[0]),n.HeaderProgress.set(-1),t.Flooring.BlazyImage.revalidate(),window.polyFills.revalidateObjectFit(),a.registerVirtualPageview(a.currentStep(),a.params.resultVirtualPageviewLabel),a.$discoverForm=jQuery(a.$scope.find(i.dataDiscoverForm)),a.$errorBox=jQuery(a.$scope.find(i.dataErrorBox)),t.Unilin.UnilinHelpers.attachObserver(a.$errorBox,(function(){return a.toggleErrorBox()})),t.Unilin.UnilinHelpers.scrollTo(0),r=[],e.json.alternates)for(s in e.json.alternates)e.json.alternates.hasOwnProperty(s)&&r.push(e.json.alternates[s].floorType+"-ALT");var l=t.Features.GA4.GA4.getInstance(),c=a.steps().map((function(e){return e.step.eventLabel})),u=new p(a.events,(a.steps().length+1).toString(),c,e.json.floorType,r.join(","),a.params.resultVirtualPageviewLabel);null==l||l.pushEvent(u),a.fireGtmEvents(e)}})).always((function(){return t.Flooring.FlooringHelpers.hideWaitPanel()})))},o.prototype.fireGtmEvents=function(e){var t,n,o,a,s;for(t in this.events)if(this.events.hasOwnProperty(t))for(n=0,o=this.events[t];n<o.length;n++)a=o[n],r.getInstance().registerEvent(i.floorExplorerFilterEvent,t,a,null,i.floorExplorerEventCategory);if(e&&e.json&&(e.json.floorType&&r.getInstance().registerEvent(i.floorExplorerResultEvent,"floortype",e.json.floorType,null,i.floorExplorerEventCategory),e.json.alternates))for(s in e.json.alternates)e.json.alternates.hasOwnProperty(s)&&r.getInstance().registerEvent(i.floorExplorerResultEvent,"floortype-alternative",e.json.alternates[s].floorType+"-ALT",null,i.floorExplorerEventCategory)},o.prototype.toggleErrorBox=function(){this.$errorBox.text().length>0?this.$errorBox.show():this.$errorBox.hide()},o.prototype.discoverFloors=function(){var n,o=this;this.popupValidationSummary||(this.$discoverForm.data("unobtrusiveValidation")||(this.$discoverForm.removeData("unobtrusiveValidation").removeData("validator"),jQuery.validator.unobtrusive.parse(this.$discoverForm[0])),this.popupValidationSummary=new t.Flooring.ValidationSummaryHelper(this.$discoverForm,this.$discoverForm.find(i.dataValidationSummary))),this.popupValidationSummary.validate()&&(n={},this.$discoverForm.serializeArray().forEach((function(e){return n[e.name]=e.value})),n.Accept=this.$discoverForm.find("#Accept").val(),n.FinalQuery=this.finalQuery,n.ResultItem=this.finalResultItemId,t.Flooring.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postWithReCaptcha(this.params.discoverFloorsUrl,n,"floorExplorer").done((function(n){n&&n.success?(o.params.enableCDPAndFavorites&&t.Flooring.SapCDP.SapCDPHelpers.registerFloorExplorerFinish(o.$discoverForm.find("#Email").val()),o.$discoverForm.find("#Email").val(""),o.$discoverForm.find("#Accept").removeAttr("checked"),o.registerVirtualPageview(o.currentStep(),o.params.discoverVirtualPageviewLabel),o.togglePopup(i.idPopupDiscover,!1),window.open(o.$scope.find("#"+i.idFloorListerLink).val(),"_blank"),e.ScBase.Flooring.GA4.GA4Helpers.registerUserIdentified()):o.$errorBox.html(n.html)})).always((function(){t.Flooring.FlooringHelpers.hideWaitPanel()})))},o.prototype.onNext=function(e){var t,n,o,r,i,a,s,l,c=this;if(e&&e.step){if(t=e.step.eventLabel)for(this.events.hasOwnProperty(t)?this.events[t].splice(0,this.events[t].length):this.events[t]=[],n=0,o=e.attributes();n<o.length;n++)(r=o[n]).selected()&&r.attribute&&r.attribute.eventLabel&&this.events[t].push(r.attribute.eventLabel);i=this.steps().map((function(e){return e.step.eventLabel})),this.addGA4Event(this.events,e.step.virtualPageviewLabel,i,e.step.gA4EventLabel)}if(e&&e.step.isFinalStep)return a=ko.utils.arrayFirst(e.attributes(),(function(e){return e.selected()})),void((s=ko.utils.arrayFirst(a.attribute.resultPointers,(function(e){return e.riskFactor===c.riskFactor})))&&(this.finalResultItemId=s.resultItemId,this.currentStep(this.currentStep()+1),this.loadResult(this.finalResultItemId,this.finalQuery)));(l=e?e.next:this.steps()[0])&&(this.update(l),l.visible(!0),this.scroll(l.step.index,!0),this.registerStepVirtualPageview(l))},o.prototype.addGA4Event=function(e,n,o,r){var i,a;this.currentStep()<=this.steps().length&&(a=new u(e,this.currentStep().toString(),o,n,r),a=JSON.parse(JSON.stringify(a)),null===(i=t.Features.GA4.GA4.getInstance())||void 0===i||i.pushEvent(a))},o.prototype.onClickStep=function(e,t){var n=jQuery(t.target),o=e?e.step.index:0;n.is("."+i.cssStepInner)&&this.scroll(o)},o.prototype.onClickAlternate=function(e){this.alternates&&this.alternates.hasOwnProperty(e)&&this.loadResult(e,this.alternates[e].query)},o.prototype.togglePopup=function(e,n){switch(e){case i.idPopupRestart:this.showPopupRestart(n);break;case i.idPopupDiscover:this.showPopupDiscover(n)}t.Flooring.FlooringHelpers.disableBodyScroll(n)},o.prototype.onPopupContinue=function(e,t){switch(e){case i.idPopupRestart:this.$scope.find(i.dataFloorExplorerStepsWrapper).show(),this.$scope.find(i.dataFloorExplorerResultWrapper).empty(),this.$scope.toggleClass(i.cssFloorExplorerResult,!1),this.clearFromStep(this.steps()[0]),this.togglePopup(e,!1),this.scroll(0),this.currentStep(0),this.registerStepVirtualPageview(null),n.HeaderProgress.set(-1);break;case i.idPopupDiscover:"email"===t?this.discoverFloors():"link"===t&&(window.open(this.$scope.find("#"+i.idFloorListerLink).val(),"_blank"),this.togglePopup(e,!1),this.registerVirtualPageview(this.currentStep(),this.params.discoverVirtualPageviewLabelNoEmail))}},o.prototype.onPopupCancel=function(e){this.togglePopup(e,!1)},o.prototype.getStepModel=function(e){return ko.utils.arrayFirst(this.steps(),(function(t){return t.step.index===e}))},o.prototype.scroll=function(e,n){var o,r,a=jQuery("["+i.dataStepId+'="'+(e-1)+'"]'),s=jQuery("["+i.dataStepId+'="'+e+'"]'),l=jQuery("."+i.cssHeaderFixedWrapperV2);l.height()||(l=jQuery("."+i.cssHeaderFixedWrapperV1)),a.removeClass("current"),s.addClass("current"),s.length&&(o=getComputedStyle(l[0]).getPropertyValue("--shrink-amount"),r=l.height(),o&&(r=parseInt(o)+40),t.Unilin.UnilinHelpers.scrollTo(s.offset().top-r,"swing",(function(){n&&(t.Flooring.BlazyImage.revalidate(),window.polyFills.revalidateObjectFit())})))},o.prototype.updateResultsCount=function(e){var t=this.$scope.find("."+i.cssBottomBarCount);t.toggleClass(i.cssBottomBarCountAnimate,!0),setTimeout((function(){return t.toggleClass(i.cssBottomBarCountAnimate,!1)}),200),this.resultsCount(e)},o.prototype.clearFromStep=function(e){for(;null!=e;)e.reset(),e=e.next},o.prototype.registerStepVirtualPageview=function(e){var t=e?e.step.virtualPageviewLabel:this.params.step0VirtualPageviewLabel,n=e?e.step.index:0;this.registerVirtualPageview(n,t)},o.prototype.registerVirtualPageview=function(t,n){var o;r.getInstance().registerVirtualPageview("/FloorExplorer/"+n,"FloorExplorer Step "+t),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushVirtualPageEvent("/FloorExplorer/"+n,"FloorExplorer Step "+t)},o}();n.FloorExplorer=d}(n.Flooring||(n.Flooring={}))}(t.Website||(t.Website={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n){var o=t.call(this,n,"jsFloorInfoCarousel-CtaBar")||this;return o.$element=n,e.FavoriteFloorsManager.initialize(n),o}return __extends(n,t),n}(e.ComponentWithProductActions);e.CtaBar=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function n(t){var n=this;this.$element=t,this.$faButton=this.$element.find('[data-selector="fa-container"]'),this.$faButton.on("click",(function(e){return n.openFloorAdvisor(e)})),e.Unilin.UnilinHelpers.initializePopovers(t)}return n.prototype.openFloorAdvisor=function(e){t.FloorAdvisorManager.getInstance().openFloorAdvisor(jQuery(e.currentTarget),"jsFloorAdvisorCta")},n}();t.FloorInfoCarousel=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t){var n=e.call(this,t,"jsSampleInfo")||this;return n.$element=t,n}return __extends(t,e),t}(e.ComponentWithProductActions);e.SampleInfo=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function n(n,o){var r=e.call(this,n)||this;return r.$element=n,r.params=o,r.onChangeQualityLevel=function(e){if(r.qualityLevelsSelectize){var t=r.qualityLevelsSelectize.options;t.hasOwnProperty(e)&&(window.location.href=t[e].data)}},r.$qualityLevelsContainer=r.$element.find('[data-selector="quality-levels-container"]'),r.$availableInVariantsText=r.$element.find('[data-selector="available-in-variants-text"]'),r.$variantsCount=r.$availableInVariantsText.find('[data-selector="variants-count"]'),r.$qualityLevelsContainer.length?r.$http.post(r.params.loadQualityLevels,null).done((function(e){if(e&&e.length>0){r.$qualityLevelsContainer.html(e);var n=r.$qualityLevelsContainer.find("[data-key=QualityLevel]").first();n.length&&(r.qualityLevelsSelectize=t.Shared.Selectize.initialize(n,{onChange:r.onChangeQualityLevel}))}else r.$qualityLevelsContainer.hide()})):r.$availableInVariantsText.length&&r.$http.post(r.params.loadVariantsCountUrl,null).done((function(e){e?(r.$variantsCount.text(e),r.$availableInVariantsText.fadeIn(200),r.$availableInVariantsText.on("click","a",(function(e){if(window.breakpoints.isTablet()||window.breakpoints.isMobile()){var t=jQuery(jQuery(e.currentTarget).data("collapse"));jQuery(t).collapse("show")}}))):r.params.hasPrice||r.$component.remove()})),r}return __extends(n,e),n}(e.Unilin.BaseComponent);t.Variants=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(n){var o=function(e){function n(n){var o=e.call(this,n)||this;return o.$component.on("click","[data-selector='footer-contact-email']",(function(e,n){return t.FlooringHelpers.renderEmailTextField(e,n)})),o}return __extends(n,e),n}(e.Unilin.BaseComponent);n.Footer=o}(t.V1||(t.V1={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(){function t(e,t){this.$element=e,this.params=t,this.scrollTopDuration=700,this.$toTopButton=jQuery("[data-selector='go-to-top']",this.$element),this.$window=jQuery(window),this.bindEvents()}return t.prototype.bindEvents=function(){var e=this;this.toggleTop(),this.$window.on("scroll",(function(){return e.toggleTop()})),this.$toTopButton.on("click",(function(t){return e.scrollToTop(t)}))},t.prototype.scrollToTop=function(t){t.preventDefault(),e.Unilin.UnilinHelpers.scrollTo(0,this.scrollTopDuration)},t.prototype.toggleTop=function(){var e=this.$window.scrollTop()>this.params.threshold;this.$toTopButton.toggleClass(t.classTopVisible,e)},t.classTopVisible="c-top--visible",t}();t.Top=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function n(t,n){var o=e.call(this,t)||this;return o.params=n,o.initElements(),o.initEvents(),o}return __extends(n,e),n.prototype.initElements=function(){this.$basketCount=this.$component.find("[data-selector='basket-count']"),this.$likesCount=this.$component.find("[data-selector='likes-count']"),this.$compareCount=this.$component.find("[data-selector='compare-count']"),this.$projectCalculatorCount=this.$component.find("[data-selector='project-count']"),this.$searchBar=this.$component.find("[data-selector='search-bar']"),this.$searchBox=this.$component.find("[data-selector='search-box']"),this.$searchButton=this.$component.find("[data-selector='search-button']"),this.mobileHeader=new t.MobileHeader(this.$component)},n.prototype.initEvents=function(){var e=this;this.$http.post(""+this.params.initHeaderUrl+window.location.search,null).done((function(n){n&&(e.updateShoppingCartItemCount(n.basketCount),e.updateLikesCount(n.likesCount),e.updateCompareCount(n.compareCount),null!=n.projectCount?e.updateProjectCount(n.projectCount):e.updateProjectCount(t.ProjectStore.getCount()),e.$component.find('[data-selector="notification-bar"]').attr("data-init","true"))})),this.$searchButton.on("click",(function(t){e.performSearch(t)})),this.$searchBox.on("keydown",(function(t){13==t.keyCode&&e.performSearch(t)})),jQuery(document).on("shopping-cart-changed",(function(t,n){return e.updateShoppingCartItemCount(n)})),jQuery(document).on("likes-changed",(function(t,n){return e.updateLikesCount(n)})),jQuery(document).on("project-changed",(function(t,n){return e.updateProjectCount(n)})),jQuery(document).on("compare-changed",(function(){return e.fetchCompareCount()})),this.$component.on(n.searchTermChanged_EventName,(function(t,n){return e.setSearchboxTerm(n)})),this.params.hasSS360&&jQuery(document).on("ss360.init",(function(){e.$searchBar.removeClass("hide")}))},n.prototype.numberOrEmpty=function(e){return e&&e>0?""+e:""},n.prototype.updateShoppingCartItemCount=function(e){this.$basketCount.text(this.numberOrEmpty(+e))},n.prototype.updateLikesCount=function(e){this.$likesCount.text(this.numberOrEmpty(+e))},n.prototype.updateCompareCount=function(e){this.$compareCount.text(this.numberOrEmpty(+e))},n.prototype.updateProjectCount=function(e){this.$projectCalculatorCount.text(this.numberOrEmpty(e))},n.prototype.fetchCompareCount=function(){var e=this;this.$http.post(this.params.getCompareCountUrl,null).done((function(t){t&&e.updateCompareCount(t.count)}))},n.prototype.performSearch=function(e){e.preventDefault();var t=encodeURIComponent(this.$searchBox.val());t&&(window.location.href=this.$searchButton.attr("href")+"?FreeTextSearch="+t)},n.prototype.setSearchboxTerm=function(e){this.$searchBox&&this.$searchBox.val(e)},n.triggerSearchBoxTermChange=function(e){jQuery("[data-component-class='Dlw.ScBase.Flooring.Header']").trigger(n.searchTermChanged_EventName,e)},n.searchTermChanged_EventName="Dlw.ScBase.Flooring.Header.SearchTerm_Changed",n}(e.Unilin.BaseComponent);t.Header=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){var t,n=function(){function n(e){this.$element=e,this.activeMenuItems=Object.create([]),this.initEvents(),this.toggleMobileSearch()}return n.prototype.initEvents=function(){var o=this;jQuery(window).on("debouncedresize",(function(){window.matchMedia("(max-width: "+t.md+"px)").matches||o.resetMobileMenu(),"text"!==jQuery(document.activeElement).prop("type")&&(jQuery(n.CLASS_MENU_MASK).hide(),o.toggleMobileSearch())})),jQuery('[data-target="#toggleNavMenu"]').click((function(e){jQuery(e.currentTarget).find("input").is(":checked")?(jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_ANIMATE_OUTRIGHT),jQuery(n.CLASS_MENU_MASK).show()):(o.resetMobileMenu(),jQuery(n.CLASS_MENU_MASK).hide())})),jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).mouseenter((function(o){window.matchMedia("(min-width: "+t.md+"px)").matches&&jQuery(o.currentTarget).children(n.CLASS_MENU_MOBILE_LIST).length>0&&(jQuery(n.CLASS_MENU_MASK).show(),jQuery(o.currentTarget).addClass("active"),e.BlazyImage.revalidate(),jQuery(o.currentTarget).find(".container").mouseleave((function(e){if(jQuery(e.relatedTarget).hasClass("active")||jQuery(e.relatedTarget).hasClass(n.CLASS_MENU_MOBILE_ITEM.replace(".","")))return!0;jQuery(n.CLASS_MENU_MASK).hide(),jQuery(e.currentTarget).closest(".active").removeClass("active")})))})).mouseleave((function(e){if(jQuery.contains(e.currentTarget,e.relatedTarget))return!0;jQuery(n.CLASS_MENU_MASK).hide(),jQuery(e.currentTarget).removeClass("active")})),jQuery(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).click((function(e){return o.backMobileNav(e)})),jQuery(n.CLASS_MENU_MOBILE_ITEM).click((function(e){return o.toggleMobileSubNav(e)})),this.$element.find('[data-selector="mobile-search-icon"]').click((function(e){return o.toggleMobileSearch(e)}))},n.prototype.toggleFixedHeader=function(){var e=jQuery(n.CLASS_HEADER);jQuery(window).scrollTop()>0?e.addClass(n.CLASS_HEADER_FIXED):e.removeClass(n.CLASS_HEADER_FIXED)},n.prototype.toggleMobileSearch=function(e){var o=this.$element.find('[data-selector="search-bar"]'),r=this.$element.find('[data-selector="header"]');window.matchMedia("(max-width: "+t.md+"px)").matches?e&&"click"===e.type?(o.toggleClass(n.CLASS_HIDE),r.parent().toggleClass("is-search")):(o.addClass(n.CLASS_HIDE),r.parent().removeClass("is-search")):(o.removeClass(n.CLASS_HIDE),r.parent().removeClass("is-search"))},n.prototype.resetMobileMenu=function(){jQuery(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_HIDE).find("span:last").text(""),this.activeMenuItems=[],jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).removeClass(n.CLASS_ANIMATE_OUTRIGHT).removeClass(n.CLASS_ANIMATE_INFROMLEFT).removeClass(n.CLASS_HIDE).find("."+n.CLASS_HIDE).removeClass(n.CLASS_HIDE),jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).find("."+n.CLASS_ACTIVE).removeClass(n.CLASS_ACTIVE),jQuery('[data-target="#toggleNavMenu"] input').is(":checked")&&jQuery('[data-target="#toggleNavMenu"] input').trigger("click")},n.prototype.backMobileNav=function(){var e=this.activeMenuItems.pop(),t=this.activeMenuItems[this.activeMenuItems.length-1];jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_ANIMATE_OUTRIGHT).removeClass(n.CLASS_ANIMATE_INFROMLEFT),jQuery(e).removeClass(n.CLASS_HIDE).parent().siblings().removeClass(n.CLASS_HIDE),jQuery(e).next(n.CLASS_MENU_MOBILE_LIST).removeClass(n.CLASS_ACTIVE),0===this.activeMenuItems.length?jQuery(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_HIDE).find("span:last").text(""):jQuery(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).find("span:last").text(t.text()),jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_ANIMATE_INFROMLEFT).removeClass(n.CLASS_ANIMATE_OUTRIGHT)},n.prototype.toggleMobileSubNav=function(o){window.matchMedia("(max-width: "+(t.md-1)+"px)").matches&&(jQuery(n.CLASS_MENU_MOBILE).children().not(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).addClass(n.CLASS_ANIMATE_INFROMLEFT).removeClass(n.CLASS_ANIMATE_OUTRIGHT),jQuery(o.currentTarget).next(n.CLASS_MENU_MOBILE_LIST).length>0&&(o.preventDefault(),this.activeMenuItems.push(jQuery(o.currentTarget)),jQuery(o.currentTarget).addClass(n.CLASS_HIDE).parent().siblings().addClass(n.CLASS_HIDE),jQuery(o.currentTarget).next(n.CLASS_MENU_MOBILE_LIST).addClass(n.CLASS_ACTIVE),jQuery(n.CLASS_MENU_MOBILE_ITEM_ACTIVE).removeClass(n.CLASS_HIDE).find("span:last").text(jQuery(o.currentTarget).text()),document.addEventListener("animationend",(function(){return e.BlazyImage.revalidate()}))))},n.CLASS_HEADER=".js-header",n.CLASS_HEADER_FIXED="c-header--fixed",n.CLASS_MENU_MASK=".js-menu-mask",n.CLASS_MENU_MOBILE_ITEM_ACTIVE=".js-menu-nav",n.CLASS_MENU_MOBILE=".js-menu",n.CLASS_MENU_MOBILE_LIST=".js-nav-list",n.CLASS_MENU_MOBILE_ITEM=".js-nav-item",n.CLASS_HIDE="hidden",n.CLASS_ACTIVE="active",n.CLASS_ANIMATE_OUTLEFT="c-animate-outToLeft",n.CLASS_ANIMATE_OUTRIGHT="c-animate-outToRight",n.CLASS_ANIMATE_INFROMLEFT="c-animate-inFromLeft",n.CLASS_ANIMATE_INFROMRIGHT="c-animate-inFromRight",n}();e.MobileHeader=n,function(e){e[e.xs=480]="xs",e[e.sm=768]="sm",e[e.md=992]="md",e[e.lg=1200]="lg",e[e.xl=1600]="xl"}(t=e.BreakPoints||(e.BreakPoints={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.set=function(e,t){t||(t=this.getProgressBar());var n=t.find("li");n.length&&(e>-1?(this.toggle(!0,t),n.toggleClass(this.cssCurrent,!1).eq(e).toggleClass(this.cssCurrent,!0)):this.toggle(!1,t))},e.toggle=function(e,t){t||(t=this.getProgressBar()),t.length&&t.toggleClass(this.cssVisible,e)},e.reset=function(e,t,n){if(void 0===t&&(t=0),n||(n=this.getProgressBar()),n.length){n.empty();for(var o=0;o<e;++o)n.append("<li"+(o===t?' class="current"':"")+"></li>")}},e.getProgressBar=function(){return jQuery('[data-selector="header-progress"]').first()},e.cssVisible="visible",e.cssCurrent="current",e}();e.HeaderProgress=t}(e.Flooring||(e.Flooring={}))}(e.Website||(e.Website={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){!function(n){var o=t.Flooring.FlooringHelpers,r=t.Flooring.BlazyImage,i=t.Flooring.Commerce.ProductCardGrid,a=t.Unilin.UnilinHelpers,s=t.Flooring.BreakPoints,l=function(t){function n(e,n){var o=t.call(this,e,"jsSearch",'[data-selector="product-cards"]',!0)||this;return o.$scope=e,o.params=n,o.queryParameterName="FreeTextSearch",o.discoverAllProductSelector='[data-selector="discoverallproducts-button"]',o.$productResultContainer=o.$scope.find('[data-selector="product-result-container"]'),o.$topProductsContainer=o.$scope.find('[data-selector="topproducts-container"]'),o.$container=o.$scope.find('[data-selector="search-container"]'),o.$errormessage=o.$scope.find('[data-selector="search-error-message"]'),o.$spinner=o.$scope.find('[data-selector="search-spinner"]'),jQuery(document).on("ss360.init",(function(){o.initEvents(),o.initSearch()})),o}return __extends(n,t),n.prototype.initSearch=function(){var e=this,t=new Map;t["callbacks.postSearch"]=function(t){return e.postSearch.bind(e,t)()},t["callbacks.moreResults"]=function(t){return e.moreResults.bind(e,t)()},t["results.caption"]=null,t["results.group"]=!1,t["results.showSearchBoxLayover"]=!1,t["results.linksOpenNewTab"]=!0,t["results.infiniteScroll"]=!1,t["results.lazyLoadImages"]=!0,t["results.searchQueryParamName"]=this.queryParameterName,t["results.noResultsText"]=this.params.noResultsText,t["results.moreResultsButton"]=this.params.moreResultsButtonText,t["results.moreResultsPagingSize"]=this.params.maxResultsPagingSize,this.params.allowLoadMore||(t["results.num"]=this.params.maxResultsPagingSize),jQuery(document).trigger("ss360.config.override",t),a.getQueryParameterByName(this.queryParameterName,window.location.href)&&!this.params.hasErrors&&(this.$container.show(),this.$spinner.hide()),this.params.hasErrors&&(this.$errormessage.show(),this.$spinner.hide())},n.prototype.initEvents=function(){var e=this;this.$scope.on("click",this.discoverAllProductSelector,(function(t){return e.switchToProductTab(t)})),jQuery("body").on("shown.bs.collapse shown.bs.tab",(function(){r.revalidate()})),jQuery(document).on("ss360.config.preSearch",(function(t,n){e.performProductSearch(n)})),jQuery(document).on("ss360.config.postSearch",(function(t,n){var o,i;if(e.params.hasErrors)return e.$container.hide(),void e.$errormessage.show();e.$container.show(),e.$errormessage.hide(),e.$spinner.hide(),o=jQuery(".ss360-more-results"),jQuery(".ss360-more-results-label").length||o.before('<label class="ss360-more-results-label">Showing <span data-selector="loaded-count"></span> of '+n.totalResults+"</label>"),i=jQuery(".ss360-suggests:not(.ss360-hidden)").length,e.updateLoadedCount(i),e.updateTotalCount(n.totalResults),r.revalidate()})),jQuery(document).on("ss360.config.moreResults",(function(t,n){e.updateLoadedCount(n)}))},n.prototype.performProductSearch=function(t){var n=this;o.showFullScreenWaitPanel(),window.$http.post(this.params.updateActionUrl,{freeTextSearch:t}).done((function(o){o&&o.json&&o.json.succeeded?(n.params.hasErrors=!1,n.$productResultContainer.html(o.html),o.json.topProducts?n.$topProductsContainer.html(o.json.topProducts):n.$topProductsContainer.html(""),r.revalidate(),jQuery('[data-selector="product-count"]').text(""+o.json.productResultCount),jQuery('[data-selector="search-text"]').text(""+o.json.freeTextSearch),e.ScBase.Flooring.Header.triggerSearchBoxTermChange(t)):n.params.hasErrors=!0})).always((function(){return e.ScBase.Flooring.FlooringHelpers.hideWaitPanel()}))},n.prototype.postSearch=function(e){jQuery(document).trigger("ss360.config.postSearch",e)},n.prototype.moreResults=function(e){jQuery(document).trigger("ss360.config.moreResults",e)},n.prototype.updateLoadedCount=function(e){jQuery('[data-selector="loaded-count"]').text(""+e)},n.prototype.updateTotalCount=function(e){jQuery('[data-selector="total-count"]').text(""+e)},n.prototype.switchToProductTab=function(){var e=jQuery("a[href='#"+this.params.productTabName+"']");e.length>0&&(e.tab("show"),window.matchMedia("(max-width: "+s.md+"px)").matches&&(jQuery("#collapse-products").collapse("show"),jQuery("#collapse-search").collapse("hide")))},n}(i);n.HelpCenterSearchResult=l}(n.Flooring||(n.Flooring={}))}(t.Website||(t.Website={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){!function(t){var n=e.Unilin.UnilinHelpers,o=function(){function e(e,t){this.$scope=e,this.params=t,this.queryParameterName="FreeTextSearch",this.$searchBar=this.$scope.find('[data-selector="search-bar"]'),this.$searchBox=this.$scope.find('[data-selector="search-box"]'),this.searchBoxId="",this.initEvents();var o=n.getQueryParameterByName(this.queryParameterName,window.location.href);o&&this.$searchBox.val(o)}return e.prototype.initEvents=function(){var e=this;this.$searchBox.focus((function(t){var n=t.target.id;""==e.searchBoxId&&e.$searchBox.attr("id")===n&&(e.searchBoxId=n),n===e.searchBoxId&&jQuery(document).trigger("ss360.config.override",e.params.overrideSS360Config)})),this.params.overrideSS360Config["callbacks.preSearch"]=function(t,n,o){return e.preSearch.bind(e,t,n,o)()},jQuery(document).on("ss360.init",(function(){e.$searchBar.removeClass("hide")}))},e.prototype.preSearch=function(e){return!(null==e||e.length<3)&&(this.params.searchResultUrl?(window.location.href=this.params.searchResultUrl+"?"+this.queryParameterName+"="+e,!1):(jQuery(document).trigger("ss360.config.preSearch",e),!0))},e.prototype.postSearch=function(e){jQuery(document).trigger("ss360.config.postSearch",e)},e.prototype.moreResults=function(e){jQuery(document).trigger("ss360.config.moreResults",e)},e}();t.HeroWithSearch=o}(t.Flooring||(t.Flooring={}))}(e.Website||(e.Website={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(e){function n(n,o,r,i,a){var s=e.call(this)||this;return s.dealer_city=o,s.dealer_postal_code=n,s.dealer_country=r,s.dealer_name=i,s.dealer_id=a,s.event=t.GA4Constants.Events.FIND_AN_INSTALLER_DETAILS,s}return __extends(n,e),n}(e.Features.GA4.BaseEvent),o=function(){function o(o,r){var i;this.$element=o,this.params=r,this.tabsHelper=new t.TabsHelper(o),this.initGoogleMaps(),e.Unilin.UnilinHelpers.initializePopovers(this.$element),null===(i=e.Features.GA4.GA4.getInstance())||void 0===i||i.pushEvent(new n(this.params.postalCode,this.params.city,this.params.country,this.params.name,this.params.id))}return o.prototype.initGoogleMaps=function(){var e=this.$element.find("#google-map"),t=new google.maps.LatLng(parseFloat(e.data("lat")),parseFloat(e.data("lng")));this.googleMap=new google.maps.Map(e.get(0),{zoom:14,maxZoom:null,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,panControl:!1,navigationControl:!1,streetViewControl:!1,zoomControl:!0,styles:[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]},{featureType:"poi",stylers:[{visibility:"off"}]}]}),new google.maps.Marker({position:t,icon:e.data("icon")}).setMap(this.googleMap)},o}();t.InstallerDetail=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){!function(t){var n=function(t,n){var o,r;this.$element=t,null!=n&&null!=n.endpoint&&null!=n.selector&&(o=jQuery('[itemprop="page-id"]').attr("content"))&&(r=jQuery(document).find('[data-selector="'+n.selector+'"]'),window.$http.get(n.endpoint+"/"+o+window.location.search,{}).done((function(t){t&&r.each((function(n,o){var r=jQuery(o);r.html(t),e.Flooring.FlooringHelpers.toggleSvgOnClassChange(r,"open","#chevron-down","#chevron-up")}))})))};t.LanguageSwitch=n}(t.Flooring||(t.Flooring={}))}(e.Website||(e.Website={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n,o=1,r=arguments.length;o<r;o++)for(n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},function(e){!function(t){!function(n){var o,r,i,a,s=e.ScBase.Unilin.Toast,l=t.Unilin.TagManagerModule.GTM;!function(e){e[e.ApplicationLoading=-1]="ApplicationLoading",e[e.Blueprint=0]="Blueprint",e[e.Edit=1]="Edit",e[e.AwaitServerResponse=2]="AwaitServerResponse",e[e.Result=3]="Result",e[e.ReadyFit=4]="ReadyFit",e[e.SellThePackage=5]="SellThePackage"}(o||(o={})),r=function(){function e(e,t){this.$element=e,this.settings=t,this.wizard=[new p(this.$element.find('[data-selector="step-1"]'),this.settings),new d(this.$element.find('[data-selector="step-2"]'),this.settings)],this.setup()}return e.prototype.setup=function(){for(var e,t=this.wizard.length-1;t>=0;t--)if((e=this.wizard[t]).canLoad())return void e.load()},e}(),n.OldProjectCalculator=r;var c=function(e){function t(t,o,r){var i=e.call(this)||this;return i.virtual_page_title=t,i.virtual_page_url=o,i.project_calculator_step=r,i.event=n.GA4Constants.Events.PROJECT_CALCULATOR_INITIATED,i}return __extends(t,e),t}(t.Features.GA4.BaseEvent),u=function(){function e(e,t){this.$scope=e,this.settings=t}return e.prototype.show=function(){this.$scope.removeClass("hidden")},e.prototype.hide=function(){this.$scope.addClass("hidden")},e}(),p=function(o){function r(e,t){return o.call(this,e,t)||this}return __extends(r,o),r.prototype.canLoad=function(){var e=n.ProjectStore.current();return null==e||null==e.floor},r.prototype.load=function(){var n,o;this.show(),t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/ProjectCalculator/step0","ProjectCalculator Step 0 – Empty project"),null===(n=e.ScBase.Features.GA4.GA4.getInstance())||void 0===n||n.pushVirtualPageEvent("/ProjectCalculator/step0","ProjectCalculator Step 0 – Empty project"),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushEvent(new c("/ProjectCalculator/step0","ProjectCalculator Step 0 – Empty project","0"))},r.prototype.unload=function(){this.hide()},r}(u),d=function(e){function o(t,n){return e.call(this,t,n)||this}return __extends(o,e),o.prototype.canLoad=function(){var e=n.ProjectStore.current();return null!=e&&null!=e.floor},o.prototype.load=function(){var e=jQuery("meta[name='content-language']").attr("content");this.viewModel=new h(this.settings,e,this.$scope),ko.applyBindings(this.viewModel,this.$scope[0]),t.Unilin.UnilinHelpers.initializePopovers(this.$scope),n.Shared.Selectize.initializeAll(this.$scope),this.show()},o.prototype.unload=function(){ko.cleanNode(this.$scope[0]),this.viewModel=null,this.hide()},o}(u),h=function(){function r(e,t,r){var i,a=this;this.settings=e,this.$scope=r,i=n.ProjectStore.current().blueprint,this.formatter=new S(t),this.state=ko.observable(o.ApplicationLoading),this.state.subscribe((function(e){return a.triggerGTM(e)})),this.bluePrint=new f(i),this.floor=ko.observable(g.empty()),this.underlay=ko.observable(g.empty()),this.skirtings=ko.observable(g.empty()),this.extras=ko.observableArray([]),this.serviceSection=ko.observable(y.empty()),this.triggeredProjectUpdate=ko.pureComputed((function(){var e,t=a.fetchSectionUpdate(a.floor().products),r=a.fetchSectionUpdate(a.underlay().products),i=a.fetchSectionUpdate(a.skirtings().products),s=a.fetchSectionUpdate((e=[]).concat.apply(e,a.extras().map((function(e){return e.products})))),l=a.fetchServiceSectionUpdate(a.serviceSection().services),c=0;return a.state.peek()>=o.Result&&(n.ProjectStore.save({blueprint:a.bluePrint.snapshot(),floor:t.reference[0],underlay:r.reference,skirtings:i.reference,extras:s.reference,services:l.reference}),c+=t.subtotal,c+=r.subtotal,c+=i.subtotal,c+=s.subtotal,c+=l.subtotal),c})).extend({deferred:!0}),this.calculateState()}return r.prototype.submitBlueprint=function(){if(this.bluePrint.validate()){var e=n.ProjectStore.current().floor,t=__assign(__assign({},e),{quantity:null});n.ProjectStore.save({blueprint:this.bluePrint.snapshot(),floor:t,underlay:[],skirtings:[],extras:[]}),this.loadServerData()}},r.prototype.formatWithCurreny=function(e){var t,n=this.floor(),o="";return n&&n.products&&n.products.length>0&&((t=n.products[0])&&t.priceInfo&&(o=t.priceInfo.currency)),this.formatter.formatNumber(e,o)},r.prototype.addToCart=function(){var e=n.ProjectStore.current();this.addProjectToCart(e,!1)},r.prototype.addQuote=function(){var t=n.ProjectStore.current();n.FlooringHelpers.showFullScreenWaitPanel(),window.$http.post(this.settings.createQuoteEndPoint,{project:t}).done((function(o){var r;o.html&&s.show(o.html,{secondaryCallback:function(e,t){return t.destroy()}}),o.json.success&&(t.quoteId=o.json.quoteId,n.ProjectStore.save(t),l.getInstance().registerVirtualPageview("/ProjectCalculator/step3-RegisterQuote","ProjectCalculator Step 3 – Registerd Quote"),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent("/ProjectCalculator/step3-RegisterQuote","ProjectCalculator Step 3 – Registerd Quote"),o.json.uri&&(window.location.href=o.json.uri))})).always((function(){return n.FlooringHelpers.hideWaitPanel()}))},r.prototype.emailProject=function(){if(this.emailForm||this.initEmailFormValidation(),this.emailForm.validationSummaryHelper.validate()){n.FlooringHelpers.showFullScreenWaitPanel();var t=n.ProjectStore.current(),o=this.emailForm.validationSummaryHelper.$form,r={};o.serializeArray().map((function(e){return r[e.name]=e.value})),r.project=t,window.$http.postAsFormDataWithReCaptcha(this.settings.emailProjectEndPoint,r,"projectCalculator").done((function(t){var r;t&&(t.json&&t.json.success?(l.getInstance().registerVirtualPageview("/ProjectCalculator/step3-SendEmail","ProjectCalculator Step 3 – Email Send"),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent("/ProjectCalculator/step3-SendEmail","ProjectCalculator Step 3 – Email Send"),o.replaceWith(t.html),n.GA4.GA4Helpers.registerUserIdentified()):o.find("[data-selector='notification-message']").replaceWith(t.html))})).always((function(){return n.FlooringHelpers.hideWaitPanel()}))}},r.prototype.cancelBluePrint=function(){var e,t,r,i=n.ProjectStore.current().blueprint;for(this.bluePrint.bounds(i.bounds),this.bluePrint.surface(i.surface),this.bluePrint.floorLevel(i.floorLevel),this.bluePrint.roomType(i.roomType),e=0,t=this.serviceSection().services;e<t.length;e++)if((r=t[e]).isSelected())return void this.state(r.serviceState);this.state(o.Result)},r.prototype.calculateState=function(){var e=n.ProjectStore.current();if(null!=e.blueprint){var t=e.blueprint,r=t.bounds,i=t.floorLevel,a=t.roomType,s=t.surface;r&&i&&a&&s?this.loadServerData():this.state(o.Blueprint)}else this.state(o.Blueprint)},r.prototype.fetchSectionUpdate=function(e){for(var t,n=0,o=[],r=e.length,i=0;i<r;++i)(t=e[i]).isSelected()&&(n+=t.subTotal(),o.push(t.snapshot()));return{subtotal:n,reference:o}},r.prototype.fetchServiceSectionUpdate=function(e){for(var t,n=0,o=[],r=(e.length,0),i=e;r<i.length;r++)(t=i[r]).isSelected()&&(n+=t.subTotal(),o.push(t.snapshot()));return{subtotal:n,reference:o}},r.prototype.loadServerData=function(){var e,r,i=this;this.state(o.AwaitServerResponse),r={productId:(e=n.ProjectStore.current()).floor.productId,blueprint:e.blueprint},this.converter=new v(e.blueprint,this.formatter),window.$http.post(this.settings.loadServerDataEndPoint,r).done((function(e){!e||e.json,i.state()<3&&i.state(o.Result),i.update(e.json,e.html),t.Unilin.UnilinHelpers.initializePopovers(i.$scope),i.$scope.find('[data-toggle="collapse"]').each((function(e,t){return n.FlooringHelpers.toggleSvgOnClassChange(jQuery(t),"collapsed","#minus-circle","#plus-circle")}))})).fail((function(e){var t=i.$scope.find('[data-selector="general-error"]');404===e.status&&(t=i.$scope.find('[data-selector="floor-not-found"]')),e.status<500&&n.ProjectStore.save({blueprint:{},floor:null,underlay:[],extras:[],skirtings:[]}),t.length>0&&s.show(t.html(),{timeout:0,primaryCallback:function(){window.location.href=window.location.href}})}))},r.prototype.addProjectToCart=function(t,o){var r=this;void 0===o&&(o=!1),n.FlooringHelpers.showFullScreenWaitPanel(),window.$http.post(this.settings.addToCartEndPoint,{project:t,replaceCart:o}).done((function(o){var i;o.json.success?(l.getInstance().registerVirtualPageview("/ProjectCalculator/step3-AddToCart","ProjectCalculator Step 3 – Converted to Cart"),null===(i=e.ScBase.Features.GA4.GA4.getInstance())||void 0===i||i.pushVirtualPageEvent("/ProjectCalculator/step3-AddToCart","ProjectCalculator Step 3 – Converted to Cart"),s.show(o.html,{primaryCallback:function(){window.location.href=r.settings.shoppingCartPageUrl},secondaryCallback:function(e,t){return t.destroy()}})):s.show(o.html,{primaryCallback:function(e,n){r.addProjectToCart(t,!0),n.destroy()},secondaryCallback:function(e,t){return t.destroy()}}),o.json.removeFromCartEvent&&l.getInstance().registerEventOfType(o.json.removeFromCartEvent),o.json.addToCartEvent&&l.getInstance().registerEventOfType(o.json.addToCartEvent),o.json.cartCount&&n.ShoppingCartManager.triggerCartChanged(o.json.cartCount)})).always((function(){return n.FlooringHelpers.hideWaitPanel()}))},r.prototype.update=function(e,t){var o,r=n.ProjectStore.current(),i=!r.underlay||0==r.underlay.length,a=this.mergeSection(e.floor,[r.floor],i),s=this.mergeSection(e.underlay,r.underlay,i),l=this.mergeSection(e.skirtings,r.skirtings,i),c=this.mergeSections(e.extraProducts,r.extras,i);this.floor(a),this.underlay(s),this.skirtings(l),this.extras(c),o=new y(t,this.formatter,r.services,r.blueprint,this.state,this.floor().products[0]),this.serviceSection(o)},r.prototype.mergeSections=function(e,t,n){var o=this;return e?e.map((function(e){return o.mergeSection(e,t,n)})):[]},r.prototype.mergeSection=function(e,t,n){var o,r,i,a,s;if(!e)return g.empty();var l=e.products,c=(e.isRequired,e.selectFirstByDefault);if(!l)return new g(e,[],!1);var u=t?t.filter((function(e){return e&&e.productId})):[],p=u.map((function(e){return e.productId})),d=[],h=l.length,f=!1;for(o=0;o<h;++o)(r=l[o])&&r.productId&&(a=-1!==(i=p.indexOf(r.productId))?u[i]:null,f=f||null!=a||!1,s=c&&n&&null!=t&&0==t.length&&0==o,d.push(new m(r,a,this.converter,s)));return new g(e,d,f)},r.prototype.triggerGTM=function(n){var r,i;switch(n){case o.Blueprint:t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/ProjectCalculator/step1","ProjectCalculator Step 1 – Project info"),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent("/ProjectCalculator/step1","ProjectCalculator Step 1 – Project info");break;case o.Result:t.Unilin.TagManagerModule.GTM.getInstance().registerVirtualPageview("/ProjectCalculator/step2","ProjectCalculator Step 2 – Project overview"),null===(i=e.ScBase.Features.GA4.GA4.getInstance())||void 0===i||i.pushVirtualPageEvent("/ProjectCalculator/step2","ProjectCalculator Step 2 – Project overview")}},r.prototype.initEmailFormValidation=function(){var e=this.$scope.find("#email-me-form");e.length>0&&(this.emailForm=new a(e,jQuery("#emailErrorContainer")))},r}(),f=function(){function e(e){e=e||{},this.floorLevel=ko.observable(e.floorLevel),this.roomType=ko.observable(e.roomType),this.surface=ko.observable(e.surface),this.bounds=ko.observable(e.bounds)}return e.prototype.validate=function(){return this.form||this.initFormValidation(),this.form.validationSummaryHelper.validate()},e.prototype.snapshot=function(){return{floorLevel:this.floorLevel.peek(),bounds:this.bounds.peek(),roomType:this.roomType.peek(),surface:this.surface.peek()}},e.prototype.onBlurSurface=function(){this.surface(this.onblur(this.surface()))},e.prototype.onBlurBounds=function(){this.bounds(this.onblur(this.bounds()))},e.prototype.onblur=function(e){return Math.ceil(e)},e.prototype.initFormValidation=function(){this.form=new a(jQuery("#blueprint").find("form"),jQuery("#errorcontainer"))},e}(),g=function(){function e(e,t,n){this.products=t,this.containsSelection=n,e?(this.content=e.content,this.isRequired=e.isRequired,this.isSingleSelect=e.isSingleSelect,this.shouldRenderCheckMarks=e.shouldRenderCheckMarks):this.content=null}return e.empty=function(){return new e(null,[],!1)},e}(),m=function(){function e(e,t,n,o){var r,i,a=this;if(void 0===o&&(o=!1),null==e)throw"ArgumentNullException: Value is null. Parameter: 'product'.";if((r=null!=t)&&e.productId!==t.productId)throw"InvalidOperationException: Value is not equal. Property: 'productCode'.";this.converter=n,this.product=e,this.priceInfo=e.priceInfo,this.isSelected=ko.observable(o||r),this.quantityUpdating=!1,i=t&&t.quantity||this.converter.convertFromBlueprint(this.priceInfo.priceUnitCode,this.priceInfo.conversionFactor)||1,this.quantity=ko.observable(i).extend({notify:"always"}),this.displayQuantity=ko.observable(this.converter.calculateDisplayQuantity(this.quantity(),this.priceInfo.conversionFactor)),this.subTotal=ko.pureComputed((function(){return a.converter.calculatePriceQuantity(a.quantity(),a.priceInfo.conversionFactor)*a.priceInfo.price})),this.quantity.subscribe((function(e){a.quantityUpdating?a.quantityUpdating=!1:(a.quantityUpdating=!0,a.displayQuantity(a.converter.calculateDisplayQuantity(e,a.priceInfo.conversionFactor)))})),this.displayQuantity.subscribe((function(e){return a.quantity(a.converter.calculateQuanity(e,a.priceInfo.conversionFactor))}))}return e.prototype.toggleSelectedState=function(e){var t,n;if(e.shouldRenderCheckMarks){if(e&&e.isSingleSelect)for(t=0,n=e.products;t<n.length;t++)n[t].isSelected(!1);this.isSelected(!this.isSelected())}},e.prototype.formatPriceUnit=function(){return this.priceInfo.currency+"/"+this.priceInfo.priceUnit},e.prototype.formatPrice=function(e){return this.converter.formatNumber(e)},e.prototype.formatWithCurreny=function(e){return this.converter.formatNumber(e,this.priceInfo.currency)},e.prototype.snapshot=function(){return{productId:this.product.productId,quantity:this.quantity()}},e}(),y=function(){function e(t,n,o,r,i,a){var s,l=this;this.formatter=n,s=jQuery('[data-selector="services-placeholder"]').html(t),this.services=[],s.find("["+e.componentSelector+"]").each((function(t,n){var s,c,u=jQuery(n),p=l.parseServiceConstructor(u.attr(e.componentSelector));if(!p)return!1;s=l.parseConstructorParameter(u.attr(e.paramSelector)),c=new p(l.formatter,o,r,i,a,l.services,s),ko.applyBindings(c,n),l.services.push(c)}))}return e.empty=function(){return new e(null,null,[],null,null,null)},e.prototype.parseConstructorParameter=function(e){if(!e)return null;var t;try{t=JSON.parse(e)}catch(n){t=e}return t},e.prototype.parseServiceConstructor=function(e){var t,n,o;if(!e)return null;for(t=e.split("."),n=window[t[0]],o=1;o<t.length&&n;++o)n=n[t[o]];return n},e.componentSelector="data-type",e.paramSelector="data-params",e}(),v=function(){function e(e,t){var n=this;this.formatter=t,this.blueprint=e,this.blueprintMapper={mtk:function(e){return n.calculateQuanity(n.blueprint.surface,e)},mtr:function(e){return n.calculateQuanity(n.blueprint.bounds,e)}}}return e.prototype.convertFromBlueprint=function(e,t){e=e.toLowerCase();var n=this.blueprintMapper[e];return null==n?1:n(t)},e.prototype.calculateQuanity=function(e,t){if(0===t)return 1;var n=1;return"string"==typeof e&&(n=this.formatter.parseLocaleNumber(e)),"number"==typeof e&&(n=e),Math.ceil(n/t)},e.prototype.calculateDisplayQuantity=function(e,t){return this.formatter.formatNumber(e*t)},e.prototype.calculatePriceQuantity=function(e,t){return 0===t?1:e*t},e.prototype.formatNumber=function(e,t,n){return this.formatter.formatNumber(e,t,n)},e}(),S=function(){function e(e,t){if(!e)throw"ArgumentNullException: Value is null. Parameter: 'culture'.";this.thousandSeparator=1111..toLocaleString(e).replace(/1/g,""),this.decimalSeparator=1.1.toLocaleString(e).replace(/1/g,""),this.formatter=new Intl.NumberFormat(e,__assign({style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2,minimumIntegerDigits:1},t))}return e.prototype.formatNumber=function(e,t,n){return n=n||"",(t=t||"")+" "+this.formatter.format(e)+" "+n},e.prototype.parseLocaleNumber=function(e){if(!e)return 0;var t=e.replace(new RegExp("\\"+this.thousandSeparator,"g"),"").replace(new RegExp("\\"+this.decimalSeparator),"."),n=parseFloat(t);return isNaN(n)?0:n},e}(),_=function(){function e(e,t,n,r,i,a,s){var l=this;this.serviceState=o.ReadyFit,this.formatter=e,this.surface=n.surface,this.fixedCost=s.additionalCost,this.measurementServices=s.measurementServices,this.isSelected=ko.observable(!1),this.selectedService=ko.observable(null),this.userSelectedService=ko.pureComputed((function(){return l.findService(l.selectedService())})),this.fixedSubTotal=ko.pureComputed((function(){return l.fixedCost.price*l.formatter.parseLocaleNumber(i.displayQuantity())})),this.serviceSubTotal=ko.pureComputed((function(){var e=l.userSelectedService();return e?e.price:0})),this.subTotal=ko.pureComputed((function(){return l.fixedSubTotal()+l.serviceSubTotal()})),this.state=r,this.serviceType=s.serviceType,this.other=a,t&&this.restore(t)}return e.prototype.toggleSelectedState=function(){var e,t,n,r,i=!this.isSelected();if(i)for(e=0,t=this.other;e<t.length;e++)t[e].deselectService();r=(n=i?this.userSelectedService():null)?n.id:null,this.selectedService(r),this.isSelected(i),this.state(i?o.ReadyFit:o.Result)},e.prototype.deselectService=function(){this.selectedService(null),this.isSelected(!1)},e.prototype.formatWithCurreny=function(e){return this.formatter.formatNumber(e,"+ "+this.fixedCost.currency)},e.prototype.snapshot=function(){var e=[{productId:this.selectedService(),quantity:1}];return{serviceType:this.serviceType,products:e}},e.prototype.restore=function(e){var t,n,r,i,a,s=this;if(!(e.length<=0)&&((t=e.filter((function(e){return e.serviceType===s.serviceType})))&&1===t.length)&&(n=t[0]).products)for(r=0;r<n.products.length;++r)if(i=n.products[r],a=this.findService(i.productId,!1))return this.isSelected(!0),this.selectedService(a.id),void this.state(o.ReadyFit)},e.prototype.findService=function(e,t){var n,o,r,i;if(void 0===t&&(t=!0),o=(n=this.measurementServices).length,e){for(r=o;--r>=0;)if(e===(i=n[r]).id)return i;if(!t)return null}return o>0?n[0]:null},e}();n.ReadyFit=_,i=function(){function e(e,t,n,r,i,a,s){var l=this;this.serviceState=o.SellThePackage,this.formatter=e,this.fixedCost=s.additionalCost,this.isSelected=ko.observable(!1),this.subTotal=ko.pureComputed((function(){return l.fixedCost.price*l.formatter.parseLocaleNumber(i.displayQuantity())})),this.state=r,this.serviceType=s.serviceType,this.other=a,t&&this.restore(t)}return e.prototype.toggleSelectedState=function(){var e,t,n=!this.isSelected();if(n)for(e=0,t=this.other;e<t.length;e++)t[e].deselectService();this.isSelected(n),this.state(n?o.SellThePackage:o.Result)},e.prototype.deselectService=function(){this.isSelected(!1)},e.prototype.formatWithCurreny=function(e){return this.formatter.formatNumber(e,"+ "+this.fixedCost.currency)},e.prototype.snapshot=function(){return{serviceType:this.serviceType,products:[]}},e.prototype.restore=function(e){var t,n=this;e.length<=0||(t=e.filter((function(e){return e.serviceType===n.serviceType})))&&1===t.length&&(this.isSelected(!0),this.state(o.SellThePackage))},e}(),n.SellThePackage=i,a=function(e,t){this.validationSummaryHelper=new n.ValidationSummaryHelper(e,t)}}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=e.Unilin.Storage,o=function(){function e(){}return e.save=function(t){if(null==t)throw new Error("The project is null or undefined.");return this._current=t,n.put(e.storageKey,t),jQuery(document).trigger("project-changed",e.getCount()),this._current},e.delete=function(){this._current={},n.remove(e.storageKey),jQuery(document).trigger("project-changed",0);var t=new CustomEvent("project-changed-V2",{bubbles:!0,detail:0});document.dispatchEvent(t)},e.getCount=function(){var e=0,t=this.current();return t.floor&&e++,t.underlay&&(e+=t.underlay.length),t.skirtings&&(e+=t.skirtings.length),t.extras&&(e+=t.extras.length),t.services&&(e+=t.services.length),e},e.current=function(){if(null==this._current){var t=n.get(e.storageKey)||{};t.services&&t.services.some((function(e){return!e.serviceType}))&&(t.services=[]),this._current=t}return this._current},e.storageKey="project_calculator",e}();t.ProjectStore=o}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t,n){var o=e.call(this,t,"jsportal")||this;return o.$element=t,o.cookieSiteSelection=n,o.$element.on("click",'a[data-selector="country-link"]',(function(e){return o.onCountryLinkClicked(e)})),o}return __extends(t,e),t.prototype.onCountryLinkClicked=function(e){var t,n=jQuery(e.currentTarget).attr("href");n&&n.length>0&&((t=new Date).setMonth(t.getMonth()+3),document.cookie=this.cookieSiteSelection+"="+n+"; expires="+t.toUTCString(),document.location.href=n,e.preventDefault())},t}(e.FlooringBase);e.Portal=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(e){function n(n){var o=e.call(this,n)||this;return o.$element=n,o.$downloadButton=o.$element.find("[data-selector='download-button']"),o.$downloadButton.on("click",(function(){return jQuery(document).trigger(t.PressReleaseBody.addedEventName)})),o}return __extends(n,e),n}(e.FlooringBase);t.Hero=n}(e.PressReleaseDetail||(e.PressReleaseDetail={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(e){!function(t){var n=function(){e.Fancybox.init()};t.IncludedImages=n}(e.PressReleaseDetail||(e.PressReleaseDetail={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},function(e){!function(e){!function(e){!function(t){var n=function(t){function n(e,o){var r=t.call(this,e)||this;return r.$element=e,r.params=o,r.$downloadButton=r.$element.find("[data-selector='download-button']"),r.params.title=r.params.title.trim(),r.params.path="/"+r.params.title,jQuery(document).on(n.addedEventName,(function(){return r.addToDownload()})),r.$downloadButton.on("click",(function(){return jQuery(document).trigger(n.addedEventName)})),r}return __extends(n,t),n.prototype.addToDownload=function(){if(this.params.documentIds||this.params.imageIds){var t=__spreadArrays(this.params.documentIds||[],this.params.imageIds||[]);t.length&&e.AssetCart.instance.addAssets(t,this.params.path,this.params.url,!0)}},n.cookieName="MediaDownloadsCookie",n.addedEventName="press-release-added",n}(e.FlooringBase);t.PressReleaseBody=n}(e.PressReleaseDetail||(e.PressReleaseDetail={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(n){function o(r,i){var a=n.call(this,r)||this;return a.parm=i,a.infiniteScroll=i.disableLoadMore?null:new e.Unilin.InfiniteScroll({offset:0,loadMoreFunction:function(){return a.loadMore()},elementSelector:o.listId,namespace:"pressReleaseLister"}),a.viewModel=new t.Lister.ListerComponentVm(a.parm.knownQueryStrings,!i.disableLoadMore),a}return __extends(o,n),o.prototype.loadMore=function(){var e,n=this,r=jQuery.Deferred(),i=jQuery("#currentQuery"),a=jQuery("#nextPage"),s=jQuery("#pageSize"),l=jQuery("#totalPageGap");return 0===i.length||0===a.length||0===s.length||0===l.length?(this.infiniteScroll&&this.infiniteScroll.stopListening(),r.resolve()):(e={currentQuery:i.val(),pageNumber:a.val(),pageSize:s.val(),totalPageGap:l.val()},this.$http.post(this.parm.loadMoreUrl,e).fail((function(){return r.reject()})).done((function(e){var i=jQuery(o.listId).children().last();return jQuery(e.html).insertAfter(i),n.viewModel.updateHistoryWithQuery(!0,!0,e.json.queryUpdate),t.BlazyImage.revalidate(),window.polyFills&&window.polyFills.revalidateObjectFit(),e.json.isLastPage?n.infiniteScroll&&n.infiniteScroll.stopListening():jQuery("#nextPage").val(e.json.nextPage),r.resolve()})),r.promise())},o.listId="#pressReleaseList",o}(e.Unilin.BaseComponent);t.PressReleaseLister=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n,o){var r=t.call(this,n,o)||this;return r.$element=n,r.parm=o,r.viewModel=new e.Lister.ListerComponentWithFacetmapVm(o.query,o.facetMap,o.totalCount,o.updateUrl,e.PressReleaseLister.listId,r.infiniteScroll,o.knownQueryStrings),r.viewModel.updating=!0,ko.applyBindings(r.viewModel,n[0]),r.viewModel.updating=!1,r.$dropdowns=jQuery("[data-selector='dropdown']"),r.initOverviewEvents(),r.checkResponsiveness(),r}return __extends(n,t),n.prototype.initOverviewEvents=function(){var e=this;jQuery(document).on("click",(function(t){return e.closeDropdowns(t)})),jQuery.each(this.$dropdowns.find('[data-toggle="collapse"][data-mode="single"]'),(function(t,n){var o=jQuery(n).data("target");jQuery(o).find('input[type="radio"]').on("change",(function(t){var n='[data-target="#'+jQuery(t.currentTarget).closest('[data-selector="collapse-panel"]').prop("id")+'"]';e.$dropdowns.find(n).next('[data-selector="collapse-panel"]').collapse("hide")}))})),jQuery(window).on("resize",(function(){return e.checkResponsiveness()}))},n.prototype.closeDropdowns=function(e){var t=jQuery(e.target);this.$dropdowns.each((function(e,n){var o=jQuery(n),r=o.find('[data-toggle="collapse"]');o===t||o.has(t[0]).length||r.not(".collapsed").next('[data-selector="collapse-panel"]').collapse("hide")}))},n.prototype.checkResponsiveness=function(){void 0===this.responsiveState&&this.$element.find(".collapse").on("show.bs.collapse",(function(e){jQuery("#"+e.target.id).css("height","")})),window.innerWidth<e.BreakPoints.md&&!this.responsiveState?(this.$element.find("#filter-collapse").collapse("hide"),this.responsiveState=!0):window.innerWidth>=e.BreakPoints.md&&this.responsiveState&&(this.$element.find("#filter-collapse").collapse("show"),this.responsiveState=!1)},n}(e.PressReleaseLister);t.PressReleaseOverview=n}(e.PressReleaseOverview||(e.PressReleaseOverview={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(t){!function(t){var n=e.ScBase.Unilin.Toast,o=function(e,t){this.$element=e,""!=t.regionToastHtml&&n.show(t.regionToastHtml)};t.PCDisabledOrIncorrect=o}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){var o,r,i=t.Unilin.TagManagerModule.GTM,a=e.ScBase.Unilin.Toast,s=e.ScBase.Unilin.UnilinHelpers,l=function(){function e(){}return e.additionalServicePlaceholderSelector="[data-selector='additional-service-placeholder']",e.additionalServiceServiceSelector="[data-selector='additional-service']",e.additionalServiceServiceInputId="#additional-service",e.additionalServiceCheckedClass="ischecked",e.calculateButtonSelector="[data-selector='calculate']",e.changeProjectSelector="[data-selector='change-project']",e.cancelProjectSelector="[data-selector='cancel-project']",e.calculatorFormSelector="[data-selector='calculator-form']",e.blueprintFilterSelector="[data-selector='blueprint-filter']",e.ctaPanelSelector="[data-selector='cta-panel']",e.numberSurfaceInputSelector="[data-selector='number-input-surface']",e.numberLinearInputSelector="[data-selector='number-input-linear']",e.roomTypeSelector="[data-selector='roomtype-filter']",e.floorLevelSelector="[data-selector='floorlevel-filter']",e.surfaceFilterSelector="[data-selector='surface-filter']",e.boundsFilterSelector="[data-selector='bounds-filter']",e.productCardSelector="[data-selector='product-card']",e.productCardSelectableSelector="[data-selectable='True']",e.selectedProductSelector="[data-selected='True']",e.productSectionSelector="[data-selector='section']",e.productQuantitySelector="[data-selector='quantity']",e.productDisplayQuantitySelector="[data-selector='display-quantity']",e.productSelector="[data-selector='product-card']",e.overlaySelector="[data-selector='project-overlay']",e.readyFitServicePlaceholderSelector="[data-selector='ready-fit-placeholder']",e.readyFitServiceSelector="[data-selector='readyfit']",e.readyFitfixedCostsSelector="[type='radio']",e.sellThePackageServicePlaceholderSelector="[data-selector='sell-the-package-placeholder']",e.sellThePackageServiceSelector="[data-selector='sellthepackage']",e.addToCartButtonSelector="[data-selector='add-to-cart']",e.addQuoteButtonSelector="[data-selector='add-quote']",e.emailProjectButtonSelector="[data-selector='mail-me']",e.serviceAdditionalCostSelector="[data-selector='additional-cost']",e.servicefixedCostSelector="[data-selector='fixed-cost']",e.serviceFloorCodeData="floor-code",e.emailInputBoxSelector="#emailAddress",e.productsPanelSelector="#products-panel",e.blueprintContainerSelector="#blueprint",e.blueprintErrorBoxContainerSelector="#error-container",e.blueprintDataFloor="floor",e.blueprintDataUpdate="update",e.emailContainerSelector="#email-me",e.emailErrorBoxContainerSelector="#email-error-container",e.totalPriceSelector="#total-price",e.productDataCode="code",e.productDataOrderUnit="order-unit",e.productDataDisplayUnit="display-unit",e.productDataIsFloor="is-floor",e.productDataDisplayQuantity="display-quantity",e.productDataQuantity="quantity",e.productDataSelected="selected",e.productDataConversionFactor="conversion-factor",e.sectionDataRequired="required",e.sectionDataSingleSelect="single-select",e.quantitySelector="[data-selector='quantity']",e.displayQuantitySelector="[data-selector='display-quantity']",e.abandonProjectContainerSelector="[data-selector='abandon-project-warning']",e.allUnderlaysSelector="[data-selector='pc-all-underlays']",e.allUnderlaysPopupSelector="[data-selector='pc-underlays-popup']",e.allUnderlaysPopupCloseSelector="[data-selector='pc-underlays-close']",e.underlaySectionSelector="[data-selector='pc-underlay-section']",e.underlayFloorCodeData="floor-code",e.underlayCodeData="underlay-code",e.underlayConfirmButtonSelector="[data-selector='pc-underlays-confirm']",e.underlayConfirmWrapperSelector="[data-selector='pc-underlays-confirm-wrapper']",e.underlayProductSelector="[data-selector='pc-underlays-wrapper'] article",e.stateCartOrQuote="cart-or-quote",e}(),c=function(){function e(e){this.params=e}return e.prototype.storeBlueprintInformation=function(e){return window.$http.post(this.params.postBlueprintDataEndpoint,e)},e.prototype.updateCartData=function(e){return window.$http.post(this.params.updateCartDataEndpoint,e)},e.prototype.loadReadyFit=function(e){return window.$http.post(this.params.loadReadyFit,{floorCode:e})},e.prototype.updateReadyFit=function(e){return window.$http.post(this.params.updateReadyFit,e)},e.prototype.loadSellThePackage=function(e){return window.$http.post(this.params.loadSellThePackage,{floorCode:e})},e.prototype.updateSellThePackage=function(e){return window.$http.post(this.params.updateSellThePackage,e)},e.prototype.convertToCart=function(e){return window.$http.post(this.params.convertToCart,{overrideCurrentCart:e})},e.prototype.emailProject=function(e){return window.$http.postWithReCaptcha(this.params.emailCart,{emailAddress:e},"projectCalculator")},e.prototype.abandonProject=function(e){return window.$http.post(this.params.abandonCartEndPoint,{newCartId:e})},e.prototype.getAllUnderlays=function(e){return window.$http.post(this.params.getAllUnderlaysEndpoint,{floorCode:e})},e.prototype.loadAdditionalService=function(){return window.$http.get(this.params.loadAdditionalService,null)},e.prototype.updateAdditionalService=function(e){return window.$http.post(this.params.updateAdditionalService,e)},e}(),u=function(t,n){var o,r;this.$element=t,this.params=n,i.getInstance().registerVirtualPageview(this.params.registerStepZeroPageViewPath,this.params.registerStepZeroVirtualPageViewTitle),null===(o=e.ScBase.Features.GA4.GA4.getInstance())||void 0===o||o.pushVirtualPageEvent(this.params.registerStepZeroPageViewPath,this.params.registerStepZeroVirtualPageViewTitle),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushEvent(new p(this.params.registerStepZeroPageViewPath,this.params.registerStepZeroVirtualPageViewTitle,"0"))};n.ProjectCalculatorNoFloor=u;var p=function(e){function t(t,o,r){var i=e.call(this)||this;return i.virtual_page_title=t,i.virtual_page_url=o,i.project_calculator_step=r,i.event=n.GA4Constants.Events.PROJECT_CALCULATOR_INITIATED,i}return __extends(t,e),t}(t.Features.GA4.BaseEvent),d=function(e){function t(t,o,r,i,a,s,l,c){var u=e.call(this,t,o,r)||this;return u.room_circumference=Number(i.replace(/\D/g,"")),u.room_level=a,u.room_surface=Number(s.replace(/\D/g,"")),u.room_type=l,u.price=c,u.event=n.GA4Constants.Events.PROJECT_CALCULATOR_OFFER_CALCULATED,u}return __extends(t,e),t}(p),h=function(){function s(t,n){var r,a,s,u,h,f=this;this.$element=t,this.params=n,this.projectCalculatorStore=new c(n.projectCalculatorStoreSettings),h={projectQueryString:n.abandonCartQueryStringParameter,reinitProjectCalculatorFunction:function(e){e.json&&(f.$element.html(e.html),f.triggerProjectChanged(e.json.projectCount),f.loadElements(),f.loadServices(),f.init())},projectCalculator:t,projectCalculatorStore:this.projectCalculatorStore},this.abandonProjectToast=new o(h),this.loadElements(),this.bindEvents(),this.loadServices(),this.init(),this.$element.find(l.productsPanelSelector).length>0?(i.getInstance().registerVirtualPageview(this.params.registerStepTwoPageViewPath,this.params.registerStepTwoVirtualPageViewTitle),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent(this.params.registerStepTwoPageViewPath,this.params.registerStepTwoVirtualPageViewTitle),null===(a=e.ScBase.Features.GA4.GA4.getInstance())||void 0===a||a.pushEvent(new d(this.params.registerStepTwoPageViewPath,this.params.registerStepTwoVirtualPageViewTitle,"2",this.$element.find(l.boundsFilterSelector).text(),this.$element.find(l.floorLevelSelector).data("key"),this.$element.find(l.surfaceFilterSelector).text(),this.$element.find(l.roomTypeSelector).data("key"),this.$totalPrice.text()))):(i.getInstance().registerVirtualPageview(this.params.registerStepOnePageViewPath,this.params.registerStepOneVirtualPageViewTitle),null===(s=e.ScBase.Features.GA4.GA4.getInstance())||void 0===s||s.pushVirtualPageEvent(this.params.registerStepOnePageViewPath,this.params.registerStepOneVirtualPageViewTitle),null===(u=e.ScBase.Features.GA4.GA4.getInstance())||void 0===u||u.pushEvent(new p(this.params.registerStepOnePageViewPath,this.params.registerStepOneVirtualPageViewTitle,"1")))}return s.prototype.loadElements=function(){this.$totalPrice=this.$element.find(l.totalPriceSelector),this.$readyFit=this.$element.find(l.readyFitServicePlaceholderSelector),this.$sellThePackage=this.$element.find(l.sellThePackageServicePlaceholderSelector),this.$additionalService=this.$element.find(l.additionalServicePlaceholderSelector)},s.prototype.init=function(){t.Unilin.UnilinHelpers.initializePopovers(this.$element),n.Shared.Selectize.initializeAll(this.$element),this.params.state===l.stateCartOrQuote&&(this.serviceIsSelected(this.$readyFit)||this.serviceIsSelected(this.$sellThePackage)||this.$element.find(l.additionalServiceServiceSelector).hasClass(l.additionalServiceCheckedClass)?(this.toggleQuoteButton(!0),this.toggleShoppingCartButton(!1)):(this.toggleShoppingCartButton(!0),this.toggleQuoteButton(!1))),this.$element.find('[data-toggle="collapse"]').each((function(e,t){return n.FlooringHelpers.toggleSvgOnClassChange(jQuery(t),"collapsed","#minus-circle","#plus-circle")}))},s.prototype.bindEvents=function(){var e=this;this.$element.on("click",l.calculateButtonSelector,(function(t){return e.calculateBluePrint(t)})),this.$element.on("click",l.changeProjectSelector,(function(){return e.changeProject()})),this.$element.on("click",l.cancelProjectSelector,(function(){return e.cancelProject()})),this.$element.on("click",l.productCardSelectableSelector,(function(t){return e.selectProduct(t)})),this.$element.on("blur",l.numberLinearInputSelector,(function(t){return e.roundNumber(t)})),this.$element.on("blur",l.numberSurfaceInputSelector,(function(t){return e.roundNumber(t)})),this.$element.on("blur",l.productQuantitySelector+","+l.productDisplayQuantitySelector,(function(t){return e.updateQuantity(t)})),this.$element.on("click",l.readyFitServiceSelector,(function(t){return e.updateReadyFit(t)})),this.$element.on("change",l.readyFitfixedCostsSelector,(function(t){return e.updateReadyFitFixedService(t)})),this.$element.on("click",l.sellThePackageServiceSelector,(function(t){return e.updateSellThePackage(t)})),this.$element.on("click",l.addToCartButtonSelector,(function(){return e.convertCart(!1)})),this.$element.on("click",l.emailProjectButtonSelector,(function(){return e.emailProject()})),this.$element.on("click",l.addQuoteButtonSelector,(function(t){return e.registerQuoteGtm(t)})),this.$element.on("click",l.allUnderlaysSelector,(function(t){return e.showAllUnderlays(t)})),this.$element.on("click",l.additionalServiceServiceSelector,(function(t){return e.updateAdditionalService(t)}))},s.prototype.loadServices=function(){var e,t=this,n=this.$readyFit.length>0,o=this.$sellThePackage.length>0,r=this.$additionalService.length>0;(n||o||r)&&(n&&(e=this.$readyFit.data(l.serviceFloorCodeData),this.projectCalculatorStore.loadReadyFit(e).done((function(e){t.$readyFit.html(e),t.init()}))),o&&(e=this.$sellThePackage.data(l.serviceFloorCodeData),this.projectCalculatorStore.loadSellThePackage(e).done((function(e){t.$sellThePackage.html(e),t.init()}))),r&&this.projectCalculatorStore.loadAdditionalService().done((function(e){t.$additionalService.html(e),t.init()})))},s.prototype.roundNumber=function(e){var t=jQuery(e.currentTarget);t.val(Math.ceil(parseFloat(t.val())))},s.prototype.initBlueprintForm=function(){var e=this.$element.find(l.blueprintContainerSelector);e.length>0&&(this.blueprintForm=new r(e.find("form"),e.find(l.blueprintErrorBoxContainerSelector)))},s.prototype.initEmailForm=function(){var e=this.$element.find(l.emailContainerSelector);e.length>0&&(this.emailForm=new r(e.find("form"),e.find(l.emailErrorBoxContainerSelector)))},s.prototype.changeProject=function(){this.$element.find(l.blueprintFilterSelector).removeClass("show"),this.$element.find(l.ctaPanelSelector).removeClass("hidden"),this.$element.find(l.calculatorFormSelector).removeClass("hidden"),this.$element.find(l.overlaySelector).show()},s.prototype.cancelProject=function(){this.$element.find(l.ctaPanelSelector).addClass("hidden"),this.$element.find(l.calculatorFormSelector).addClass("hidden"),this.$element.find(l.blueprintFilterSelector).addClass("show"),this.$element.find(l.overlaySelector).hide()},s.prototype.selectProduct=function(e){var t,o,r,i,a,s=this;if(e.preventDefault(),!(t=jQuery(e.target)).is(l.productQuantitySelector+","+l.productDisplayQuantitySelector)){var c=jQuery(e.currentTarget),u=c.parents(l.productSectionSelector),p="True"===u.data(l.sectionDataSingleSelect),d="True"===u.data(l.sectionDataRequired),h="True"===c.data(l.productDataSelected);p&&h||(o=c.siblings(l.selectedProductSelector)).length<1&&d&&h||(n.FlooringHelpers.showFullScreenWaitPanel(!0),i=[],(r=this.getProductInformation(c,h))&&i.push(r),p&&o.length>0&&((a=this.getProductInformation(o,!0))&&i.push(a)),this.projectCalculatorStore.updateCartData(i).done((function(e){e.json.success?(s.updateCartDataResult(e),h&&o.length<1&&s.openCollapse(t),n.FlooringHelpers.hideWaitPanel()):s.showErrorToast(e.html)})).fail((function(){return s.showUnkownErrorToast()})))}},s.prototype.updateCartDataResult=function(e){this.$element.find(l.productsPanelSelector).html(e.html),this.$totalPrice.html(e.json.totalPrice),this.triggerProjectChanged(e.json.projectCount),this.init()},s.prototype.updateQuantity=function(e){var t,o,r,i,a,s=this,c=jQuery(e.target),u=c.parents(l.productSelector),p=n.FlooringHelpers.getFloatValue(u.data(l.productDataConversionFactor)),d=parseFloat(c.val()),h=parseFloat(c.data("val"));isNaN(d)||h==d||d<0||"True"===u.parents(l.productSectionSelector).data(l.sectionDataRequired)&&0===d?c.val(h):(n.FlooringHelpers.showFullScreenWaitPanel(!0),c.is(l.productQuantitySelector)?(o=Math.ceil(d),c.val(o),(t=u.find(l.productDisplayQuantitySelector)).length>0&&t.val(o*p)):(o=Math.ceil(d/p),u.find(l.productQuantitySelector).val(o),c.val(o*p)),r=this.getProductInformation(u,!1),i=[],r&&i.push(r),r.isFloor&&(a=this.$element.find(l.serviceAdditionalCostSelector),jQuery.each(a,(function(e,t){var n;jQuery(t).is(":checked")&&((n=s.getProductInformation(a,!0))&&(n.qty=r.qty,n.displayQty=r.displayQty,i.push(n)))}))),this.projectCalculatorStore.updateCartData(i).done((function(e){e.json.success?(s.$element.find(l.productsPanelSelector).html(e.html),s.$totalPrice.html(e.json.totalPrice),s.triggerProjectChanged(e.json.projectCount),r.isFloor&&s.loadServices(),s.init(),n.FlooringHelpers.hideWaitPanel()):s.showErrorToast(e.html)})).fail((function(){return s.showUnkownErrorToast()})))},s.prototype.calculateBluePrint=function(t){var o=this;if(this.initBlueprintForm(),this.blueprintForm.validationSummaryHelper.validate()){n.FlooringHelpers.showFullScreenWaitPanel(!0);var r=jQuery(t.target),a=r.data(l.blueprintDataFloor),s="True"===r.data(l.blueprintDataUpdate),c={};this.blueprintForm.validationSummaryHelper.$form.serializeArray().forEach((function(e){var t=e.name.split(".")[1];t&&(c[t]=e.value)})),this.projectCalculatorStore.storeBlueprintInformation({data:c,floor:a,update:s}).done((function(t){var r,a;t.json.success?(o.$element.html(t.html),o.triggerProjectChanged(t.json.projectCount),o.loadElements(),o.loadServices(),o.init(),s||(i.getInstance().registerVirtualPageview(o.params.registerStepTwoPageViewPath,o.params.registerStepTwoVirtualPageViewTitle),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent(o.params.registerStepTwoPageViewPath,o.params.registerStepTwoVirtualPageViewTitle)),null===(a=e.ScBase.Features.GA4.GA4.getInstance())||void 0===a||a.pushEvent(new d(o.params.registerStepTwoPageViewPath,o.params.registerStepTwoVirtualPageViewTitle,"2",o.$element.find(l.boundsFilterSelector).text(),o.$element.find(l.floorLevelSelector).data("key"),o.$element.find(l.surfaceFilterSelector).text(),o.$element.find(l.roomTypeSelector).data("key"),o.$totalPrice.text())),n.FlooringHelpers.hideWaitPanel()):o.showErrorToast(t.html)})).fail((function(){return o.showUnkownErrorToast()}))}},s.prototype.updateAdditionalService=function(e){var t,o=this,r=jQuery(l.additionalServiceServiceInputId,e.currentTarget);(!r||r.length<=0)&&this.showUnkownErrorToast(),t={shouldRemove:!!r.is(":checked")},n.FlooringHelpers.showFullScreenWaitPanel(!0),this.projectCalculatorStore.updateAdditionalService(t).done((function(i){i.json.success?(o.$totalPrice.html(""+i.json.totalPrice),o.triggerProjectChanged(i.json.projectCount),r.prop("checked",!t.shouldRemove),jQuery(e.currentTarget).toggleClass(l.additionalServiceCheckedClass),o.init(),n.FlooringHelpers.hideWaitPanel()):o.showErrorToast(i.html)})).fail((function(){return o.showUnkownErrorToast()}))},s.prototype.updateReadyFit=function(e){var t,o,r,i,a,s=this,c=jQuery(e.target);if(!(c.parents(l.servicefixedCostSelector).length>0)&&(c=jQuery(e.currentTarget),null!==(t=this.getAdditionalCost(c)))){if(o=[],t.is(":checked")){var u=this.$readyFit.find(l.readyFitfixedCostsSelector+":checked"),p=this.getProductInformation(t,!0,!0),d=this.getProductInformation(u,!0,!0);p&&o.push(p),d&&o.push(d)}else(p=this.getProductInformation(t,!1,!0))&&o.push(p),(i=(r=this.$readyFit.find(l.readyFitfixedCostsSelector)).find(":checked")).length<1&&(i=r.first()),(a=this.getProductInformation(i,!1,!0))&&o.push(a);n.FlooringHelpers.showFullScreenWaitPanel(!0),this.projectCalculatorStore.updateReadyFit(o).done((function(e){e.json.success?(s.$readyFit.html(e.html),s.$totalPrice.html(e.json.totalPrice),s.triggerProjectChanged(e.json.projectCount),s.init(),n.FlooringHelpers.hideWaitPanel()):s.showErrorToast(e.html)})).fail((function(){return s.showUnkownErrorToast()}))}},s.prototype.updateReadyFitFixedService=function(){var e=this,t=jQuery(l.readyFitfixedCostsSelector),o=[];t.each((function(t,n){var r=jQuery(n),i=e.getProductInformation(r,!r.is(":checked"),!0);i&&o.push(i)})),n.FlooringHelpers.showFullScreenWaitPanel(!0),this.projectCalculatorStore.updateReadyFit(o).done((function(t){t.json.success?(e.$readyFit.html(t.html),e.$totalPrice.html(t.json.totalPrice),e.triggerProjectChanged(t.json.projectCount),e.init(),n.FlooringHelpers.hideWaitPanel()):e.showErrorToast(t.html)})).fail((function(){return e.showUnkownErrorToast()}))},s.prototype.updateSellThePackage=function(e){var t,o,r=this,i=jQuery(e.currentTarget),a=this.getAdditionalCost(i);null!==a&&(t=[],(o=this.getProductInformation(a,a.is(":checked"),!0))&&t.push(o),n.FlooringHelpers.showFullScreenWaitPanel(!0),this.projectCalculatorStore.updateSellThePackage(t).done((function(e){e.json.success?(r.$sellThePackage.html(e.html),r.$totalPrice.html(e.json.totalPrice),r.triggerProjectChanged(e.json.projectCount),r.init(),n.FlooringHelpers.hideWaitPanel()):r.showErrorToast(e.html)})).fail((function(){return r.showUnkownErrorToast()})))},s.prototype.getProductInformation=function(e,t,n){var o;if(void 0===n&&(n=!1),!e||e.length<=0)return null;var r=e.data(l.productDataCode),i=e.data(l.productDataOrderUnit),a=e.data(l.productDataDisplayUnit),s="True"===e.data(l.productDataIsFloor);return t?{code:r,displayUnit:a,unit:i,qty:0,displayQty:0,isFloor:s}:n?(o=e.data(l.productDataDisplayQuantity),{code:r,displayUnit:a,unit:i,qty:e.data(l.productDataQuantity),displayQty:o,isFloor:s}):{code:r,displayUnit:a,unit:i,qty:e.find(l.quantitySelector).val(),isFloor:s}},s.prototype.convertCart=function(t){var o=this;n.FlooringHelpers.showFullScreenWaitPanel(!0),this.projectCalculatorStore.convertToCart(t).done((function(t){var r;t.json.success?(i.getInstance().registerVirtualPageview(o.params.addToCartVirtualPageViewPath,o.params.addToCartVirtualPageViewTitle),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent(o.params.addToCartVirtualPageViewPath,o.params.addToCartVirtualPageViewTitle),a.show(t.html,{primaryCallback:function(){window.location.href=o.params.shoppingCartPageUrl},secondaryCallback:function(e,t){return t.destroy()}}),n.ShoppingCartManager.triggerCartChanged(t.json.cartCount)):a.show(t.html,{primaryCallback:function(e,t){o.convertCart(!0),t.destroy()},secondaryCallback:function(e,t){return t.destroy()}}),t.json.removeFromCartEvent&&i.getInstance().registerEventOfType(t.json.removeFromCartEvent),t.json.addToCartEvent&&i.getInstance().registerEventOfType(t.json.addToCartEvent),t.json.cartCount&&n.ShoppingCartManager.triggerCartChanged(t.json.cartCount)})).always((function(){n.FlooringHelpers.hideWaitPanel()}))},s.prototype.emailProject=function(){var t,o=this;this.emailForm||this.initEmailForm(),this.emailForm.validationSummaryHelper.validate()&&(n.FlooringHelpers.showFullScreenWaitPanel(),t=this.emailForm.validationSummaryHelper.$form.find(l.emailInputBoxSelector).val(),this.projectCalculatorStore.emailProject(t).done((function(t){var r;t&&(t.json&&t.json.success&&(i.getInstance().registerVirtualPageview(o.params.mailVirtualPageViewPath,o.params.mailVirtualPageViewTitle),null===(r=e.ScBase.Features.GA4.GA4.getInstance())||void 0===r||r.pushVirtualPageEvent(o.params.mailVirtualPageViewPath,o.params.mailVirtualPageViewTitle),n.GA4.GA4Helpers.registerUserIdentified()),o.emailForm.validationSummaryHelper.$form.replaceWith(t.html))})).always((function(){return n.FlooringHelpers.hideWaitPanel()})))},s.prototype.serviceIsSelected=function(e){if(e.length<0)return!1;var t=this.getAdditionalCost(e);return null!==t&&t.is(":checked")},s.prototype.getAdditionalCost=function(e){if(e.length<=0)return null;var t=e.find(l.serviceAdditionalCostSelector);return t.length<=0?null:t},s.prototype.registerQuoteGtm=function(t){var n,o;t.preventDefault(),i.getInstance().registerVirtualPageview(this.params.registerQuoteVirtualPageViewPath,this.params.registerQuoteVirtualPageViewTitle),null===(n=e.ScBase.Features.GA4.GA4.getInstance())||void 0===n||n.pushVirtualPageEvent(this.params.registerQuoteVirtualPageViewPath,this.params.registerQuoteVirtualPageViewTitle),o=jQuery(t.target).attr("href"),window.location.href=o},s.prototype.toggleQuoteButton=function(e){this.toggleButton(e,l.addQuoteButtonSelector)},s.prototype.toggleShoppingCartButton=function(e){this.toggleButton(e,l.addToCartButtonSelector)},s.prototype.toggleButton=function(e,t){var n=this.$element.find(t);n.length<=0||n.toggle(e)},s.prototype.triggerProjectChanged=function(e){jQuery(document).trigger("project-changed",e);var t=new CustomEvent("project-changed-V2",{bubbles:!0,detail:e});document.dispatchEvent(t)},s.prototype.openCollapse=function(e){var t,n,o=e.parents("[aria-expanded]").attr("id");o&&(t=jQuery("#"+o),n=jQuery('[data-target="#'+o+'"]'),t.addClass("in"),t.attr("aria-expanded","true"),n.removeClass("collapsed"),n.attr("aria-expanded","true"))},s.prototype.showAllUnderlays=function(e){var t,o=this;e.preventDefault(),this.allUnderlaysPopup?this.allUnderlaysPopup.openPopup():(n.FlooringHelpers.showFullScreenWaitPanel(!0),t=this.$element.find(l.underlaySectionSelector).data(l.underlayFloorCodeData),this.projectCalculatorStore.getAllUnderlays(t).done((function(e){o.$element.append(e),o.allUnderlaysPopup=new n.Popup({popupContainer:l.allUnderlaysPopupSelector,closeButtonSelector:l.allUnderlaysPopupCloseSelector,closeOnClick:!0,disableScroll:!0}),o.allUnderlaysPopup.$popupContainer.on("click",l.underlayProductSelector,(function(e){return o.selectUnderlay(e)})),o.allUnderlaysPopup.$popupContainer.on("click",l.underlayConfirmButtonSelector,(function(e){return o.switchUnderlay(e)})),o.allUnderlaysPopup.openPopup(),n.BlazyImage.revalidate()})).always((function(){n.FlooringHelpers.hideWaitPanel()})))},s.prototype.switchUnderlay=function(e){var t=this;e.preventDefault(),n.FlooringHelpers.showFullScreenWaitPanel(!0);var o=this.$element.find(l.underlayProductSelector+".checked").parent().prev(l.productSelector),r=this.getProductInformation(o,!1);r.displayQty=o.data(l.productDataDisplayQuantity),r.qty=o.data(l.productDataQuantity);var i=this.$element.find(l.underlaySectionSelector+" [data-selected='True']").first(),a=this.getProductInformation(i,!0),s=[];r&&s.push(r),a&&s.push(a),this.projectCalculatorStore.updateCartData(s).done((function(e){e.json.success?(t.updateCartDataResult(e),n.FlooringHelpers.hideWaitPanel()):t.showErrorToast(e.html)})).always((function(){t.allUnderlaysPopup.closePopup()})).fail((function(){return t.showUnkownErrorToast()}))},s.prototype.selectUnderlay=function(e){e.preventDefault(),this.$element.find(l.underlayProductSelector).removeClass("checked"),jQuery(e.target).closest("article").addClass("checked"),this.$element.find(l.underlayConfirmWrapperSelector).removeClass("hidden")},s.prototype.showErrorToast=function(e){e&&""!=e||this.showUnkownErrorToast();var t={primaryCallback:function(){location.reload()},zindex:1e4};a.show(e,t)},s.prototype.showUnkownErrorToast=function(){if(""!=this.params.unknownErrorToastHtml){var e={primaryCallback:function(){location.reload()},zindex:1e4};a.show(this.params.unknownErrorToastHtml,e)}},s}();n.ProjectCalculator=h,o=function(){function e(e){this.abandonToastSettings=e,this.$warningMessageContainer=jQuery(l.abandonProjectContainerSelector,e.projectCalculator),this.init()}return e.prototype.init=function(){var e=this;this.$warningMessageContainer.length<=0||(n.FlooringHelpers.showFullScreenWaitPanel(!1),a.show(this.$warningMessageContainer.html(),{level:a.LEVEL_WARNING,zindex:a.HIGH_ZINDEX,timeout:0,primaryCallback:function(t,n){return e.abandonProject(t,n)},secondaryCallback:function(t,n){return e.keepCurrentProject(t,n)}}))},e.prototype.keepCurrentProject=function(e,t){this.removeQueryStringFromUrl(),t.destroy()},e.prototype.abandonProject=function(e,t){var o,r,i=this;n.FlooringHelpers.hideWaitPanel(),e.preventDefault(),o=window.location.href,(r=s.getQueryParameterByName(this.abandonToastSettings.projectQueryString,o))&&(n.FlooringHelpers.showFullScreenWaitPanel(!0),this.abandonToastSettings.projectCalculatorStore.abandonProject(r).done((function(e){i.abandonToastSettings.reinitProjectCalculatorFunction(e),t.destroy()})).always((function(){i.removeQueryStringFromUrl()})))},e.prototype.removeQueryStringFromUrl=function(){var e=window.location.href.split("?")[0];history.replaceState?(window.history.replaceState({path:e},document.title,e),n.FlooringHelpers.hideWaitPanel()):window.location.href=e},e}(),r=function(e,t){this.validationSummaryHelper=new n.ValidationSummaryHelper(e,t)}}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n,o,r,i,a=e.Unilin.Toast,s=function(){function e(){}return e.addToProjectSelector='[data-selector="add-to-project"]',e.continueToProjectSelector='[data-selector="continue-to-project"]',e}();t.ProjectCalculatorWidgetConstants=s,n=function(){function t(t,n,o){if(this.$addToProjectButton=t.find(s.addToProjectSelector),!this.$addToProjectButton.length)throw new Error("Selector not found "+s.addToProjectSelector+". \nProjectcalculator enabled but add to project button is not rendered.");if(this.$continueToCalculatorLink=t.find(s.continueToProjectSelector),!this.$continueToCalculatorLink.length)throw new Error("Selector not found "+s.continueToProjectSelector+". \nProjectcalculator enabled but continue to project button is not rendered.");this.productId=n,this.startProjectEndpoint=o,this.gtmInstance=e.Unilin.TagManagerModule.GTM.getInstance()}return t.prototype.setState=function(e){if(e)return this.$addToProjectButton.attr("disabled","disabled"),this.$addToProjectButton.hide(),this.$continueToCalculatorLink.show(),void(this.disabled=!0);this.$addToProjectButton.removeAttr("disabled"),this.$addToProjectButton.show(),this.$continueToCalculatorLink.hide(),this.disabled=!1},t.prototype.showToast=function(e,t){var n=this;this.toast=a.update(this.toast,e,{secondaryCallback:function(){return n.toast.destroy()},primaryCallback:t})},t.prototype.IsResultWithData=function(e){return void 0!==e.json},t}(),t.BaseProjectCalculatorWidget=n,o=function(n){function o(o,i,a){var s=n.call(this,o,i,a)||this,l=t.ProjectStore.current(),c=null!=l&&null!=l.floor,u=c&&l.floor.productId===s.productId;return s.setState(u),s.$addToProjectButton.on("click",(function(){if(!s.disabled){var t=c?{productId:l.floor.productId,hasCurrentProject:c}:{productId:s.productId,hasCurrentProject:c};window.$http.post(s.startProjectEndpoint,t).done((function(t){var n,o;t.json.success?t.json.isAbandonProjectToast?s.handleAbandonProject(t):(s.handleNewProject(t),o=t.json.addToProjectEventData,null===(n=e.Features.GA4.GA4.getInstance())||void 0===n||n.pushEvent(new r(o.id,o.name,o.brand,o.category,o.currencyCode,o.price.toString()))):s.showToast(t.html)}))}})),s}return __extends(o,n),o.prototype.handleNewProject=function(e){t.ProjectStore.save({floor:{productId:this.productId,quantity:1}}),this.setState(!0),e.json.addToProjectEventData&&this.gtmInstance.registerEventOfType(e.json.addToProjectEventData),this.showToast(e.html)},o.prototype.handleAbandonProject=function(e){var n=this;this.showToast(e.html,(function(o){o.preventDefault(),t.ProjectStore.save({floor:{productId:n.productId,quantity:1}});var r=jQuery(o.currentTarget).attr("href"),i=function(){r&&(window.location.href=r)},a=e.json.addToProjectEventData;a?(a.eventCallback=i,n.gtmInstance.registerEventOfType(a)):i()}))},o}(n),t.OldProjectCalculatorWidget=o,r=function(e){function n(n,o,r,i,a,s){var l=e.call(this)||this;return l.item_id=n,l.item_name=o,l.item_brand=r,l.item_category=i,l.currency=a,l.price=s,l.event=t.GA4Constants.Events.PROJECT_CALCULATOR_ITEM_ADDED,l}return __extends(n,e),n}(e.Features.GA4.BaseEvent),i=function(t){function n(n,o){var i=t.call(this,n,o.productId,o.startProjectEndpoint)||this;return i.hasCurrentProject=!1,i.productCode=o.productCode,i.abandonCurrentProjectEndpoint=o.abandonCurrentProjectEndpoint,window.$http.get(o.getCurrentFloorEndPoint,null).done((function(e){e&&(i.hasCurrentProject=!0),i.hasCurrentProject&&e===i.productCode?i.setState(!0):i.setState(!1)})).always((function(){i.$addToProjectButton.on("click",(function(){if(!i.disabled){var t={productId:i.productId,hasCurrentProject:i.hasCurrentProject};window.$http.post(i.startProjectEndpoint,t).done((function(t){var n,o;t.json.success?t.json.isAbandonProjectToast?i.handleAbandonProject(t):(i.handleNewProject(t),o=t.json.addToProjectEventData,null===(n=e.Features.GA4.GA4.getInstance())||void 0===n||n.pushEvent(new r(o.id,o.name,o.brand,o.category,o.currencyCode,o.price.toString()))):i.showToast(t.html)}))}}))})),i}return __extends(n,t),n.prototype.handleNewProject=function(e){jQuery(document).trigger("project-changed",1);var t=new CustomEvent("project-changed-V2",{bubbles:!0,detail:1});document.dispatchEvent(t),this.setState(!0),this.IsResultWithData(e)?(e.json&&this.gtmInstance.registerEventOfType(e.json.addToProjectEventData),this.showToast(e.html)):this.showToast(e)},n.prototype.handleAbandonProject=function(e){var t=this;this.showToast(e.html,(function(n){n.preventDefault();var o=function(){var o=jQuery(n.currentTarget).attr("href"),r=e.json.addToProjectEventData;r&&(r.eventCallback=function(){o&&(window.location.href=o)},r.eventTimeout=1500,t.gtmInstance.registerEventOfType(r))};window.$http.post(t.abandonCurrentProjectEndpoint,{productId:t.productId}).done((function(e){e.json.success?(jQuery(document).trigger("project-changed",1),o()):t.showToast(e.html)}))}))},n}(n),t.ProjectCalculatorWidget=i}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n,o){var r=t.call(this,n,"jsRangeDetail",'[data-selector="product-cards"]',!0)||this;return r.$element=n,r.params=o,r.floorAdvisor=new e.FloorAdvisorLinkUpdatable(o.floorAdvisorLink),e.FloorAdvisorManager.initButtonEvent(n,r.trackingLabel),r.isLoadMoreEnabled()&&r.initInfiniteScroll(r.params.updateUrl,"RangeDetail",(function(e){r.floorAdvisor.updateFloorAdvisorLink(e.json.floorAdvisorLink,!0)})),ko.applyBindings(r,r.$element[0]),r}return __extends(n,t),n}(t.ProductCardGrid);t.RangeDetail=n}(e.Commerce||(e.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(e){function t(t){var n=e.call(this,t,"jsRangeOverview")||this;return n.$element=t,n}return __extends(t,e),t}(e.FlooringBase);t.RangeOverview=n}(e.Commerce||(e.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n){var o=t.call(this,n,"jsRecommendedFloors",null,!0)||this;return o.$element=n,e.FloorAdvisorManager.initButtonEvent(n,o.trackingLabel),o}return __extends(n,t),n}(t.ProductCardGrid);t.RecommendedFloors=n}(e.Commerce||(e.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n){var o,r,i=t.call(this,n,"jsReferenceCaseDetails")||this;return i.$element=n,o=i.$element.find('[data-selector="sharing-button"]'),r=jQuery(o.attr("data-target")),o.on("click",(function(){return r.stop().fadeToggle(250)})),jQuery(document).on("click",(function(e){o.is(e.target)||o.has(e.target).length||r.fadeOut(250)})),e.FavoriteFloorsManager.initialize(n),i.$element.on("shown.bs.collapse shown.bs.tab",".collapse",(function(){e.BlazyImage.revalidate()})),i.$element.on("hidden.bs.collapse",".collapse",(function(e){jQuery(e.currentTarget).css("height","")})),i.$element.on("click","[role=tab]",(function(){return e.BlazyImage.revalidate()})),e.FlooringGtmHelpers.bindProductClickEvent(i.$element,i.trackingLabel),i}return __extends(n,t),n}(e.ComponentWithProductActions);e.ReferenceCaseDetail=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(n){function o(r,i){var a=n.call(this,r)||this;return a.parm=i,a.infiniteScroll=new e.Unilin.InfiniteScroll({offset:0,loadMoreFunction:function(){return a.loadMore()},elementSelector:o.listId,namespace:"referenceCaseLister"}),a.viewModel=new t.Lister.ListerComponentVm(a.parm.knownQueryStrings),a}return __extends(o,n),o.prototype.loadMore=function(){var e,n=this,r=jQuery.Deferred(),i=jQuery("#currentQuery"),a=jQuery("#nextPage"),s=jQuery("#pageSize"),l=jQuery("#totalPageGap");return 0===i.length||0===a.length||0===s.length||0===l.length?(this.infiniteScroll&&this.infiniteScroll.stopListening(),r.resolve()):(e={currentQuery:i.val(),pageNumber:a.val(),pageSize:s.val(),totalPageGap:l.val()},this.$http.post(this.parm.loadMoreUrl,e).fail((function(){return r.reject()})).done((function(e){var i=jQuery(o.listId).children().last();return jQuery(e.html).insertAfter(i),n.viewModel.updateHistoryWithQuery(!0,!0,e.json.queryUpdate),t.BlazyImage.revalidate(),window.polyFills&&window.polyFills.revalidateObjectFit(),e.json.isLastPage?n.infiniteScroll&&n.infiniteScroll.stopListening():jQuery("#nextPage").val(e.json.nextPage),r.resolve()})),r.promise())},o.listId="#referenceCaseList",o}(e.Unilin.BaseComponent);t.ReferenceCaseLister=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n,o){var r=t.call(this,n,o)||this;return r.parm=o,r.viewModel=new e.Lister.ListerComponentWithFacetmapVm(o.query,o.facetMap,o.totalCount,o.updateUrl,e.ReferenceCaseLister.listId,r.infiniteScroll,o.knownQueryStrings),r.viewModel.updating=!0,ko.applyBindings(r.viewModel,n[0]),r.viewModel.updating=!1,r.$dropdowns=jQuery("[data-selector='dropdown']"),r.initOverviewEvents(),r}return __extends(n,t),n.prototype.initOverviewEvents=function(){var e=this;jQuery(document).on("click",(function(t){return e.closeDropdowns(t)})),jQuery.each(this.$dropdowns.find('[data-toggle="collapse"][data-mode="single"]'),(function(t,n){var o=jQuery(n).data("target");jQuery(o).find('input[type="radio"]').on("change",(function(t){var n='[data-target="#'+jQuery(t.currentTarget).closest('[data-selector="collapse-panel"]').prop("id")+'"]';e.$dropdowns.find(n).trigger("click")}))}))},n.prototype.closeDropdowns=function(e){if(e)var t=jQuery(e.target);jQuery.each(this.$dropdowns,(function(e,n){var o=jQuery(n),r=o.find('[data-toggle="collapse"]');o===t||o.has(t[0]).length||r.not(".collapsed").trigger("click")}))},n}(e.ReferenceCaseLister);t.ReferenceCaseOverview=n}(e.ReferenceCaseOverview||(e.ReferenceCaseOverview={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){!function(n){var o=e.Unilin.Toast,r=function(){function e(e){this.regionServiceSettings=e}return e.prototype.SelectRegion=function(e){return window.$http.post(this.regionServiceSettings.selectRegionEndpoint,{selectedValue:e})},e}(),i=function(){function n(e,n){var o=this;this.settings=n,this.regionFooterLabel="[data-selector='open-region-modal']",this.gtmEvent="GAEvent",this.gtmCategory="region modal",this.gtmOpenAction="open",this.gtmChooseRegionAction="choose region",n.showAfterCookieBannerResponse?(jQuery(this.regionFooterLabel).hide(),t.Popup.loadAfterCookieConsent((function(){o.init(e,n)}),this.settings.cookieName)):this.init(e,n)}return n.prototype.waitForOneTrustAndShowRegionPopup=function(e,t){var n=this;window.OneTrust?window.OneTrust.OnConsentChanged((function(){return n.init(e,t)})):setTimeout((function(){return n.waitForOneTrustAndShowRegionPopup(e,t)}),500)},n.prototype.init=function(e,n){var i=this;""!==n.regionToastHtml&&(""!==n.newRegionKey?o.show(this.settings.regionToastHtml,{primaryCallback:function(){return i.setRegion(n.newRegionKey)},secondaryCallback:function(e,t){return t.destroy()}}):o.show(n.regionToastHtml)),this.regionSelectService=new r(n),t.Shared.Selectize.initializeAll(e),this.regionPopup=new t.Popup({popupContainer:e,openPopupSelector:this.regionFooterLabel,closeButtonSelector:"[data-selector='button-close']",closeOnClick:!0,disableScroll:!0,gtmEventOnPopupShown:{event:this.gtmEvent,category:this.gtmCategory,action:this.gtmOpenAction}}),this.regionPopup.$popupContainer.on("change","select",(function(e){return i.setRegion(e.target.value)})),this.initFooterSelectRegion()},n.prototype.initFooterSelectRegion=function(){var e,t="[data-selector='region-label']";jQuery(this.regionFooterLabel).show(),void 0!==(e=jQuery("meta[name='ecommerce-region']").attr("content"))&&""!==e?jQuery(t).html(this.settings.regionSelectedLabel.replace("{0}",e)):jQuery(t).html(this.settings.regionSelectLabel)},n.prototype.setRegion=function(e){var t=this;this.regionSelectService.SelectRegion(e).done((function(e){if(e.succeed)if(t.regionPopup.gtmInstance.isGtmLoaded()){var n={};n.event=t.gtmEvent,n.category=t.gtmCategory,n.action=t.gtmChooseRegionAction,n.label=e.gtmLabel,n.eventCallback=function(){t.refreshPage()},n.eventTimeout=1500,t.regionPopup.gtmInstance.registerEventOfType(n)}else t.refreshPage()}))},n.prototype.refreshPage=function(){var t=window.location.href;e.Unilin.UnilinHelpers.getQueryParameterByName(this.settings.regionQueryParameter,t)&&e.Unilin.UnilinHelpers.removeParametersFromQueryString([this.settings.regionQueryParameter]),window.location.reload()},n}();n.RegionPopup=i}(t.V1||(t.V1={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(t){!function(n){var o=function(e){function t(t,o,r){var i=e.call(this)||this;return i.brochure_type=t,i.floor_type=o,i.room_type=r,i.event=n.GA4Constants.Events.BROCHURE_REQUESTED,i}return __extends(t,e),t}(t.Features.GA4.BaseEvent),r=function(r){function i(e,o){var i=r.call(this,e,"jsrequestbrochures")||this;return i.$scope=e,i.params=o,i.$form=i.$scope.find("[data-selector=rb-form]"),i.$notificationBox=i.$scope.find("[data-selector=notification-placeholder]"),i.validate=function(){return i.validationSummaryHelper||(i.validationSummaryHelper=new n.ValidationSummaryHelper(i.$form,i.$form.find("[data-selector=error-box]"))),i.validationSummaryHelper.validate()},t.Unilin.UnilinHelpers.initializePopovers(i.$scope),n.Shared.Selectize.initializeAll(i.$scope),i.initElements(),i.initKnockout(),i}return __extends(i,r),i.prototype.onCheckBrochure=function(){var e=this.showForm();return this.showForm(this.getSelectedBrochures().length>0),this.isHardcopy(this.getSelectedBrochures(!0).length>0),this.validationSummaryHelper&&this.validationSummaryHelper.reset(),this.showForm()&&e!==this.showForm()&&t.Unilin.UnilinHelpers.scrollTo(this.$form.offset().top-120,"linear"),!0},i.prototype.submitForm=function(){var e,t,o,r=this;this.validate()?(e=this.getSubmitModel(),this.params.isMarketingAutomation?(t=new google.maps.Geocoder,o=n.FlooringHelpers.buildAddressFromUserData(e),n.FlooringHelpers.getLongLat(t,o).done((function(t){e.Latitude=r.numberFormatter.format(t[0].geometry.location.lat()),e.Longitude=r.numberFormatter.format(t[0].geometry.location.lng()),r.postModel(e)})).fail((function(){return r.postModel(e)}))):this.postModel(e)):this.$notificationBox.hide()},i.prototype.initElements=function(){this.$scope.find("[data-mask]").each((function(e,t){var n=jQuery(t);n.maskinput(n.data("mask").toString(),{placeholder:"_"})})),this.numberFormatter=new Intl.NumberFormat(this.contentLanguage,{style:"decimal",maximumFractionDigits:20})},i.prototype.initKnockout=function(){this.showForm=ko.observable(!1),this.isMarketingAutomation=ko.observable(this.params.isMarketingAutomation),this.isHardcopy=ko.observable(!1),ko.applyBindings(this,this.$scope[0])},i.prototype.getSubmitModel=function(){var e={};return this.$form.serializeArray().map((function(t){return e[t.name]=t.value})),e.BrochureDownloadIds=this.getSelectedBrochures(!1).map((function(e){return jQuery(e).data("id")})),e.BrochureHardcopyIds=this.getSelectedBrochures(!0).map((function(e){return jQuery(e).data("id")})),this.params.isMarketingAutomation&&(e.AcceptForm=this.$form.find("#AcceptForm:checked").length>0,e.RoomTypes=[],this.$form.find("select#RoomTypes option[selected=selected]").each((function(t,n){return e.RoomTypes.push(n.getAttribute("value"))})),e.Latitude=null,e.Longitude=null),e},i.prototype.postModel=function(r){var i=this;n.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.requestBrochureUrl,r,"requestBrochure").done((function(a){a&&(a.html&&n.FlooringHelpers.showNotification(i.$notificationBox,a.html),a.json&&a.json.success&&i.getSelectedBrochures().forEach((function(n){var a,s,l=jQuery(n);i.tagManager.registerEvent(i.trackingLabel,l.data("type"),l.data("name")),i.params.isMarketingAutomation?null===(a=t.Features.GA4.GA4.getInstance())||void 0===a||a.pushEvent(new o(l.data("type"),l.data("name"),r.RoomTypes)):null===(s=t.Features.GA4.GA4.getInstance())||void 0===s||s.pushEvent(new o(l.data("type"),l.data("name"),void 0)),e.ScBase.Flooring.GA4.GA4Helpers.registerUserIdentified()})))})).always((function(){n.FlooringHelpers.hideWaitPanel()}))},i.prototype.getSelectedBrochures=function(e){var t=null==e||null==e?null:e?"order":"download",n=null==t?"[data-selector=brochure] [type=checkbox]:checked":"[data-selector=brochure] [id^="+t+"][type=checkbox]:checked";return this.$scope.find(n).toArray()},i}(n.FlooringBase);n.RequestBrochure=r}(t.Flooring||(t.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(n){var o=function(n){function o(e,t){var o=n.call(this,e,"jsSearch",'[data-selector="product-cards"]',!0)||this;return o.$element=e,o.settings=t,o.initializeFields(t),o.initializeEvents(),o.initScrollToFixed(),o.initInfiniteScroll(o.settings.productLoadMoreUrl,"Search",null),o}return __extends(o,n),o.prototype.initializeFields=function(){this.$searchInput=this.$element.find('[data-selector="search-input"]').first(),this.$searchContainer=this.$element.find('[data-selector="search-container"]'),this.$searchResultDescription=this.$element.find('[data-selector="search-result-description"]'),this.$textWrapper=this.$searchContainer.find('[data-selector="Text-wrapper"]')},o.prototype.initializeEvents=function(){var e=this;this.$element.find("[data-selector='search-button']").on("click",(function(t){e.performSearch(t)})),this.$element.on("keyup","[data-selector='search-input']",(function(t){13===t.keyCode&&e.performSearch(t)})),this.$element.on("inview",'div[data-selector="load-more"]',(function(t){return e.loadMoreTextSearchResults(t)})),this.$element.on("click",".media-separator",(function(t){return e.onSeparatorClicked(t)})),this.settings.useSS360Search&&jQuery(document).on("ss360.init",(function(){e.initSS360Search()}))},o.prototype.initSS360Search=function(){var t,n=this,o=new Map;o["callbacks.postSearch"]=function(e){return n.postSearch(e.query,e.totalResults)},o["results.caption"]=null,o["results.group"]=!1,o["results.queryCorrectionText"]=null,o["results.showSearchBoxLayover"]=!1,o["results.linksOpenNewTab"]=!0,o["results.lazyLoadImages"]=!0,o["results.searchQueryParamName"]="FreeTextSearch",o["results.embedConfig.contentBlock"]='[data-selector="Text-wrapper"]',o["results.noResultsText"]=null,o["results.moreResultsPagingSize"]=this.settings.pageSize,this.settings.allowLoadMore?o["results.infiniteScroll"]=!0:o["results.num"]=this.settings.pageSize,jQuery(document).trigger("ss360.config.override",o),(!(t=e.Unilin.UnilinHelpers.getQueryParameterByName("FreeTextSearch",window.location.href))||t.length<3)&&this.postSearch(t,0)},o.prototype.initScrollToFixed=function(){var e=this.$element.find('[data-search="result-set"]'),t=e.length-1;e.each((function(e,n){if(0!==e){var o=jQuery(n).find(".media-separator").first();o.length>0&&o.scrollToFixed({bottom:46*(t-e),dontSetWidth:!0,limit:o.offset().top})}}))},o.prototype.performSearch=function(){var e,n=this;t.FlooringHelpers.showFullScreenWaitPanel(),e=this.$searchInput.val(),window.$http.post(this.settings.updateActionUrl,{freeTextSearch:e}).done((function(o){o&&o.json&&o.json.succeeded&&(null!=o.json.freeTextSearch&&n.showSearchResultDescription(o.json.freeTextSearch,o.json.totalResults),n.settings.useSS360Search?(n.$searchContainer.html(o.html),n.$searchContainer.find('[data-selector="Text-wrapper"]').replaceWith(n.$textWrapper),e&&e.length>=3?SS360.showResults(e):(n.postSearch(e,0),n.$textWrapper.find(".ss360-suggests").remove())):n.$searchContainer.html(o.html),t.BlazyImage.revalidate(),n.initInfiniteScroll(n.settings.productLoadMoreUrl,"Search",null),n.initScrollToFixed())})).always((function(){return t.FlooringHelpers.hideWaitPanel()}))},o.prototype.postSearch=function(e,t){var n=t+this.$element.find('[data-selector="product-card"]').length;0!=n?(this.$element.find('[data-selector="no-results-message"]').addClass("hidden"),this.$element.find('[data-search="result-set"]').show()):(this.$element.find('[data-selector="no-results-message"]').removeClass("hidden"),this.$element.find('[data-search="result-set"]').hide()),this.showSearchResultDescription(e,n),this.$textWrapper.find("li.ss360-suggests").each((function(e,t){jQuery(t).attr("data-webid","webpage-search-result-"+e)}))},o.prototype.showSearchResultDescription=function(e,t){this.$searchResultDescription.find("[data-selector=search-text]").html(e),this.$searchResultDescription.find("[data-selector=result-count]").html(t.toString()),this.$searchResultDescription.show()},o.prototype.loadMoreTextSearchResults=function(e){var t,n,o=this,r=jQuery(e.target);"load-more"===r.attr("data-selector")&&(r.attr("data-selector","load-more-result"),t=+jQuery("#textPageNumber").val()+1,n={searchText:this.$searchInput.val(),page:t},window.$http.post(this.settings.textSearchLoadMoreUrl,n).done((function(e){e&&(jQuery("#textPageNumber").val(t),o.addTextSearchResultItems(e))})))},o.prototype.addTextSearchResultItems=function(e){this.$element.find("[data-selector='loadmore-result']").remove(),jQuery(e).appendTo(this.$element.find("[data-selector='text-search-container']"))},o.prototype.onSeparatorClicked=function(t){var n,o,r=jQuery(t.target);r.length&&(r.parent("a")||r.hasClass("c-btn")||(r.hasClass("media-separator")||(r=r.parents(".media-separator")),(n=r.data("target"))&&(t.preventDefault(),o=this.$element.find('[data-selector="'+n+'"]').offset().top,e.Unilin.UnilinHelpers.scrollTo(o-120))))},o}(n.ProductCardGrid);n.Search=o}(t.Commerce||(t.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){!function(n){var o=function(n){function o(e,o){var r=n.call(this,e,"jsShowroomReservation")||this;return r.$element=e,r.params=o,r.computeHasNumber=function(){r.hasNumber(r.$phoneField.val().length>0||r.$landlineField.val().length>0)},r.initKnockout(),r.initJQueryElements(),r.initJQueryEvents(),r.calendar=new t.Calendar(r.$element,r.params.calendarSettings),ko.applyBindings(r,e[0]),r}return __extends(o,n),o.prototype.initKnockout=function(){this.acceptForm=ko.observable(!1),this.hasNumber=ko.observable(!1)},o.prototype.initJQueryElements=function(){t.Shared.Selectize.initializeAll(this.$element);var n=this.$element.find("#CountryCode").val();e.Unilin.IntlTelInput.initialize(this.$element.find("#Phone"),"MOBILE",n),e.Unilin.IntlTelInput.initialize(this.$element.find("#Landline"),"FIXED_LINE",n),this.$contactForm=this.$element.find("[data-selector=showroom-contact-form]"),this.$submitButton=this.$element.find("[data-selector=submit-form], [data-selector=step1Button]"),this.$errorBox=this.$element.find("div[data-selector=error-box]"),this.$phoneField=this.$element.find("#Phone"),this.$landlineField=this.$element.find("#Landline"),this.$notificationPlaceholder=this.$element.find("div[data-selector='notification-placeholder']"),e.Unilin.UnilinHelpers.initializePopovers(this.$contactForm),this.customValidation=new t.CustomValidationHelper(this.$element,this.$contactForm,this.$submitButton,this.$errorBox)},o.prototype.initJQueryEvents=function(){var e=this;t.FlooringHelpers.enableButtonBehaviorForDiv(jQuery(this.$element.find("a[data-selector='submit-form']")),(function(t){return e.submitButtonOnClick(t)})),this.handleMobileEvents(),this.computeHasNumber(),this.$phoneField.on("input",(function(){return e.computeHasNumber()})),this.$landlineField.on("input",(function(){return e.computeHasNumber()}))},o.prototype.getSubmitModel=function(){var e=this.$element.find("[data-selector=timeslot-form]"),t=parseInt(e.find("input:radio:checked").val()),n=new Date(this.calendar.selectedDate().date),o={Hours:this.calendar.getSelectedTimeslotHours(t),Day:n.getDate(),Month:n.getMonth()+1,Year:n.getFullYear()};return this.$contactForm.serializeArray().forEach((function(e){return o[e.name]=e.value})),o.AcceptForm=this.acceptForm(),o.RoomTypes=[],this.$element.find('select#RoomTypes option[selected="selected"]').each((function(e,t){return o.RoomTypes.push(t.getAttribute("value"))})),this.$phoneField.val().length>0&&this.$phoneField.intlTelInput("isValidNumber")&&(o.Phone=this.$phoneField.intlTelInput("getNumber")),this.$landlineField.val().length>0&&this.$landlineField.intlTelInput("isValidNumber")&&(o.Landline=this.$landlineField.intlTelInput("getNumber")),o},o.prototype.submitButtonOnClick=function(n){var o=this;n.preventDefault(),this.hideNotification(),this.$contactForm.valid()?(t.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.requestShowroomReservationUrl,this.getSubmitModel(),"showroomReservation").done((function(n){var r=t.FlooringHelpers.getJsonScript(n);r&&r.succeeded&&(o.$notificationPlaceholder=o.$element.find(".showroom-app"),o.registerEvent("Showroom","Booking"),o.hideNotification()),o.$notificationPlaceholder.html(n),o.$notificationPlaceholder.show(),e.Unilin.UnilinHelpers.scrollTo(o.$notificationPlaceholder.offset().top-100,500,null)})).always((function(){return t.FlooringHelpers.hideWaitPanel()}))):this.$errorBox.show()},o.prototype.hideNotification=function(){this.$notificationPlaceholder.html(""),this.$notificationPlaceholder.hide()},o.prototype.handleMobileEvents=function(){var n=this,r=this.$element.find("[data-selector='mobileStart']"),i=this.$element.find("[data-selector='step1']"),a=this.$element.find("[data-selector='step2']"),s=this.$element.find("[data-selector='step3']"),l=this.$element.find("[data-selector='makeReservation']"),c=this.$element.find("[data-selector='mobileNav']");r.find("[data-selector='startButton']").bind("click",(function(){r.addClass(o.hiddenXsCss),c.removeClass(o.hiddenXsCss),i.removeClass(o.hiddenXsCss),i.find("#FirstName").focus()})),i.find("[data-selector='step1Button']").bind("click",(function(){n.$contactForm.valid()||t.FlooringHelpers.toggleErrorBox(n.$errorBox),n.$errorBox.find("ul span").text().length<1?(i.addClass(o.hiddenXsCss),a.removeClass(o.hiddenXsCss),c.find(".step1").removeClass(o.currentCss).addClass(o.doneCss),c.find(".step2").addClass(o.currentCss)):e.Unilin.UnilinHelpers.scrollTo(n.$errorBox.offset().top-500,1e3)})),a.find("[data-selector='step2NextButton']").bind("click",(function(){s.find("[data-selector='timeslot-form']").children().length>0?(a.addClass(o.hiddenXsCss),s.removeClass(o.hiddenXsCss),l.removeClass(o.hiddenXsCss),c.find(".step2").removeClass(o.currentCss).addClass(o.doneCss),c.find(".step3").addClass(o.currentCss)):(t.FlooringHelpers.toggleErrorBox(n.$errorBox),e.Unilin.UnilinHelpers.scrollTo(n.$errorBox.offset().top-500,1e3))})),a.find("[data-selector='step2PreviousButton']").bind("click",(function(){a.addClass(o.hiddenXsCss),i.removeClass(o.hiddenXsCss),c.find(".step2").removeClass(o.currentCss).removeClass(o.doneCss),c.find(".step1").removeClass(o.doneCss).addClass(o.currentCss),t.FlooringHelpers.toggleErrorBox(n.$errorBox)})),l.find("[data-selector='step3PreviousButton']").bind("click",(function(){s.addClass(o.hiddenXsCss),l.addClass(o.hiddenXsCss),a.removeClass(o.hiddenXsCss),c.find(".step3").removeClass(o.currentCss).removeClass(o.doneCss),c.find(".step2").addClass(o.currentCss),t.FlooringHelpers.toggleErrorBox(n.$errorBox)}))},o.hiddenXsCss="hidden-xs",o.currentCss="current",o.doneCss="done",o}(t.FlooringBase);n.ShowroomReservation=o}(t.MarketingAutomation||(t.MarketingAutomation={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(t){var n=function(n){function o(e,o){var r=n.call(this,e,"jsShowroomReservation")||this;return r.$element=e,r.params=o,r.initJQueryElements(),r.initJQueryEvents(),r.params.calendarSettings.availableDays.length<=0&&r.$element.find("[data-selector=timeslot-form]").hide(),r.calendar=new t.Calendar(r.$element,r.params.calendarSettings),ko.applyBindings(r,e[0]),r}return __extends(o,n),o.prototype.initJQueryElements=function(){this.$contactForm=this.$element.find("[data-selector=showroom-contact-form]"),this.$errorBox=this.$element.find("div[data-selector=data-error-box]"),this.$desktopErrorBox=this.$element.find("div[data-selector=desktop-error-box]"),this.$mobileErrorBox=this.$element.find("div[data-selector=mobile-error-box]"),this.$notificationPlaceholder=this.$element.find("div[data-selector='notification-placeholder']")},o.prototype.initJQueryEvents=function(){var n=this;e.Unilin.UnilinHelpers.attachObserver(this.$errorBox,(function(){return n.toggleErrorBox()})),t.FlooringHelpers.enableButtonBehaviorForDiv(jQuery(this.$element.find("a[data-selector='submit-form']")),(function(e){return n.submitButtonOnClick(e)})),this.handleMobileEvents()},o.prototype.getSubmitModel=function(){var e=this.$element.find("[data-selector=timeslot-form]"),t=parseInt(e.find("input:radio:checked").val()),n=new Date(this.calendar.selectedDate().date),o={Hours:this.calendar.getSelectedTimeslotHours(t),Day:n.getDate(),Month:n.getMonth()+1,Year:n.getFullYear()};return this.$contactForm.serializeArray().forEach((function(e){return o[e.name]=e.value})),o},o.prototype.submitButtonOnClick=function(n){var o=this;n.preventDefault(),this.toggleErrorBox(),this.hideNotification(),this.$contactForm.valid()?(t.FlooringHelpers.showFullScreenWaitPanel(),window.$http.postAsFormDataWithReCaptcha(this.params.requestShowroomReservationUrl,this.getSubmitModel(),"showroomReservation").done((function(t){var n=JSON.parse(jQuery(t).filter("script[type=json]").text());n&&n.succeeded&&(o.$notificationPlaceholder=o.$element.find(".showroom-app"),o.registerEvent("Showroom","Booking"),o.hideNotification()),o.$notificationPlaceholder.html(t),o.$notificationPlaceholder.show(),e.Unilin.UnilinHelpers.scrollTo(o.$notificationPlaceholder.offset().top-100,500)})).always((function(){return t.FlooringHelpers.hideWaitPanel()}))):this.$errorBox.show()},o.prototype.hideNotification=function(){this.$notificationPlaceholder.html(""),this.$notificationPlaceholder.hide()},o.prototype.toggleErrorBox=function(e){void 0===e&&(e=void 0),null!=e?e?this.$errorBox.show():this.$errorBox.hide():this.$errorBox.find("ul span").text().length<1?this.$errorBox.hide():this.$errorBox.show(),this.$mobileErrorBox.is(":visible")&&this.$mobileErrorBox.html(this.$desktopErrorBox.html())},o.prototype.handleMobileEvents=function(){var t=this,n=this.$element.find("[data-selector='mobileStart']"),r=this.$element.find("[data-selector='step1']"),i=this.$element.find("[data-selector='step2']"),a=this.$element.find("[data-selector='step3']"),s=this.$element.find("[data-selector='makeReservation']"),l=this.$element.find("[data-selector='mobileNav']");n.find("[data-selector='startButton']").bind("click",(function(){n.addClass(o.hiddenXsCss),l.removeClass(o.hiddenXsCss),r.removeClass(o.hiddenXsCss),r.find("#FirstName").focus()})),r.find("[data-selector='step1Button']").bind("click",(function(){t.$contactForm.valid()||t.toggleErrorBox(!0),t.$errorBox.find("ul span").text().length<1?(r.addClass(o.hiddenXsCss),i.removeClass(o.hiddenXsCss),l.find(".step1").removeClass(o.currentCss).addClass(o.doneCss),l.find(".step2").addClass(o.currentCss)):e.Unilin.UnilinHelpers.scrollTo(t.$mobileErrorBox.offset().top-500,1e3)})),i.find("[data-selector='step2NextButton']").bind("click",(function(){a.find("[data-selector='timeslot-form']").children().length>0?(t.toggleErrorBox(),i.addClass(o.hiddenXsCss),a.removeClass(o.hiddenXsCss),s.removeClass(o.hiddenXsCss),l.find(".step2").removeClass(o.currentCss).addClass(o.doneCss),l.find(".step3").addClass(o.currentCss)):(t.toggleErrorBox(!0),e.Unilin.UnilinHelpers.scrollTo(t.$mobileErrorBox.offset().top-500,1e3))})),i.find("[data-selector='step2PreviousButton']").bind("click",(function(){i.addClass(o.hiddenXsCss),r.removeClass(o.hiddenXsCss),l.find(".step2").removeClass(o.currentCss).removeClass(o.doneCss),l.find(".step1").removeClass(o.doneCss).addClass(o.currentCss)})),s.find("[data-selector='step3PreviousButton']").bind("click",(function(){a.addClass(o.hiddenXsCss),s.addClass(o.hiddenXsCss),i.removeClass(o.hiddenXsCss),l.find(".step3").removeClass(o.currentCss).removeClass(o.doneCss),l.find(".step2").addClass(o.currentCss)}))},o.hiddenXsCss="hidden-xs",o.currentCss="current",o.doneCss="done",o}(t.FlooringBase);t.ShowroomReservation=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(t,n){n.isPageEditingMode||new e.Unilin.Slick(t.find('[data-webid="simpleCarousel"]'),{useCSS:!1,lazyLoad:"progressive",adjustArrows:!1,supportMobileImages:!0,arrows:!0,adjustArrowsSelector:"img",slidesToShow:1,responsive:[{breakpoint:window.breakpoints.small,settings:{adjustArrows:!0,adaptiveHeight:!1}},{breakpoint:window.breakpoints.medium,settings:{adjustArrows:!0,adaptiveHeight:!1}}],autoplay:!n.isVisualTestingMode&&n.autoScroll,autoplaySpeed:n.scrollSpeed}).$slick.resize()};t.SimpleCarousel=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),function(e){!function(e){!function(t){var n=function(t){this.$element=t,e.Unilin.UnilinHelpers.initializePopovers(t)};t.StockCacheLevel=n}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){!function(t){var n=function(t){function n(n,o){var r=t.call(this,n,"jsTaggedFloorLister",'[data-selector="product-cards"]',!0)||this;return r.$element=n,r.params=o,r.floorAdvisor=new e.FloorAdvisorLinkUpdatable(r.params.floorAdvisorLink),e.FloorAdvisorManager.initButtonEvent(n,r.trackingLabel),r.initInfiniteScroll(r.params.updateUrl,"TaggedFloorLister",(function(e){r.floorAdvisor.updateFloorAdvisorLink(e.json.floorAdvisorLink,!0)})),ko.applyBindings(r,r.$element[0]),r}return __extends(n,t),n}(t.ProductCardGrid);t.TaggedFloorLister=n}(e.Commerce||(e.Commerce={}))}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(t){function n(n){var o=t.call(this,n,"jsunsubscribe")||this;o.$element=n;var r=jQuery('[data-selector="unsubscribe-form"]'),i=o.$element.find("input[data-selector='submit']"),a=o.$element.find("[data-selector='error-box']");return o.customValidation=new e.CustomValidationHelper(n,r,i,a),o}return __extends(n,t),n}(e.FlooringBase);e.Unsubscribe=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={})),__extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),function(e){!function(e){!function(e){var t=function(e){function t(t){var n=e.call(this,t,"jsvideolister")||this;return n.$element=t,n.$videoPlayer=n.$element.find("[data-selector='video-player']"),t.on("click","a[data-selector='video-item']",(function(e){return n.videoItemOnClick(e)})),n}return __extends(t,e),t.prototype.videoItemOnClick=function(e){e.preventDefault();var t=jQuery(e.target).closest("[data-selector='video-item']").data("video-source");t&&this.$videoPlayer.attr("src",t)[0].scrollIntoView({behavior:"smooth"}),this.registerEvent("video-clicked")},t}(e.FlooringBase);e.VideoLister=t}(e.Flooring||(e.Flooring={}))}(e.ScBase||(e.ScBase={}))}(Dlw||(Dlw={}));